import{a as se}from"./chunk-4S5TJBEN.js";import{a as ye}from"./chunk-TOW6ZQVC.js";import{a as xe}from"./chunk-DKP4YRJ3.js";import{a as we}from"./chunk-WKGOW2EQ.js";import{a as ie,f as Me,g as Pe}from"./chunk-2WY2EBCY.js";import{l as ee,m as at,n as Ce,o as Se}from"./chunk-ZLFLUCYU.js";import{a as le,b as de,c as ce,d as me,e as pe,f as ge,g as ue,h as he,i as _e,j as fe,k as be,l as ve}from"./chunk-CWWPZGSV.js";import"./chunk-2DG3KHRH.js";import{H as it,I as Kt,L as Jt,M as te,r as At,s as Ft,t as Gt,u as qt}from"./chunk-7WEUQ37Z.js";import{$b as Bt,$c as Ut,Aa as St,Cb as j,Da as L,Fa as R,Fc as Nt,Ga as wt,Hc as $t,Ka as x,La as u,Ma as h,Na as Z,Oa as W,P as G,Pa as K,Pc as jt,Q as E,Qa as g,R as A,Ra as l,Rc as Xt,Sa as d,Sb as I,T as m,Ta as C,Ua as D,Ub as P,Va as z,Vb as T,W as b,Wa as O,X as v,Xa as Mt,Xc as Yt,Y as B,Ya as Pt,Z as bt,_a as y,_c as J,ab as _,ac as Ot,ca as vt,cb as s,da as q,db as kt,ea as U,eb as Dt,fa as xt,fc as Et,gb as ot,ha as Q,hb as st,ib as lt,id as Qt,j as $,jd as Zt,k as gt,l as Y,mb as zt,md as tt,nb as dt,nd as Wt,ob as M,od as et,pa as r,pb as It,qb as c,qc as Lt,qd as ae,r as ut,rb as H,rd as ne,s as ht,sa as yt,sb as f,ta as Ct,tb as Tt,tc as Rt,td as re,uc as Ht,vc as Vt,w as _t,wd as oe,x as ft,ya as k,za as F}from"./chunk-MW253N2G.js";var Ae=["mat-sort-header",""],Fe=["*"];function Le(e,o){e&1&&(D(0,"div",2),B(),D(1,"svg",3),O(2,"path",4),z()())}var ke=new A("MAT_SORT_DEFAULT_OPTIONS"),X=(()=>{class e{_defaultOptions;_initializedStream=new Y(1);sortables=new Map;_stateChanges=new $;active;start="asc";get direction(){return this._direction}set direction(t){this._direction=t}_direction="";disableClear;disabled=!1;sortChange=new R;initialized=this._initializedStream;constructor(t){this._defaultOptions=t}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let i=t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,a=Re(t.start||this.start,i),n=a.indexOf(this.direction)+1;return n>=a.length&&(n=0),a[n]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(i){return new(i||e)(Ct(ke,8))};static \u0275dir=St({type:e,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",P],disabled:[2,"matSortDisabled","disabled",P]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[xt]})}return e})();function Re(e,o){let t=["asc","desc"];return e=="desc"&&t.reverse(),o||t.push(""),t}var nt=(()=>{class e{changes=new $;static \u0275fac=function(i){return new(i||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function He(e){return e||new nt}var Ve={provide:nt,deps:[[new q,new U,nt]],useFactory:He},De=(()=>{class e{_intl=m(nt);_sort=m(X,{optional:!0});_columnDef=m("MAT_SORT_HEADER_COLUMN_DEF",{optional:!0});_changeDetectorRef=m(I);_focusMonitor=m(Nt);_elementRef=m(Q);_ariaDescriber=m(Yt,{optional:!0});_renderChanges;_animationsDisabled=Zt();_recentlyCleared=vt(null);_sortButton;id;arrowPosition="after";start;disabled=!1;get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}_sortActionDescription="Sort";disableClear;constructor(){m($t).load(Ut);let t=m(ke,{optional:!0});this._sort,t?.arrowPosition&&(this.arrowPosition=t?.arrowPosition)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._sort.register(this),this._renderChanges=_t(this._sort._stateChanges,this._sort.sortChange).subscribe(()=>this._changeDetectorRef.markForCheck()),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(()=>this._recentlyCleared.set(null))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._renderChanges?.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_toggleOnInteraction(){if(!this._isDisabled()){let t=this._isSorted(),i=this._sort.direction;this._sort.sort(this),this._recentlyCleared.set(t&&!this._isSorted()?i:null)}}_handleKeydown(t){(t.keyCode===32||t.keyCode===13)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=k({type:e,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(i,a){i&1&&_("click",function(){return a._toggleOnInteraction()})("keydown",function(p){return a._handleKeydown(p)})("mouseleave",function(){return a._recentlyCleared.set(null)}),i&2&&(x("aria-sort",a._getAriaSortAttribute()),M("mat-sort-header-disabled",a._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",P],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",P]},exportAs:["matSortHeader"],attrs:Ae,ngContentSelectors:Fe,decls:4,vars:17,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],["viewBox","0 -960 960 960","focusable","false","aria-hidden","true"],["d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"]],template:function(i,a){i&1&&(kt(),D(0,"div",0)(1,"div",1),Dt(2),z(),u(3,Le,3,0,"div",2),z()),i&2&&(M("mat-sort-header-sorted",a._isSorted())("mat-sort-header-position-before",a.arrowPosition==="before")("mat-sort-header-descending",a._sort.direction==="desc")("mat-sort-header-ascending",a._sort.direction==="asc")("mat-sort-header-recently-cleared-ascending",a._recentlyCleared()==="asc")("mat-sort-header-recently-cleared-descending",a._recentlyCleared()==="desc")("mat-sort-header-animations-disabled",a._animationsDisabled),x("tabindex",a._isDisabled()?null:0)("role",a._isDisabled()?null:"button"),r(3),h(a._renderArrow()?3:-1))},styles:[`.mat-sort-header{cursor:pointer}.mat-sort-header-disabled{cursor:default}.mat-sort-header-container{display:flex;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}@keyframes _mat-sort-header-recently-cleared-ascending{from{transform:translateY(0);opacity:1}to{transform:translateY(-25%);opacity:0}}@keyframes _mat-sort-header-recently-cleared-descending{from{transform:translateY(0) rotate(180deg);opacity:1}to{transform:translateY(25%) rotate(180deg);opacity:0}}.mat-sort-header-arrow{height:12px;width:12px;position:relative;transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1),opacity 225ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;overflow:visible;color:var(--mat-sort-arrow-color, var(--mat-sys-on-surface))}.mat-sort-header.cdk-keyboard-focused .mat-sort-header-arrow,.mat-sort-header.cdk-program-focused .mat-sort-header-arrow,.mat-sort-header:hover .mat-sort-header-arrow{opacity:.54}.mat-sort-header .mat-sort-header-sorted .mat-sort-header-arrow{opacity:1}.mat-sort-header-descending .mat-sort-header-arrow{transform:rotate(180deg)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transform:translateY(-25%)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-ascending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-recently-cleared-descending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-descending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-animations-disabled .mat-sort-header-arrow{transition-duration:0ms;animation-duration:0ms}.mat-sort-header-arrow svg{width:24px;height:24px;fill:currentColor;position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;transform:translateZ(0)}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}
`],encapsulation:2,changeDetection:0})}return e})(),ze=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=F({type:e});static \u0275inj=E({providers:[Ve],imports:[J]})}return e})();function $e(e,o){e&1&&O(0,"div",2)}var je=new A("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Te=(()=>{class e{_elementRef=m(Q);_ngZone=m(wt);_changeDetectorRef=m(I);_renderer=m(yt);_cleanupTransitionEnd;constructor(){let t=Qt(),i=m(je,{optional:!0});this._isNoopAnimation=t==="di-disabled",t==="reduced-motion"&&this._elementRef.nativeElement.classList.add("mat-progress-bar-reduced-motion"),i&&(i.color&&(this.color=this._defaultColor=i.color),this.mode=i.mode||this.mode)}_isNoopAnimation;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;_defaultColor="primary";get value(){return this._value}set value(t){this._value=Ie(t||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=Ie(t||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new R;get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=t=>{this.animationEnd.observers.length===0||!t.target||!t.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(i){return new(i||e)};static \u0275cmp=k({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,a){i&2&&(x("aria-valuenow",a._isIndeterminate()?null:a.value)("mode",a.mode),It("mat-"+a.color),M("_mat-animation-noopable",a._isNoopAnimation)("mdc-linear-progress--animation-ready",!a._isNoopAnimation)("mdc-linear-progress--indeterminate",a._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",T],bufferValue:[2,"bufferValue","bufferValue",T],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,a){i&1&&(D(0,"div",0),O(1,"div",1),u(2,$e,1,0,"div",2),z(),D(3,"div",3),O(4,"span",4),z(),D(5,"div",5),O(6,"span",4),z()),i&2&&(r(),dt("flex-basis",a._getBufferBarFlexBasis()),r(),h(a.mode==="buffer"?2:-1),r(),dt("transform",a._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{--mat-progress-bar-animation-multiplier: 1;display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mat-progress-bar-reduced-motion{--mat-progress-bar-animation-multiplier: 2}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mat-progress-bar-track-height, 4px),var(--mat-progress-bar-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mat-progress-bar-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mat-progress-bar-track-height, 4px);border-radius:var(--mat-progress-bar-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mat-progress-bar-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return e})();function Ie(e,o=0,t=100){return Math.max(o,Math.min(t,e))}var Be=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=F({type:e});static \u0275inj=E({imports:[J]})}return e})();function Ye(e,o){if(e&1&&(l(0,"mat-option",17),c(1),d()),e&2){let t=o.$implicit;g("value",t),r(),f(" ",t," ")}}function Ge(e,o){if(e&1){let t=y();l(0,"mat-form-field",14)(1,"mat-select",16,0),_("selectionChange",function(a){b(t);let n=s(2);return v(n._changePageSize(a.value))}),W(3,Ye,2,2,"mat-option",17,Z),d(),l(5,"div",18),_("click",function(){b(t);let a=zt(2);return v(a.open())}),d()()}if(e&2){let t=s(2);g("appearance",t._formFieldAppearance)("color",t.color),r(),g("value",t.pageSize)("disabled",t.disabled)("aria-labelledby",t._pageSizeLabelId)("panelClass",t.selectConfig.panelClass||"")("disableOptionCentering",t.selectConfig.disableOptionCentering),r(2),K(t._displayedPageSizeOptions)}}function qe(e,o){if(e&1&&(l(0,"div",15),c(1),d()),e&2){let t=s(2);r(),H(t.pageSize)}}function Ue(e,o){if(e&1&&(l(0,"div",3)(1,"div",13),c(2),d(),u(3,Ge,6,7,"mat-form-field",14),u(4,qe,2,1,"div",15),d()),e&2){let t=s();r(),x("id",t._pageSizeLabelId),r(),f(" ",t._intl.itemsPerPageLabel," "),r(),h(t._displayedPageSizeOptions.length>1?3:-1),r(),h(t._displayedPageSizeOptions.length<=1?4:-1)}}function Qe(e,o){if(e&1){let t=y();l(0,"button",19),_("click",function(){b(t);let a=s();return v(a._buttonClicked(0,a._previousButtonsDisabled()))}),B(),l(1,"svg",8),C(2,"path",20),d()()}if(e&2){let t=s();g("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("disabled",t._previousButtonsDisabled())("tabindex",t._previousButtonsDisabled()?-1:null),x("aria-label",t._intl.firstPageLabel)}}function Ze(e,o){if(e&1){let t=y();l(0,"button",21),_("click",function(){b(t);let a=s();return v(a._buttonClicked(a.getNumberOfPages()-1,a._nextButtonsDisabled()))}),B(),l(1,"svg",8),C(2,"path",22),d()()}if(e&2){let t=s();g("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("disabled",t._nextButtonsDisabled())("tabindex",t._nextButtonsDisabled()?-1:null),x("aria-label",t._intl.lastPageLabel)}}var rt=(()=>{class e{changes=new $;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(t,i,a)=>{if(a==0||i==0)return`0 of ${a}`;a=Math.max(a,0);let n=t*i,p=n<a?Math.min(n+i,a):n+i;return`${n+1} \u2013 ${p} of ${a}`};static \u0275fac=function(i){return new(i||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function We(e){return e||new rt}var Ke={provide:rt,deps:[[new q,new U,rt]],useFactory:We},Je=50;var ti=new A("MAT_PAGINATOR_DEFAULT_OPTIONS"),mt=(()=>{class e{_intl=m(rt);_changeDetectorRef=m(I);_formFieldAppearance;_pageSizeLabelId=m(Xt).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new Y(1);color;get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(t||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(t){this._length=t||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(t||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(i=>T(i,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new R;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let t=this._intl,i=m(ti,{optional:!0});if(this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),i){let{pageSize:a,pageSizeOptions:n,hidePageSize:p,showFirstLastButtons:S}=i;a!=null&&(this._pageSize=a),n!=null&&(this._pageSizeOptions=n),p!=null&&(this.hidePageSize=p),S!=null&&(this.showFirstLastButtons=S)}this._formFieldAppearance=i?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let t=this.getNumberOfPages()-1;return this.pageIndex<t&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){let i=this.pageIndex*this.pageSize,a=this.pageIndex;this.pageIndex=Math.floor(i/t)||0,this.pageSize=t,this._emitPageEvent(a)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Je),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,i)=>t-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(t){let i=this.pageIndex;t!==i&&(this.pageIndex=t,this._emitPageEvent(i))}_buttonClicked(t,i){i||this._navigate(t)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=k({type:e,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",T],length:[2,"length","length",T],pageSize:[2,"pageSize","pageSize",T],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",P],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",P],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",P]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(i,a){i&1&&(l(0,"div",1)(1,"div",2),u(2,Ue,5,4,"div",3),l(3,"div",4)(4,"div",5),c(5),d(),u(6,Qe,3,5,"button",6),l(7,"button",7),_("click",function(){return a._buttonClicked(a.pageIndex-1,a._previousButtonsDisabled())}),B(),l(8,"svg",8),C(9,"path",9),d()(),bt(),l(10,"button",10),_("click",function(){return a._buttonClicked(a.pageIndex+1,a._nextButtonsDisabled())}),B(),l(11,"svg",8),C(12,"path",11),d()(),u(13,Ze,3,5,"button",12),d()()()),i&2&&(r(2),h(a.hidePageSize?-1:2),r(3),f(" ",a._intl.getRangeLabel(a.pageIndex,a.pageSize,a.length)," "),r(),h(a.showFirstLastButtons?6:-1),r(),g("matTooltip",a._intl.previousPageLabel)("matTooltipDisabled",a._previousButtonsDisabled())("disabled",a._previousButtonsDisabled())("tabindex",a._previousButtonsDisabled()?-1:null),x("aria-label",a._intl.previousPageLabel),r(3),g("matTooltip",a._intl.nextPageLabel)("matTooltipDisabled",a._nextButtonsDisabled())("disabled",a._nextButtonsDisabled())("tabindex",a._nextButtonsDisabled()?-1:null),x("aria-label",a._intl.nextPageLabel),r(3),h(a.showFirstLastButtons?13:-1))},dependencies:[it,Me,ie,tt,ee],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height: var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding: var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return e})(),Oe=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=F({type:e});static \u0275inj=E({providers:[Ke],imports:[et,Pe,at,mt]})}return e})();var ii=["paginator"],ai=()=>[""],ni=()=>["/animal_magnetism"],ri=()=>["/search"],oi=()=>[];function si(e,o){if(e&1&&(l(0,"mat-icon"),c(1),d()),e&2){let t=s(3);r(),f(" ",(t.sort==null?null:t.sort.direction)==="asc"?"arrow_upward":"arrow_downward"," ")}}function li(e,o){if(e&1){let t=y();l(0,"button",20),_("click",function(){let a=b(t).$implicit,n=s(2);return v(n.setSort(a))}),c(1),L(2,si,2,1,"mat-icon",21),d()}if(e&2){let t=o.$implicit,i=s(2);g("color",(i.sort==null?null:i.sort.active)===t?"primary":void 0),r(),f(" ",i.getHeaderLabel(t)," "),r(),g("ngIf",(i.sort==null?null:i.sort.active)===t)}}function di(e,o){if(e&1&&(l(0,"div",18),L(1,li,3,3,"button",19),d()),e&2){let t=s();r(),g("ngForOf",t.displayedColumns)}}function ci(e,o){if(e&1&&(l(0,"div",13),C(1,"mat-progress-spinner",22),l(2,"div",23),c(3),d()()),e&2){let t=s();r(3),f(" ",t.loadingMessage," ")}}function mi(e,o){if(e&1&&(l(0,"th",31),c(1),d()),e&2){let t=s().$implicit,i=s(2);r(),f(" ",i.getHeaderLabel(t)," ")}}function pi(e,o){if(e&1){let t=y();l(0,"span",35),_("click",function(){b(t);let a=s(3).$implicit,n=s(3);return v(n.onItemClick(a.author.id))}),c(1),d()}if(e&2){let t=s(3).$implicit,i=s(3);M("clicked",i.clickedItemId===t.author.id),r(),f(" ",t.author.label," ")}}function gi(e,o){if(e&1&&c(0),e&2){let t=s(3).$implicit;f(" ",t.author.label," ")}}function ui(e,o){if(e&1&&u(0,pi,2,3,"span",34)(1,gi,1,1),e&2){let t=s(2).$implicit;h(t.author!=null&&t.author.id?0:1)}}function hi(e,o){e&1&&(l(0,"span",33),c(1,"[Inconnu]"),d())}function _i(e,o){if(e&1&&u(0,ui,2,1)(1,hi,2,0,"span",33),e&2){let t=s().$implicit;h(t.author?0:1)}}function fi(e,o){if(e&1){let t=y();l(0,"span",35),_("click",function(){b(t);let a=s(3).$implicit,n=s(3);return v(n.onItemClick(a.title.id))}),c(1),d()}if(e&2){let t=s(3).$implicit,i=s(3);M("clicked",i.clickedItemId===t.title.id),r(),f(" ",t.title.label," ")}}function bi(e,o){if(e&1&&c(0),e&2){let t=s(3).$implicit;f(" ",t.title.label," ")}}function vi(e,o){if(e&1&&u(0,fi,2,3,"span",34)(1,bi,1,1),e&2){let t=s(2).$implicit;h(t.title!=null&&t.title.id?0:1)}}function xi(e,o){e&1&&(l(0,"span",33),c(1,"[Inconnu]"),d())}function yi(e,o){if(e&1&&u(0,vi,2,1)(1,xi,2,0,"span",33),e&2){let t=s().$implicit;h(t.title?0:1)}}function Ci(e,o){if(e&1){let t=y();l(0,"span",35),_("click",function(){b(t);let a=s(3).$implicit,n=s(3);return v(n.onItemClick(a.location.id))}),c(1),d()}if(e&2){let t=s(3).$implicit,i=s(3);M("clicked",i.clickedItemId===t.location.id),r(),f(" ",t.location.label," ")}}function Si(e,o){if(e&1&&c(0),e&2){let t=s(3).$implicit;f(" ",t.location.label," ")}}function wi(e,o){if(e&1&&u(0,Ci,2,3,"span",34)(1,Si,1,1),e&2){let t=s(2).$implicit;h(t.location!=null&&t.location.id?0:1)}}function Mi(e,o){e&1&&(l(0,"span",33),c(1,"[Inconnu]"),d())}function Pi(e,o){if(e&1&&u(0,wi,2,1)(1,Mi,2,0,"span",33),e&2){let t=s().$implicit;h(t.location?0:1)}}function ki(e,o){if(e&1&&(l(0,"span"),c(1),d()),e&2){let t=s().$implicit;r(),H(t.date.value)}}function Di(e,o){if(e&1&&(l(0,"span"),c(1),d()),e&2){let t=s().$implicit,i=s().$implicit;r(),H(t[i])}}function zi(e,o){if(e&1&&(l(0,"td",32),u(1,_i,2,1)(2,yi,2,1)(3,Pi,2,1)(4,ki,2,1,"span")(5,Di,2,1,"span"),d()),e&2){let t,i=s().$implicit,a=s(2);x("data-label",a.getHeaderLabel(i)),r(),h((t=i)==="author"?1:t==="title"?2:t==="location"?3:t==="date"?4:5)}}function Ii(e,o){if(e&1&&(Mt(0,25),L(1,mi,2,1,"th",29)(2,zi,6,2,"td",30),Pt()),e&2){let t=o.$implicit;g("matColumnDef",t)}}function Ti(e,o){e&1&&C(0,"tr",36)}function Bi(e,o){e&1&&C(0,"tr",37)}function Oi(e,o){if(e&1){let t=y();l(0,"div",14)(1,"table",24),W(2,Ii,3,1,"ng-container",25,Z),L(4,Ti,1,0,"tr",26)(5,Bi,1,0,"tr",27),d(),l(6,"mat-paginator",28,1),_("page",function(a){b(t);let n=s();return v(n.handlePageEvent(a))}),d()()}if(e&2){let t=s();r(),g("dataSource",t.dataSource),r(),K(t.displayedColumns),r(2),g("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),r(),g("matRowDefColumns",t.displayedColumns),r(),g("length",t.length)("pageSize",t.pageSize)("pageIndex",t.pageIndex)("disabled",t.disabled)("showFirstLastButtons",t.showFirstLastButtons)("pageSizeOptions",t.showPageSizeOptions?t.pageSizeOptions:j(11,oi))("hidePageSize",t.hidePageSize)}}function Ei(e,o){if(e&1&&(l(0,"div",15)(1,"div",38),c(2),d(),C(3,"mat-progress-bar",39),d()),e&2){let t=s();r(2),f(" ",t.loadingBatchMessage," ")}}var Ee={author:e=>e.author?.label,title:e=>e.title?.label,location:e=>e.location?.label,date:e=>e.date?.value},ln=(()=>{let o=class o{constructor(){this.database=m(se),this._liveAnnouncer=m(jt),this.csv=m(ye),this.lang=m(ae),this.lastSearchRoute=m(xe),this.router=m(Rt),this.cdr=m(I),this.displayedColumns=["author","title","location","date"],this.dataSource=new ve,this.isMobile=window.innerWidth<=600,this.bibliography="Bibliography",this.authorHeader="Author",this.titleHeader="Title",this.locationHeader="Location",this.dateHeader="Date",this.home_page="Home",this.loadingBatchMessage="Loading additional data",this.loadingMessage="Loading data...",this.behavior$=new gt(""),this.length=0,this.pageSize=25,this.pageIndex=0,this.pageSizeOptions=[10,25,50,100,500,1e3],this.hidePageSize=!1,this.showPageSizeOptions=!0,this.showFirstLastButtons=!0,this.disabled=!1,this.isSpinner=!0,this.batchSize=100,this.subsequentBatchSize=1500,this.totalLoaded=0,this.maxResults=3e3,this.isLoadingBatch=!1,this.myLang="%20.%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22"+this.lang.selectedLang+"%22%2C%22en%22.%20%7D%0A%7D%0A",this.clickedItemId=null}ngOnInit(){this.initializeComponent(),this.dataSource.filterPredicate=(i,a)=>[i.author?.label,i.title?.label,i.location?.label,i.date?.value].join(" ").toLowerCase().includes(a)}ngAfterViewInit(){this.paginator&&(this.dataSource.paginator=this.paginator),this.sort&&(this.dataSource.sort=this.sort),this.cdr.markForCheck()}initializeComponent(){this.setTranslations(),this.setupResponsiveness(),this.setupSorting(),this.setupRouteObserver(),this.setupDataSource(),this.loadDataInBatches()}setTranslations(){this.bibliography=this.lang.getTranslation("bibliography",this.lang.selectedLang),this.authorHeader=this.lang.getTranslation("authorHeader",this.lang.selectedLang),this.titleHeader=this.lang.getTranslation("titleHeader",this.lang.selectedLang),this.locationHeader=this.lang.getTranslation("locationHeader",this.lang.selectedLang),this.dateHeader=this.lang.getTranslation("dateHeader",this.lang.selectedLang),this.home_page=this.lang.getTranslation("home_page",this.lang.selectedLang),this.loadingMessage=this.lang.getTranslation("loadingMessage",this.lang.selectedLang),this.loadingBatchMessage=this.lang.getTranslation("loadingBatchMessage",this.lang.selectedLang)}setupResponsiveness(){window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<=600,this.cdr.markForCheck()})}setupSorting(){this.dataSource.sortingDataAccessor=(i,a)=>Ee[a]?Ee[a](i)||"":i[a]||"",this.dataSource.sortData=(i,a)=>{let n=a.active,p=a.direction;return!n||p===""?i:i.slice().sort((S,V)=>{let w=this.dataSource.sortingDataAccessor(S,n),pt=this.dataSource.sortingDataAccessor(V,n),N=w.localeCompare(pt,"fr",{sensitivity:"base"});return p==="asc"?N:-N})}}setupRouteObserver(){this.router.events.pipe(ft(i=>i instanceof Lt)).subscribe(i=>{this.router.url==="/bibliography"&&console.log("Navigation vers /bibliography d\xE9tect\xE9e")})}setupDataSource(){this.dataSource$=ht([this.behavior$,this.database.getBiblioData()]).pipe(ut(([i,a])=>(a&&(this.dataSource.filter=i,this.dataSource.data=a,this.length!==a.length&&(this.length=a.length,this.paginator&&(this.pageIndex=0,this.paginator.pageIndex=0,setTimeout(()=>{this.dataSource.paginator=null,this.dataSource.paginator=this.paginator,this.cdr.markForCheck()}))),this.sort&&!this.dataSource.sort&&(this.dataSource.sort=this.sort)),this.dataSource))),this.dataSource$.subscribe()}loadDataInBatches(){this.isSpinner=!0,this.loadingMessage,this.cdr.markForCheck();let i=this.database.getCurrentData();if(console.log("existingData:",i),i&&i.length>0){this.totalLoaded=i.length,this.length=i.length,this.isSpinner=!1,this.cdr.markForCheck(),i.length<this.maxResults&&this.loadRemainingBatches(i.length);return}this.loadFirstBatch()}loadFirstBatch(){this.isSpinner=!0,this.loadingMessage,this.cdr.markForCheck(),console.log("D\xE9but du chargement de la bibliographie");let i=this.database.sparqlBuilding(this.myLang,this.batchSize,0);console.log("sparqlQuery g\xE9n\xE9r\xE9e:",i);let a=this.database.newSparqlAdress(i);this.database.databaseToDisplay(a).subscribe({next:n=>{if(n&&n.length>0){this.totalLoaded=n.length;let p=n.slice(0,this.pageSize);this.database.updateBiblioData(n),this.length=n.length,this.dataSource.data=p,this.isSpinner=!1,this.cdr.markForCheck(),setTimeout(()=>{this.dataSource.data=n,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.cdr.markForCheck(),n.length>0&&this.totalLoaded<this.maxResults&&setTimeout(()=>{this.loadRemainingBatches(this.totalLoaded)},500)},100)}else console.log("Aucune donn\xE9e trouv\xE9e"),this.isSpinner=!1,this.cdr.markForCheck()},error:n=>{console.error("Erreur lors du chargement du premier lot:",n),this.isSpinner=!1,this.cdr.markForCheck()}})}loadRemainingBatches(i){this.isLoadingBatch=!0;let a=n=>{if(n>=this.maxResults||!this.isLoadingBatch){this.isLoadingBatch=!1;return}let p=this.subsequentBatchSize,S=this.database.sparqlBuilding(this.myLang,p,n);console.log("Batch offset:",i,"Query:",S);let V=this.database.newSparqlAdress(S);this.database.databaseToDisplay(V).subscribe({next:w=>{if(w&&w.length>0){let N=[...this.database.getCurrentData()||[],...w];this.totalLoaded+=w.length,this.database.updateBiblioData(N),this.length=N.length,this.cdr.markForCheck(),w.length===p&&this.totalLoaded<this.maxResults?setTimeout(()=>{a(n+p)},500):(this.isLoadingBatch=!1,this.cdr.markForCheck())}else this.isLoadingBatch=!1,this.cdr.markForCheck()},error:w=>{console.error("Erreur lors du chargement d'un lot:",w),this.isLoadingBatch=!1,this.cdr.markForCheck()}})};a(i)}getHeaderLabel(i){switch(i){case"author":return this.authorHeader;case"title":return this.titleHeader;case"location":return this.locationHeader;case"date":return this.dateHeader;default:return i}}onItemClick(i){this.clickedItemId=i,setTimeout(()=>this.clickedItemId=null,300),this.goToDisplay(i)}goToDisplay(i){this.lastSearchRoute.setLastSearchRoute(this.router.url),console.log("Route m\xE9moris\xE9e :",this.router.url),this.router.navigate(["/item",i])}onClick(i){let a=i;a=this.database.databaseToDownload(i);let n=this.csv.arrayToCsv(a);this.csv.downloadBlob(n,"biblio_harmonia_universalis","text/csv;charset=utf-8;")}applyFilter(i){let a=i.target.value.trim().toLowerCase();this.behavior$.next(a),this.paginator&&this.paginator.firstPage(),setTimeout(()=>{this.dataSource.filteredData&&this.dataSource.filteredData.length>0&&(this.filtered=this.dataSource.filteredData[0].author?.label)})}handlePageEvent(i){console.log("Page event:",i),this.pageEvent=i,this.length=i.length,this.pageSize=i.pageSize,this.pageIndex=i.pageIndex,this.cdr.markForCheck()}setPageSizeOptions(i){i&&(this.pageSizeOptions=i.split(",").map(a=>+a))}setSort(i){this.sort.active===i?this.sort.direction=this.sort.direction==="asc"?"desc":"asc":(this.sort.active=i,this.sort.direction="asc"),this.sort.sortChange.emit({active:this.sort.active,direction:this.sort.direction})}};o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=k({type:o,selectors:[["app-bibliography"]],viewQuery:function(a,n){if(a&1&&(ot(X,5),ot(ii,5)),a&2){let p;st(p=lt())&&(n.sort=p.first),st(p=lt())&&(n.paginator=p.first)}},decls:33,vars:15,consts:[["content",""],["paginator",""],[1,"cardBackground"],[1,"hu-header"],[1,"hu-title"],[1,"search-center","router-links"],[3,"routerLink"],["appearance","outlined",1,"mat-elevation-z12"],[1,"labelTitlePadding"],["appearance","outline"],["matInput","","placeholder","Search",3,"keyup"],[1,"filtered-count",2,"margin-left","1rem"],["class","mobile-sort-buttons",4,"ngIf"],[2,"text-align","center"],[1,"mat-elevation-z8","container"],[2,"text-align","center","margin","0.5rem 0"],["mat-icon-button","","color","primary",1,"internalLink",3,"click"],["color","primary",3,"inline"],[1,"mobile-sort-buttons"],["mat-button","","class","sort-btn",3,"color","click",4,"ngFor","ngForOf"],["mat-button","",1,"sort-btn",3,"click","color"],[4,"ngIf"],["mode","indeterminate","color","primary","diameter","50",2,"margin","2rem auto","display","block"],[1,"loading-message",2,"margin-top","1rem","color","rgba(0, 0, 0, 0.7)"],["mat-table","","matSort","","matSortActive","title","matSortDirection","asc",1,"mat-table",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","","class","mat-header-row",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","responsive-row",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",1,"demo-paginator",3,"page","length","pageSize","pageIndex","disabled","showFirstLastButtons","pageSizeOptions","hidePageSize"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","responsive-cell",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"responsive-cell"],[1,"text-muted"],[1,"item-link",3,"clicked"],[1,"item-link",3,"click"],["mat-header-row","",1,"mat-header-row"],["mat-row","",1,"responsive-row"],[2,"margin-top","1rem","color","rgba(0, 0, 0, 0.7)","font-size","0.9rem"],["mode","indeterminate",2,"width","100%","max-width","400px","margin","0.5rem auto"]],template:function(a,n){if(a&1){let p=y();l(0,"div",2)(1,"div",3)(2,"div",4),c(3),d(),l(4,"div",5)(5,"a",6),c(6),d(),l(7,"span"),c(8,"\xA0|\xA0"),d(),l(9,"a",6),c(10,"Harmonia universalis"),d(),l(11,"span"),c(12,"\xA0|\xA0"),d(),l(13,"a",6),c(14,"FactGrid"),d()()()(),l(15,"mat-card",7)(16,"mat-card-content",2)(17,"div",8)(18,"mat-form-field",9)(19,"input",10),_("keyup",function(V){return b(p),v(n.applyFilter(V))}),d()(),l(20,"span",11),c(21),d()(),L(22,di,2,1,"div",12),u(23,ci,4,1,"div",13),u(24,Oi,8,12,"div",14),u(25,Ei,4,1,"div",15),l(26,"div")(27,"span")(28,"button",16,0),_("click",function(){return b(p),v(n.onClick(n.dataSource.filteredData))}),l(30,"mat-icon",17),c(31,"download"),d()(),c(32," \xA0\xA0\xA0\xA0\xA0\xA0 "),d()()()()}a&2&&(r(3),f(" ",n.bibliography," "),r(2),g("routerLink",j(12,ai)),r(),H(n.home_page),r(3),g("routerLink",j(13,ni)),r(4),g("routerLink",j(14,ri)),r(8),Tt(" ",(n.dataSource.filteredData==null?null:n.dataSource.filteredData.length)||0," / ",(n.dataSource.data==null?null:n.dataSource.data.length)||0," "),r(),g("ngIf",n.isMobile),r(),h(n.isSpinner?23:-1),r(),h(n.isSpinner?-1:24),r(),h(!n.isSpinner&&n.isLoadingBatch?25:-1),r(5),g("inline",!0))},dependencies:[Et,Bt,Ot,be,le,ce,ue,me,de,he,pe,ge,_e,fe,ze,X,De,qt,Gt,et,Wt,tt,oe,ne,re,Vt,Ht,Oe,mt,te,Jt,it,Kt,At,Ft,we,Se,Ce,at,Be,Te],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%;overflow-x:hidden;box-sizing:border-box}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:2rem auto;text-align:center}.loading-message[_ngcontent-%COMP%]{margin-top:1rem;font-size:1rem;color:#000000b3}.mat-elevation-z8.container[_ngcontent-%COMP%]{width:100%;overflow-x:auto;max-width:100%;box-sizing:border-box;margin:0}mat-card[_ngcontent-%COMP%]{width:100%;max-width:100%;box-sizing:border-box;margin:0;overflow-x:hidden}mat-card-content[_ngcontent-%COMP%]{width:100%;max-width:100%;box-sizing:border-box;overflow-x:hidden}.cardBackground[_ngcontent-%COMP%]{width:100%;max-width:100%;box-sizing:border-box;overflow-x:hidden}@media (max-width: 813px){.cardBackground[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px;margin-left:0;margin-right:0}}.mat-table[_ngcontent-%COMP%]{font-size:1em;width:100%}th.mat-header-cell[_ngcontent-%COMP%]{white-space:nowrap;padding:12px 8px;font-size:1em;vertical-align:middle}.mat-sort-header-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.mat-sort-header-arrow[_ngcontent-%COMP%], .mat-sort-header-indicator[_ngcontent-%COMP%]{color:#1976d2;transition:color .2s}.router-links[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:hidden;display:flex;justify-content:center;flex-wrap:wrap}@media (max-width: 600px){.router-links[_ngcontent-%COMP%]{gap:8px}.router-links[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}}.item-link[_ngcontent-%COMP%]{cursor:pointer;color:#1976d2;transition:background .2s,color .2s;padding:2px 4px;border-radius:3px}.item-link.clicked[_ngcontent-%COMP%]{background:#1976d2;color:#fff}mat-paginator[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.compact-icon-btn[_ngcontent-%COMP%]{width:24px;height:24px;line-height:24px}.compact-icon-btn[_ngcontent-%COMP%]   .small-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;line-height:18px}@media (max-width: 600px){.mat-table[_ngcontent-%COMP%]{font-size:.95em}th.mat-header-cell[_ngcontent-%COMP%]{white-space:nowrap;padding:8px 4px;font-size:1em;vertical-align:middle}.mat-sort-header-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.mat-sort-header-arrow[_ngcontent-%COMP%], .mat-sort-header-indicator[_ngcontent-%COMP%]{opacity:1!important;color:#1976d2!important;font-size:1.2em;margin-left:2px}.mat-header-row[_ngcontent-%COMP%]{display:none}.responsive-cell[_ngcontent-%COMP%]{display:block;width:100%;margin:16px 0;border:0 none;position:relative;padding:0 16px 0 110px;box-sizing:border-box}.responsive-cell[_ngcontent-%COMP%]:before{content:attr(data-label) ": ";position:absolute;left:16px;top:0;font-weight:700;color:#666;white-space:nowrap}.responsive-row[_ngcontent-%COMP%]{display:block;overflow:hidden;height:auto;position:relative;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:3px;margin-bottom:24px;width:100%;box-sizing:border-box}.responsive-row[_ngcontent-%COMP%] + .responsive-row[_ngcontent-%COMP%]{margin-top:24px}mat-paginator[_ngcontent-%COMP%]{margin-top:24px;width:100%}.mobile-sort-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2px;justify-content:center;margin-bottom:12px;width:100%;box-sizing:border-box}.sort-btn[_ngcontent-%COMP%]{min-width:unset;padding:2px 6px;font-size:.95em;line-height:1.2;border:none;box-shadow:none;background:transparent}.sort-btn[_ngcontent-%COMP%]:focus{outline:none}.sort-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:2px;font-size:1em}mat-form-field[_ngcontent-%COMP%]{width:100%;max-width:100%;box-sizing:border-box}.hu-header[_ngcontent-%COMP%]{width:100%;max-width:100%;box-sizing:border-box;overflow-x:hidden}.hu-title[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-wrap:break-word;word-wrap:break-word;box-sizing:border-box}}.filtered-count[_ngcontent-%COMP%]{font-size:.95em;vertical-align:middle}'],changeDetection:0});let e=o;return e})();export{ln as BibliographyComponent};
