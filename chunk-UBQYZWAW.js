import{a as oe}from"./chunk-J7YNUYS2.js";import{a as ye}from"./chunk-Y2FV4SIY.js";import{a as ve}from"./chunk-4UEUMCZU.js";import{a as Se}from"./chunk-YX5Y3PLU.js";import{d as ee,k as we,l as Me}from"./chunk-NH37IW7M.js";import{l as at,m as nt,n as xe,o as Ce}from"./chunk-MKB4AUOW.js";import{a as se,b as le,c as de,d as ce,e as me,f as pe,g as ge,h as ue,i as he,j as _e,k as fe,l as be}from"./chunk-6T23FKRJ.js";import"./chunk-E6FMBO5C.js";import{I as it,J as Kt,M as Jt,N as te,r as At,s as Lt,t as Gt,u as qt}from"./chunk-WHASQACJ.js";import{$b as Ot,$c as Ut,Aa as wt,Cb as X,Da as F,Fa as R,Fc as Nt,Ga as Mt,Hc as jt,Ka as f,La as u,Ma as h,Na as Z,Oa as W,P as G,Pa as K,Pc as Xt,Q as E,Qa as p,R as A,Ra as o,Rc as $t,Sa as l,Sb as k,T as c,Ta as x,Ua as D,Ub as w,Va as z,Vb as T,W as v,Wa as O,X as y,Xa as Pt,Xc as Yt,Y as I,Ya as Dt,Z as vt,_a as C,_c as J,ab as _,ac as Bt,ca as yt,cb as d,da as q,db as zt,ea as U,eb as kt,fa as xt,fc as Et,gb as st,ha as Q,hb as lt,ib as dt,id as Qt,j as N,jd as Zt,k as ut,l as Y,mb as Tt,md as tt,nb as ct,nd as Wt,ob as j,od as et,pa as r,pb as It,qb as m,qc as Ft,qd as ie,r as ht,rb as B,rd as ae,s as _t,sa as Ct,sb as b,ta as St,tc as Rt,td as ne,uc as Vt,vc as Ht,w as ft,wd as re,x as bt,ya as P,za as L}from"./chunk-A4ZR74WL.js";var Ee=["mat-sort-header",""],Ae=["*"];function Le(e,s){e&1&&(D(0,"div",2),I(),D(1,"svg",3),O(2,"path",4),z()())}var Pe=new A("MAT_SORT_DEFAULT_OPTIONS"),$=(()=>{class e{_defaultOptions;_initializedStream=new Y(1);sortables=new Map;_stateChanges=new N;active;start="asc";get direction(){return this._direction}set direction(t){this._direction=t}_direction="";disableClear;disabled=!1;sortChange=new R;initialized=this._initializedStream;constructor(t){this._defaultOptions=t}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let i=t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,a=Fe(t.start||this.start,i),n=a.indexOf(this.direction)+1;return n>=a.length&&(n=0),a[n]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(i){return new(i||e)(St(Pe,8))};static \u0275dir=wt({type:e,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",w],disabled:[2,"matSortDisabled","disabled",w]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[xt]})}return e})();function Fe(e,s){let t=["asc","desc"];return e=="desc"&&t.reverse(),s||t.push(""),t}var rt=(()=>{class e{changes=new N;static \u0275fac=function(i){return new(i||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Re(e){return e||new rt}var Ve={provide:rt,deps:[[new q,new U,rt]],useFactory:Re},De=(()=>{class e{_intl=c(rt);_sort=c($,{optional:!0});_columnDef=c("MAT_SORT_HEADER_COLUMN_DEF",{optional:!0});_changeDetectorRef=c(k);_focusMonitor=c(Nt);_elementRef=c(Q);_ariaDescriber=c(Yt,{optional:!0});_renderChanges;_animationsDisabled=Zt();_recentlyCleared=yt(null);_sortButton;id;arrowPosition="after";start;disabled=!1;get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}_sortActionDescription="Sort";disableClear;constructor(){c(jt).load(Ut);let t=c(Pe,{optional:!0});this._sort,t?.arrowPosition&&(this.arrowPosition=t?.arrowPosition)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._sort.register(this),this._renderChanges=ft(this._sort._stateChanges,this._sort.sortChange).subscribe(()=>this._changeDetectorRef.markForCheck()),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(()=>this._recentlyCleared.set(null))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._renderChanges?.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_toggleOnInteraction(){if(!this._isDisabled()){let t=this._isSorted(),i=this._sort.direction;this._sort.sort(this),this._recentlyCleared.set(t&&!this._isSorted()?i:null)}}_handleKeydown(t){(t.keyCode===32||t.keyCode===13)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=P({type:e,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(i,a){i&1&&_("click",function(){return a._toggleOnInteraction()})("keydown",function(g){return a._handleKeydown(g)})("mouseleave",function(){return a._recentlyCleared.set(null)}),i&2&&(f("aria-sort",a._getAriaSortAttribute()),j("mat-sort-header-disabled",a._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",w],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",w]},exportAs:["matSortHeader"],attrs:Ee,ngContentSelectors:Ae,decls:4,vars:17,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],["viewBox","0 -960 960 960","focusable","false","aria-hidden","true"],["d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"]],template:function(i,a){i&1&&(zt(),D(0,"div",0)(1,"div",1),kt(2),z(),u(3,Le,3,0,"div",2),z()),i&2&&(j("mat-sort-header-sorted",a._isSorted())("mat-sort-header-position-before",a.arrowPosition==="before")("mat-sort-header-descending",a._sort.direction==="desc")("mat-sort-header-ascending",a._sort.direction==="asc")("mat-sort-header-recently-cleared-ascending",a._recentlyCleared()==="asc")("mat-sort-header-recently-cleared-descending",a._recentlyCleared()==="desc")("mat-sort-header-animations-disabled",a._animationsDisabled),f("tabindex",a._isDisabled()?null:0)("role",a._isDisabled()?null:"button"),r(3),h(a._renderArrow()?3:-1))},styles:[`.mat-sort-header{cursor:pointer}.mat-sort-header-disabled{cursor:default}.mat-sort-header-container{display:flex;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}@keyframes _mat-sort-header-recently-cleared-ascending{from{transform:translateY(0);opacity:1}to{transform:translateY(-25%);opacity:0}}@keyframes _mat-sort-header-recently-cleared-descending{from{transform:translateY(0) rotate(180deg);opacity:1}to{transform:translateY(25%) rotate(180deg);opacity:0}}.mat-sort-header-arrow{height:12px;width:12px;position:relative;transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1),opacity 225ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;overflow:visible;color:var(--mat-sort-arrow-color, var(--mat-sys-on-surface))}.mat-sort-header.cdk-keyboard-focused .mat-sort-header-arrow,.mat-sort-header.cdk-program-focused .mat-sort-header-arrow,.mat-sort-header:hover .mat-sort-header-arrow{opacity:.54}.mat-sort-header .mat-sort-header-sorted .mat-sort-header-arrow{opacity:1}.mat-sort-header-descending .mat-sort-header-arrow{transform:rotate(180deg)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transform:translateY(-25%)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-ascending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-recently-cleared-descending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-descending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-animations-disabled .mat-sort-header-arrow{transition-duration:0ms;animation-duration:0ms}.mat-sort-header-arrow svg{width:24px;height:24px;fill:currentColor;position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;transform:translateZ(0)}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}
`],encapsulation:2,changeDetection:0})}return e})(),ze=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=L({type:e});static \u0275inj=E({providers:[Ve],imports:[J]})}return e})();function Ne(e,s){e&1&&O(0,"div",2)}var je=new A("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Te=(()=>{class e{_elementRef=c(Q);_ngZone=c(Mt);_changeDetectorRef=c(k);_renderer=c(Ct);_cleanupTransitionEnd;constructor(){let t=Qt(),i=c(je,{optional:!0});this._isNoopAnimation=t==="di-disabled",t==="reduced-motion"&&this._elementRef.nativeElement.classList.add("mat-progress-bar-reduced-motion"),i&&(i.color&&(this.color=this._defaultColor=i.color),this.mode=i.mode||this.mode)}_isNoopAnimation;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;_defaultColor="primary";get value(){return this._value}set value(t){this._value=ke(t||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=ke(t||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new R;get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=t=>{this.animationEnd.observers.length===0||!t.target||!t.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(i){return new(i||e)};static \u0275cmp=P({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,a){i&2&&(f("aria-valuenow",a._isIndeterminate()?null:a.value)("mode",a.mode),It("mat-"+a.color),j("_mat-animation-noopable",a._isNoopAnimation)("mdc-linear-progress--animation-ready",!a._isNoopAnimation)("mdc-linear-progress--indeterminate",a._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",T],bufferValue:[2,"bufferValue","bufferValue",T],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,a){i&1&&(D(0,"div",0),O(1,"div",1),u(2,Ne,1,0,"div",2),z(),D(3,"div",3),O(4,"span",4),z(),D(5,"div",5),O(6,"span",4),z()),i&2&&(r(),ct("flex-basis",a._getBufferBarFlexBasis()),r(),h(a.mode==="buffer"?2:-1),r(),ct("transform",a._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{--mat-progress-bar-animation-multiplier: 1;display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mat-progress-bar-reduced-motion{--mat-progress-bar-animation-multiplier: 2}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mat-progress-bar-track-height, 4px),var(--mat-progress-bar-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mat-progress-bar-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mat-progress-bar-track-height, 4px);border-radius:var(--mat-progress-bar-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mat-progress-bar-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return e})();function ke(e,s=0,t=100){return Math.max(s,Math.min(t,e))}var Ie=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=L({type:e});static \u0275inj=E({imports:[J]})}return e})();function $e(e,s){if(e&1&&(o(0,"mat-option",17),m(1),l()),e&2){let t=s.$implicit;p("value",t),r(),b(" ",t," ")}}function Ye(e,s){if(e&1){let t=C();o(0,"mat-form-field",14)(1,"mat-select",16,0),_("selectionChange",function(a){v(t);let n=d(2);return y(n._changePageSize(a.value))}),W(3,$e,2,2,"mat-option",17,Z),l(),o(5,"div",18),_("click",function(){v(t);let a=Tt(2);return y(a.open())}),l()()}if(e&2){let t=d(2);p("appearance",t._formFieldAppearance)("color",t.color),r(),p("value",t.pageSize)("disabled",t.disabled)("aria-labelledby",t._pageSizeLabelId)("panelClass",t.selectConfig.panelClass||"")("disableOptionCentering",t.selectConfig.disableOptionCentering),r(2),K(t._displayedPageSizeOptions)}}function Ge(e,s){if(e&1&&(o(0,"div",15),m(1),l()),e&2){let t=d(2);r(),B(t.pageSize)}}function qe(e,s){if(e&1&&(o(0,"div",3)(1,"div",13),m(2),l(),u(3,Ye,6,7,"mat-form-field",14),u(4,Ge,2,1,"div",15),l()),e&2){let t=d();r(),f("id",t._pageSizeLabelId),r(),b(" ",t._intl.itemsPerPageLabel," "),r(),h(t._displayedPageSizeOptions.length>1?3:-1),r(),h(t._displayedPageSizeOptions.length<=1?4:-1)}}function Ue(e,s){if(e&1){let t=C();o(0,"button",19),_("click",function(){v(t);let a=d();return y(a._buttonClicked(0,a._previousButtonsDisabled()))}),I(),o(1,"svg",8),x(2,"path",20),l()()}if(e&2){let t=d();p("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("disabled",t._previousButtonsDisabled())("tabindex",t._previousButtonsDisabled()?-1:null),f("aria-label",t._intl.firstPageLabel)}}function Qe(e,s){if(e&1){let t=C();o(0,"button",21),_("click",function(){v(t);let a=d();return y(a._buttonClicked(a.getNumberOfPages()-1,a._nextButtonsDisabled()))}),I(),o(1,"svg",8),x(2,"path",22),l()()}if(e&2){let t=d();p("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("disabled",t._nextButtonsDisabled())("tabindex",t._nextButtonsDisabled()?-1:null),f("aria-label",t._intl.lastPageLabel)}}var ot=(()=>{class e{changes=new N;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(t,i,a)=>{if(a==0||i==0)return`0 of ${a}`;a=Math.max(a,0);let n=t*i,g=n<a?Math.min(n+i,a):n+i;return`${n+1} \u2013 ${g} of ${a}`};static \u0275fac=function(i){return new(i||e)};static \u0275prov=G({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ze(e){return e||new ot}var We={provide:ot,deps:[[new q,new U,ot]],useFactory:Ze},Ke=50;var Je=new A("MAT_PAGINATOR_DEFAULT_OPTIONS"),pt=(()=>{class e{_intl=c(ot);_changeDetectorRef=c(k);_formFieldAppearance;_pageSizeLabelId=c($t).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new Y(1);color;get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(t||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(t){this._length=t||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(t||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(i=>T(i,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new R;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let t=this._intl,i=c(Je,{optional:!0});if(this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),i){let{pageSize:a,pageSizeOptions:n,hidePageSize:g,showFirstLastButtons:M}=i;a!=null&&(this._pageSize=a),n!=null&&(this._pageSizeOptions=n),g!=null&&(this.hidePageSize=g),M!=null&&(this.showFirstLastButtons=M)}this._formFieldAppearance=i?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let t=this.getNumberOfPages()-1;return this.pageIndex<t&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){let i=this.pageIndex*this.pageSize,a=this.pageIndex;this.pageIndex=Math.floor(i/t)||0,this.pageSize=t,this._emitPageEvent(a)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Ke),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,i)=>t-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(t){let i=this.pageIndex;t!==i&&(this.pageIndex=t,this._emitPageEvent(i))}_buttonClicked(t,i){i||this._navigate(t)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=P({type:e,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",T],length:[2,"length","length",T],pageSize:[2,"pageSize","pageSize",T],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",w],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",w],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",w]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(i,a){i&1&&(o(0,"div",1)(1,"div",2),u(2,qe,5,4,"div",3),o(3,"div",4)(4,"div",5),m(5),l(),u(6,Ue,3,5,"button",6),o(7,"button",7),_("click",function(){return a._buttonClicked(a.pageIndex-1,a._previousButtonsDisabled())}),I(),o(8,"svg",8),x(9,"path",9),l()(),vt(),o(10,"button",10),_("click",function(){return a._buttonClicked(a.pageIndex+1,a._nextButtonsDisabled())}),I(),o(11,"svg",8),x(12,"path",11),l()(),u(13,Qe,3,5,"button",12),l()()()),i&2&&(r(2),h(a.hidePageSize?-1:2),r(3),b(" ",a._intl.getRangeLabel(a.pageIndex,a.pageSize,a.length)," "),r(),h(a.showFirstLastButtons?6:-1),r(),p("matTooltip",a._intl.previousPageLabel)("matTooltipDisabled",a._previousButtonsDisabled())("disabled",a._previousButtonsDisabled())("tabindex",a._previousButtonsDisabled()?-1:null),f("aria-label",a._intl.previousPageLabel),r(3),p("matTooltip",a._intl.nextPageLabel)("matTooltipDisabled",a._nextButtonsDisabled())("disabled",a._nextButtonsDisabled())("tabindex",a._nextButtonsDisabled()?-1:null),f("aria-label",a._intl.nextPageLabel),r(3),h(a.showFirstLastButtons?13:-1))},dependencies:[it,we,ee,tt,at],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height: var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding: var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return e})(),Oe=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=L({type:e});static \u0275inj=E({providers:[We],imports:[et,Me,nt,pt]})}return e})();var ei=["paginator"],ii=()=>[""],ai=()=>["/animal_magnetism"],ni=()=>["/search"],ri=()=>[];function oi(e,s){if(e&1&&(o(0,"mat-icon"),m(1),l()),e&2){let t=d(3);r(),b(" ",(t.sort==null?null:t.sort.direction)==="asc"?"arrow_upward":"arrow_downward"," ")}}function si(e,s){if(e&1){let t=C();o(0,"button",19),_("click",function(){let a=v(t).$implicit,n=d(2);return y(n.setSort(a))}),m(1),F(2,oi,2,1,"mat-icon",20),l()}if(e&2){let t=s.$implicit,i=d(2);p("color",(i.sort==null?null:i.sort.active)===t?"primary":void 0),r(),b(" ",i.getHeaderLabel(t)," "),r(),p("ngIf",(i.sort==null?null:i.sort.active)===t)}}function li(e,s){if(e&1&&(o(0,"div",17),F(1,si,3,3,"button",18),l()),e&2){let t=d();r(),p("ngForOf",t.displayedColumns)}}function di(e,s){if(e&1&&(o(0,"div",12),x(1,"mat-progress-spinner",21),o(2,"div",22),m(3),l()()),e&2){let t=d();r(3),b(" ",t.loadingMessage," ")}}function ci(e,s){if(e&1&&(o(0,"th",30),m(1),l()),e&2){let t=d().$implicit,i=d(2);r(),b(" ",i.getHeaderLabel(t)," ")}}function mi(e,s){if(e&1&&m(0),e&2){let t=d(2).$implicit;b(" ",t.author.label," ")}}function pi(e,s){e&1&&(o(0,"span",32),m(1,"[Inconnu]"),l())}function gi(e,s){if(e&1){let t=C();o(0,"button",34),_("click",function(){v(t);let a=d(2).$implicit,n=d(3);return y(n.goToDisplay(a.author.id))}),o(1,"mat-icon",35),m(2,"open_in_new"),l()()}e&2&&(r(),p("inline",!0))}function ui(e,s){if(e&1&&(u(0,mi,1,1)(1,pi,2,0,"span",32),u(2,gi,3,1,"button",33)),e&2){let t=d().$implicit;h(t.author?0:1),r(2),h(t.author!=null&&t.author.id?2:-1)}}function hi(e,s){if(e&1&&(o(0,"span"),m(1),l()),e&2){let t=d().$implicit;r(),B(t.title.label)}}function _i(e,s){if(e&1&&m(0),e&2){let t=d(2).$implicit;b(" ",t.location.label," ")}}function fi(e,s){e&1&&(o(0,"span",32),m(1,"[Inconnu]"),l())}function bi(e,s){if(e&1){let t=C();o(0,"button",37),_("click",function(){v(t);let a=d(2).$implicit,n=d(3);return y(n.goToDisplay(a.location.id))}),o(1,"mat-icon",35),m(2,"open_in_new"),l()()}e&2&&(r(),p("inline",!0))}function vi(e,s){if(e&1&&(u(0,_i,1,1)(1,fi,2,0,"span",32),u(2,bi,3,1,"button",36)),e&2){let t=d().$implicit;h(t.location?0:1),r(2),h(t.location!=null&&t.location.id?2:-1)}}function yi(e,s){if(e&1&&(o(0,"span"),m(1),l()),e&2){let t=d().$implicit;r(),B(t.date.value)}}function xi(e,s){if(e&1&&(o(0,"span"),m(1),l()),e&2){let t=d().$implicit,i=d().$implicit;r(),B(t[i])}}function Ci(e,s){if(e&1&&(o(0,"td",31),u(1,ui,3,2)(2,hi,2,1,"span")(3,vi,3,2)(4,yi,2,1,"span")(5,xi,2,1,"span"),l()),e&2){let t,i=d().$implicit,a=d(2);f("data-label",a.getHeaderLabel(i)),r(),h((t=i)==="author"?1:t==="title"?2:t==="location"?3:t==="date"?4:5)}}function Si(e,s){if(e&1&&(Pt(0,24),F(1,ci,2,1,"th",28)(2,Ci,6,2,"td",29),Dt()),e&2){let t=s.$implicit;p("matColumnDef",t)}}function wi(e,s){e&1&&x(0,"tr",38)}function Mi(e,s){e&1&&x(0,"tr",39)}function Pi(e,s){if(e&1){let t=C();o(0,"div",13)(1,"table",23),W(2,Si,3,1,"ng-container",24,Z),F(4,wi,1,0,"tr",25)(5,Mi,1,0,"tr",26),l(),o(6,"mat-paginator",27,1),_("page",function(a){v(t);let n=d();return y(n.handlePageEvent(a))}),l()()}if(e&2){let t=d();r(),p("dataSource",t.dataSource),r(),K(t.displayedColumns),r(2),p("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),r(),p("matRowDefColumns",t.displayedColumns),r(),p("length",t.length)("pageSize",t.pageSize)("pageIndex",t.pageIndex)("disabled",t.disabled)("showFirstLastButtons",t.showFirstLastButtons)("pageSizeOptions",t.showPageSizeOptions?t.pageSizeOptions:X(11,ri))("hidePageSize",t.hidePageSize)}}function Di(e,s){if(e&1&&(o(0,"div",14)(1,"div",40),m(2),l(),x(3,"mat-progress-bar",41),l()),e&2){let t=d();r(2),b(" ",t.loadingBatchMessage," ")}}var Be={author:e=>e.author?.label,title:e=>e.title?.label,location:e=>e.location?.label,date:e=>e.date?.value},en=(()=>{let s=class s{constructor(){this.database=c(oe),this._liveAnnouncer=c(Xt),this.csv=c(ye),this.lang=c(ie),this.lastSearchRoute=c(ve),this.router=c(Rt),this.cdr=c(k),this.displayedColumns=["author","title","location","date"],this.dataSource=new be,this.isMobile=window.innerWidth<=600,this.bibliography="Bibliography",this.authorHeader="Author",this.titleHeader="Title",this.locationHeader="Location",this.dateHeader="Date",this.home_page="Home",this.loadingBatchMessage="Loading additional data",this.loadingMessage="Loading data...",this.behavior$=new ut(""),this.length=0,this.pageSize=25,this.pageIndex=0,this.pageSizeOptions=[10,25,50,100,500,1e3],this.hidePageSize=!1,this.showPageSizeOptions=!0,this.showFirstLastButtons=!0,this.disabled=!1,this.isSpinner=!0,this.batchSize=100,this.subsequentBatchSize=1500,this.totalLoaded=0,this.maxResults=3e3,this.isLoadingBatch=!1,this.myLang="%20.%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22"+this.lang.selectedLang+"%22%2C%22en%22.%20%7D%0A%7D%0A"}ngOnInit(){this.initializeComponent()}ngAfterViewInit(){this.paginator&&(this.dataSource.paginator=this.paginator),this.sort&&(this.dataSource.sort=this.sort),this.cdr.markForCheck()}initializeComponent(){this.setTranslations(),this.setupResponsiveness(),this.setupSorting(),this.setupRouteObserver(),this.setupDataSource(),this.loadDataInBatches()}setTranslations(){this.bibliography=this.lang.getTranslation("bibliography",this.lang.selectedLang),this.authorHeader=this.lang.getTranslation("authorHeader",this.lang.selectedLang),this.titleHeader=this.lang.getTranslation("titleHeader",this.lang.selectedLang),this.locationHeader=this.lang.getTranslation("locationHeader",this.lang.selectedLang),this.dateHeader=this.lang.getTranslation("dateHeader",this.lang.selectedLang),this.home_page=this.lang.getTranslation("home_page",this.lang.selectedLang),this.loadingMessage=this.lang.getTranslation("loadingMessage",this.lang.selectedLang),this.loadingBatchMessage=this.lang.getTranslation("loadingBatchMessage",this.lang.selectedLang)}setupResponsiveness(){window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<=600,this.cdr.markForCheck()})}setupSorting(){this.dataSource.sortingDataAccessor=(i,a)=>Be[a]?Be[a](i)||"":i[a]||"",this.dataSource.sortData=(i,a)=>{let n=a.active,g=a.direction;return!n||g===""?i:i.slice().sort((M,V)=>{let S=this.dataSource.sortingDataAccessor(M,n),gt=this.dataSource.sortingDataAccessor(V,n),H=S.localeCompare(gt,"fr",{sensitivity:"base"});return g==="asc"?H:-H})}}setupRouteObserver(){this.router.events.pipe(bt(i=>i instanceof Ft)).subscribe(i=>{this.router.url==="/bibliography"&&console.log("Navigation vers /bibliography d\xE9tect\xE9e")})}setupDataSource(){this.dataSource$=_t([this.behavior$,this.database.getBiblioData()]).pipe(ht(([i,a])=>(a&&(this.dataSource.filter=i,this.dataSource.data=a,this.length!==a.length&&(this.length=a.length,this.paginator&&(this.pageIndex=0,this.paginator.pageIndex=0,setTimeout(()=>{this.dataSource.paginator=null,this.dataSource.paginator=this.paginator,this.cdr.markForCheck()}))),this.sort&&!this.dataSource.sort&&(this.dataSource.sort=this.sort)),this.dataSource))),this.dataSource$.subscribe()}loadDataInBatches(){this.isSpinner=!0,this.loadingMessage,this.cdr.markForCheck();let i=this.database.getCurrentData();if(i&&i.length>0){this.totalLoaded=i.length,this.length=i.length,this.isSpinner=!1,this.cdr.markForCheck(),i.length<this.maxResults&&this.loadRemainingBatches(i.length);return}this.loadFirstBatch()}loadFirstBatch(){this.isSpinner=!0,this.loadingMessage,this.cdr.markForCheck();let i=this.database.sparqlBuilding(this.myLang,this.batchSize,0),a=this.database.newSparqlAdress(i);this.database.databaseToDisplay(a).subscribe({next:n=>{if(n&&n.length>0){this.totalLoaded=n.length;let g=n.slice(0,this.pageSize);this.database.updateBiblioData(n),this.length=n.length,this.dataSource.data=g,this.isSpinner=!1,this.cdr.markForCheck(),setTimeout(()=>{this.dataSource.data=n,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.cdr.markForCheck(),n.length===this.batchSize&&this.totalLoaded<this.maxResults&&setTimeout(()=>{this.loadRemainingBatches(this.totalLoaded)},500)},100)}else console.log("Aucune donn\xE9e trouv\xE9e"),this.isSpinner=!1,this.cdr.markForCheck()},error:n=>{console.error("Erreur lors du chargement du premier lot:",n),this.isSpinner=!1,this.cdr.markForCheck()}})}loadRemainingBatches(i){this.isLoadingBatch=!0;let a=n=>{if(n>=this.maxResults||!this.isLoadingBatch){this.isLoadingBatch=!1;return}let g=this.subsequentBatchSize,M=this.database.sparqlBuilding(this.myLang,g,n),V=this.database.newSparqlAdress(M);this.database.databaseToDisplay(V).subscribe({next:S=>{if(S&&S.length>0){let H=[...this.database.getCurrentData()||[],...S];this.totalLoaded+=S.length,this.database.updateBiblioData(H),this.length=H.length,this.cdr.markForCheck(),S.length===g&&this.totalLoaded<this.maxResults?setTimeout(()=>{a(n+g)},500):(this.isLoadingBatch=!1,this.cdr.markForCheck())}else this.isLoadingBatch=!1,this.cdr.markForCheck()},error:S=>{console.error("Erreur lors du chargement d'un lot:",S),this.isLoadingBatch=!1,this.cdr.markForCheck()}})};a(i)}getHeaderLabel(i){switch(i){case"author":return this.authorHeader;case"title":return this.titleHeader;case"location":return this.locationHeader;case"date":return this.dateHeader;default:return i}}goToDisplay(i){this.lastSearchRoute.setLastSearchRoute(this.router.url),console.log("Route m\xE9moris\xE9e :",this.router.url),this.router.navigate(["/item",i])}onClick(i){let a=i;a=this.database.databaseToDownload(i);let n=this.csv.arrayToCsv(a);this.csv.downloadBlob(n,"biblio_harmonia_universalis","text/csv;charset=utf-8;")}applyFilter(i){let a=i.target.value.trim().toLowerCase();this.behavior$.next(a),this.paginator&&this.paginator.firstPage(),setTimeout(()=>{this.dataSource.filteredData&&this.dataSource.filteredData.length>0&&(this.filtered=this.dataSource.filteredData[0].author?.label)})}handlePageEvent(i){console.log("Page event:",i),this.pageEvent=i,this.length=i.length,this.pageSize=i.pageSize,this.pageIndex=i.pageIndex,this.cdr.markForCheck()}setPageSizeOptions(i){i&&(this.pageSizeOptions=i.split(",").map(a=>+a))}setSort(i){this.sort.active===i?this.sort.direction=this.sort.direction==="asc"?"desc":"asc":(this.sort.active=i,this.sort.direction="asc"),this.sort.sortChange.emit({active:this.sort.active,direction:this.sort.direction})}};s.\u0275fac=function(a){return new(a||s)},s.\u0275cmp=P({type:s,selectors:[["app-bibliography"]],viewQuery:function(a,n){if(a&1&&(st($,5),st(ei,5)),a&2){let g;lt(g=dt())&&(n.sort=g.first),lt(g=dt())&&(n.paginator=g.first)}},decls:31,vars:13,consts:[["content",""],["paginator",""],[1,"cardBackground"],[1,"hu-header"],[1,"hu-title"],[1,"search-center","router-links"],[3,"routerLink"],["appearance","outlined",1,"mat-elevation-z12"],[1,"labelTitlePadding"],["appearance","outline"],["matInput","","placeholder","Search",3,"keyup"],["class","mobile-sort-buttons",4,"ngIf"],[2,"text-align","center"],[1,"mat-elevation-z8","container"],[2,"text-align","center","margin","0.5rem 0"],["mat-icon-button","","color","primary",1,"internalLink",3,"click"],["color","primary",3,"inline"],[1,"mobile-sort-buttons"],["mat-button","","class","sort-btn",3,"color","click",4,"ngFor","ngForOf"],["mat-button","",1,"sort-btn",3,"click","color"],[4,"ngIf"],["mode","indeterminate","color","primary","diameter","50",2,"margin","2rem auto","display","block"],[1,"loading-message",2,"margin-top","1rem","color","rgba(0, 0, 0, 0.7)"],["mat-table","","matSort","","matSortActive","title","matSortDirection","asc",1,"mat-table",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","","class","mat-header-row",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","responsive-row",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",1,"demo-paginator",3,"page","length","pageSize","pageIndex","disabled","showFirstLastButtons","pageSizeOptions","hidePageSize"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","responsive-cell",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"responsive-cell"],[1,"text-muted"],["mat-icon-button","","matTooltip","Voir l'auteur dans la base de donn\xE9es",1,"compact-icon-btn"],["mat-icon-button","","matTooltip","Voir l'auteur dans la base de donn\xE9es",1,"compact-icon-btn",3,"click"],["color","primary",1,"small-icon",3,"inline"],["mat-icon-button","","matTooltip","Voir le lieu dans la base de donn\xE9es",1,"compact-icon-btn"],["mat-icon-button","","matTooltip","Voir le lieu dans la base de donn\xE9es",1,"compact-icon-btn",3,"click"],["mat-header-row","",1,"mat-header-row"],["mat-row","",1,"responsive-row"],[2,"margin-top","1rem","color","rgba(0, 0, 0, 0.7)","font-size","0.9rem"],["mode","indeterminate",2,"width","100%","max-width","400px","margin","0.5rem auto"]],template:function(a,n){if(a&1){let g=C();o(0,"div",2)(1,"div",3)(2,"div",4),m(3),l(),o(4,"div",5)(5,"a",6),m(6),l(),o(7,"span"),m(8,"\xA0|\xA0"),l(),o(9,"a",6),m(10,"Harmonia universalis"),l(),o(11,"span"),m(12,"\xA0|\xA0"),l(),o(13,"a",6),m(14,"FactGrid"),l()()()(),o(15,"mat-card",7)(16,"mat-card-content",2)(17,"div",8)(18,"mat-form-field",9)(19,"input",10),_("keyup",function(V){return v(g),y(n.applyFilter(V))}),l()()(),F(20,li,2,1,"div",11),u(21,di,4,1,"div",12),u(22,Pi,8,12,"div",13),u(23,Di,4,1,"div",14),o(24,"div")(25,"span")(26,"button",15,0),_("click",function(){return v(g),y(n.onClick(n.dataSource.filteredData))}),o(28,"mat-icon",16),m(29,"download"),l()(),m(30," \xA0\xA0\xA0\xA0\xA0\xA0 "),l()()()()}a&2&&(r(3),b(" ",n.bibliography," "),r(2),p("routerLink",X(10,ii)),r(),B(n.home_page),r(3),p("routerLink",X(11,ai)),r(4),p("routerLink",X(12,ni)),r(7),p("ngIf",n.isMobile),r(),h(n.isSpinner?21:-1),r(),h(n.isSpinner?-1:22),r(),h(!n.isSpinner&&n.isLoadingBatch?23:-1),r(5),p("inline",!0))},dependencies:[Et,Ot,Bt,fe,se,de,ge,ce,le,ue,me,pe,he,_e,ze,$,De,qt,Gt,et,Wt,tt,re,ae,ne,Ht,Vt,Oe,pt,te,Jt,it,Kt,At,Lt,Se,Ce,xe,nt,at,Ie,Te],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%;overflow-x:hidden;box-sizing:border-box}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:2rem auto;text-align:center}.loading-message[_ngcontent-%COMP%]{margin-top:1rem;font-size:1rem;color:#000000b3}.mat-elevation-z8.container[_ngcontent-%COMP%]{width:100%;overflow-x:auto;max-width:100%;box-sizing:border-box;margin:0}mat-card[_ngcontent-%COMP%]{width:100%;max-width:100%;box-sizing:border-box;margin:0;overflow-x:hidden}mat-card-content[_ngcontent-%COMP%]{width:100%;max-width:100%;box-sizing:border-box;overflow-x:hidden}.cardBackground[_ngcontent-%COMP%]{width:100%;max-width:100%;box-sizing:border-box;overflow-x:hidden}@media (max-width: 813px){.cardBackground[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px;margin-left:0;margin-right:0}}.mat-table[_ngcontent-%COMP%]{font-size:1em;width:100%}th.mat-header-cell[_ngcontent-%COMP%]{white-space:nowrap;padding:12px 8px;font-size:1em;vertical-align:middle}.mat-sort-header-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.mat-sort-header-arrow[_ngcontent-%COMP%], .mat-sort-header-indicator[_ngcontent-%COMP%]{color:#1976d2;transition:color .2s}.router-links[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-x:hidden;display:flex;justify-content:center;flex-wrap:wrap}@media (max-width: 600px){.router-links[_ngcontent-%COMP%]{gap:8px}.router-links[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}}mat-paginator[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.compact-icon-btn[_ngcontent-%COMP%]{width:24px;height:24px;line-height:24px}.compact-icon-btn[_ngcontent-%COMP%]   .small-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;line-height:18px}@media (max-width: 600px){.mat-table[_ngcontent-%COMP%]{font-size:.95em}th.mat-header-cell[_ngcontent-%COMP%]{white-space:nowrap;padding:8px 4px;font-size:1em;vertical-align:middle}.mat-sort-header-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.mat-sort-header-arrow[_ngcontent-%COMP%], .mat-sort-header-indicator[_ngcontent-%COMP%]{opacity:1!important;color:#1976d2!important;font-size:1.2em;margin-left:2px}.mat-header-row[_ngcontent-%COMP%]{display:none}.responsive-cell[_ngcontent-%COMP%]{display:block;width:100%;margin:16px 0;border:0 none;position:relative;padding:0 16px 0 110px;box-sizing:border-box}.responsive-cell[_ngcontent-%COMP%]:before{content:attr(data-label) ": ";position:absolute;left:16px;top:0;font-weight:700;color:#666;white-space:nowrap}.responsive-row[_ngcontent-%COMP%]{display:block;overflow:hidden;height:auto;position:relative;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:3px;margin-bottom:24px;width:100%;box-sizing:border-box}.responsive-row[_ngcontent-%COMP%] + .responsive-row[_ngcontent-%COMP%]{margin-top:24px}mat-paginator[_ngcontent-%COMP%]{margin-top:24px;width:100%}.mobile-sort-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2px;justify-content:center;margin-bottom:12px;width:100%;box-sizing:border-box}.sort-btn[_ngcontent-%COMP%]{min-width:unset;padding:2px 6px;font-size:.95em;line-height:1.2;border:none;box-shadow:none;background:transparent}.sort-btn[_ngcontent-%COMP%]:focus{outline:none}.sort-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:2px;font-size:1em}mat-form-field[_ngcontent-%COMP%]{width:100%;max-width:100%;box-sizing:border-box}.hu-header[_ngcontent-%COMP%]{width:100%;max-width:100%;box-sizing:border-box;overflow-x:hidden}.hu-title[_ngcontent-%COMP%]{width:100%;max-width:100%;overflow-wrap:break-word;word-wrap:break-word;box-sizing:border-box}}'],changeDetection:0});let e=s;return e})();export{en as BibliographyComponent};
