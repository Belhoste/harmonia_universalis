import{d as zc}from"./chunk-B34ANODF.js";import{b as Ea,c as Rc,d as Bl,e as Bt,f as Pi,g as Yl}from"./chunk-SEPKKLDV.js";import{b as Ic,g as Bc}from"./chunk-2WY2EBCY.js";import{a as Pc,b as Il,c as Rl,d as Lc,e as Ta,f as Fl,g as Nl,h as zl,k as Xs,m as io,o as Vc}from"./chunk-ZLFLUCYU.js";import"./chunk-2DG3KHRH.js";import{C as $s,I as eo,M as to,i as Ll,r as cc,s as js,t as Ac,u as Ks}from"./chunk-7WEUQ37Z.js";import{$ as Ln,$a as Al,$c as Qs,Aa as Ei,Ac as Us,B as kl,Bb as Sa,Ca as zs,Da as Vs,Ea as Tl,Fa as we,Fc as Ol,Ga as On,Gc as Mc,Ha as Bs,Hc as Fn,I as ni,Ic as Gs,J as Ml,K as Kd,Ka as Xe,La as Gt,Lc as Dc,M as Qd,Ma as qt,N as le,Na as ac,Oa as ka,Ob as oc,Oc as Sc,P as vt,Pa as Ma,Q as ct,Qa as Me,Qc as Cc,R as ai,Ra as q,Rc as Mr,S as wa,Sa as Q,Sb as bt,Sc as qs,T as O,Ta as Ue,U as $d,Ua as Ji,Ub as Rn,Uc as Tc,Va as Da,W as Ne,Wa as rc,X as ze,Y as Xi,Yc as Ca,Z as Fs,_ as Ai,_a as si,_b as lc,_c as At,a as En,ab as He,b as Wd,bb as sc,c as jd,cb as ce,d as Ud,da as Xd,db as oi,e as Gd,ea as Jd,eb as zt,f as wl,fa as xa,fb as li,fc as dc,g as Si,gb as Vt,gc as hc,ha as ri,hb as Ge,hc as mc,ia as ec,ib as qe,ic as uc,j as Ci,ja as Dl,jd as Dr,k as xr,kc as fc,kd as Ec,ld as Js,ma as tc,mb as El,mc as pc,md as Sr,nb as Ys,nc as _c,nd as Vl,o as Ti,ob as it,oc as gc,od as Aa,pa as U,pb as In,pd as Oc,qa as Sl,qb as Ve,qd as Fc,r as Rs,ra as ic,rb as en,rc as yc,s as qd,sa as kr,sb as tn,sc as vc,tb as Pl,tc as bc,ua as Ns,va as Cl,vb as Hs,vc as nn,w as Pn,wa as nc,wb as Zs,wc,wd as Nc,x as xl,xb as Ws,xc,ya as Re,yc as kc,za as ht}from"./chunk-MW253N2G.js";var Xc=Gd((co,$c)=>{(function(c,a){typeof co=="object"&&typeof $c<"u"?a(co):typeof define=="function"&&define.amd?define(["exports"],a):(c=typeof globalThis<"u"?globalThis:c||self,a(c.leaflet={}))})(co,function(c){"use strict";var a="1.9.2";function i(e){var t,s,d,u;for(s=1,d=arguments.length;s<d;s++){u=arguments[s];for(t in u)e[t]=u[t]}return e}var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function o(e,t){var s=Array.prototype.slice;if(e.bind)return e.bind.apply(e,s.call(arguments,1));var d=s.call(arguments,2);return function(){return e.apply(t,d.length?d.concat(s.call(arguments)):arguments)}}var h=0;function p(e){return"_leaflet_id"in e||(e._leaflet_id=++h),e._leaflet_id}function y(e,t,s){var d,u,g,v;return v=function(){d=!1,u&&(g.apply(s,u),u=!1)},g=function(){d?u=arguments:(e.apply(s,arguments),setTimeout(v,t),d=!0)},g}function w(e,t,s){var d=t[1],u=t[0],g=d-u;return e===d&&s?e:((e-u)%g+g)%g+u}function k(){return!1}function I(e,t){if(t===!1)return e;var s=Math.pow(10,t===void 0?6:t);return Math.round(e*s)/s}function R(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function V(e){return R(e).split(/\s+/)}function N(e,t){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{});for(var s in t)e.options[s]=t[s];return e.options}function A(e,t,s){var d=[];for(var u in e)d.push(encodeURIComponent(s?u.toUpperCase():u)+"="+encodeURIComponent(e[u]));return(!t||t.indexOf("?")===-1?"?":"&")+d.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function he(e,t){return e.replace(j,function(s,d){var u=t[d];if(u===void 0)throw new Error("No value provided for variable "+s);return typeof u=="function"&&(u=u(t)),u})}var ae=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function De(e,t){for(var s=0;s<e.length;s++)if(e[s]===t)return s;return-1}var Ae="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Se(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var nt=0;function Ce(e){var t=+new Date,s=Math.max(0,16-(t-nt));return nt=t+s,window.setTimeout(e,s)}var Pe=window.requestAnimationFrame||Se("RequestAnimationFrame")||Ce,ue=window.cancelAnimationFrame||Se("CancelAnimationFrame")||Se("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function Te(e,t,s){if(s&&Pe===Ce)e.call(t);else return Pe.call(window,o(e,t))}function Le(e){e&&ue.call(window,e)}var at={__proto__:null,extend:i,create:r,bind:o,get lastId(){return h},stamp:p,throttle:y,wrapNum:w,falseFn:k,formatNum:I,trim:R,splitWords:V,setOptions:N,getParamString:A,template:he,isArray:ae,indexOf:De,emptyImageUrl:Ae,requestFn:Pe,cancelFn:ue,requestAnimFrame:Te,cancelAnimFrame:Le};function Ze(){}Ze.extend=function(e){var t=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=t.__super__=this.prototype,d=r(s);d.constructor=t,t.prototype=d;for(var u in this)Object.prototype.hasOwnProperty.call(this,u)&&u!=="prototype"&&u!=="__super__"&&(t[u]=this[u]);return e.statics&&i(t,e.statics),e.includes&&(hi(e.includes),i.apply(null,[d].concat(e.includes))),i(d,e),delete d.statics,delete d.includes,d.options&&(d.options=s.options?r(s.options):{},i(d.options,e.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,v=d._initHooks.length;g<v;g++)d._initHooks[g].call(this)}},t},Ze.include=function(e){var t=this.prototype.options;return i(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},Ze.mergeOptions=function(e){return i(this.prototype.options,e),this},Ze.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),s=typeof e=="function"?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s),this};function hi(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=ae(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Be={on:function(e,t,s){if(typeof e=="object")for(var d in e)this._on(d,e[d],t);else{e=V(e);for(var u=0,g=e.length;u<g;u++)this._on(e[u],t,s)}return this},off:function(e,t,s){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var d in e)this._off(d,e[d],t);else{e=V(e);for(var u=arguments.length===1,g=0,v=e.length;g<v;g++)u?this._off(e[g]):this._off(e[g],t,s)}return this},_on:function(e,t,s,d){if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}if(this._listens(e,t,s)===!1){s===this&&(s=void 0);var u={fn:t,ctx:s};d&&(u.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(u)}},_off:function(e,t,s){var d,u,g;if(this._events&&(d=this._events[e],!!d)){if(arguments.length===1){if(this._firingCount)for(u=0,g=d.length;u<g;u++)d[u].fn=k;delete this._events[e];return}if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}var v=this._listens(e,t,s);if(v!==!1){var x=d[v];this._firingCount&&(x.fn=k,this._events[e]=d=d.slice()),d.splice(v,1)}}},fire:function(e,t,s){if(!this.listens(e,s))return this;var d=i({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var u=this._events[e];if(u){this._firingCount=this._firingCount+1||1;for(var g=0,v=u.length;g<v;g++){var x=u[g],M=x.fn;x.once&&this.off(e,M,x.ctx),M.call(x.ctx||this,d)}this._firingCount--}}return s&&this._propagateEvent(d),this},listens:function(e,t,s,d){typeof e!="string"&&console.warn('"string" type argument expected');var u=t;typeof t!="function"&&(d=!!t,u=void 0,s=void 0);var g=this._events&&this._events[e];if(g&&g.length&&this._listens(e,u,s)!==!1)return!0;if(d){for(var v in this._eventParents)if(this._eventParents[v].listens(e,t,s,d))return!0}return!1},_listens:function(e,t,s){if(!this._events)return!1;var d=this._events[e]||[];if(!t)return!!d.length;s===this&&(s=void 0);for(var u=0,g=d.length;u<g;u++)if(d[u].fn===t&&d[u].ctx===s)return u;return!1},once:function(e,t,s){if(typeof e=="object")for(var d in e)this._on(d,e[d],t,!0);else{e=V(e);for(var u=0,g=e.length;u<g;u++)this._on(e[u],t,s,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[p(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[p(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,i({layer:e.target,propagatedFrom:e.target},e),!0)}};Be.addEventListener=Be.on,Be.removeEventListener=Be.clearAllEventListeners=Be.off,Be.addOneTimeEventListener=Be.once,Be.fireEvent=Be.fire,Be.hasEventListeners=Be.listens;var Ot=Ze.extend(Be);function S(e,t,s){this.x=s?Math.round(e):e,this.y=s?Math.round(t):t}var Y=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};S.prototype={clone:function(){return new S(this.x,this.y)},add:function(e){return this.clone()._add(T(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(T(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new S(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new S(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Y(this.x),this.y=Y(this.y),this},distanceTo:function(e){e=T(e);var t=e.x-this.x,s=e.y-this.y;return Math.sqrt(t*t+s*s)},equals:function(e){return e=T(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=T(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function T(e,t,s){return e instanceof S?e:ae(e)?new S(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new S(e.x,e.y):new S(e,t,s)}function B(e,t){if(e)for(var s=t?[e,t]:e,d=0,u=s.length;d<u;d++)this.extend(s[d])}B.prototype={extend:function(e){var t,s;if(!e)return this;if(e instanceof S||typeof e[0]=="number"||"x"in e)t=s=T(e);else if(e=ne(e),t=e.min,s=e.max,!t||!s)return this;return!this.min&&!this.max?(this.min=t.clone(),this.max=s.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(s.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(s.y,this.max.y)),this},getCenter:function(e){return T((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return T(this.min.x,this.max.y)},getTopRight:function(){return T(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,s;return typeof e[0]=="number"||e instanceof S?e=T(e):e=ne(e),e instanceof B?(t=e.min,s=e.max):t=s=e,t.x>=this.min.x&&s.x<=this.max.x&&t.y>=this.min.y&&s.y<=this.max.y},intersects:function(e){e=ne(e);var t=this.min,s=this.max,d=e.min,u=e.max,g=u.x>=t.x&&d.x<=s.x,v=u.y>=t.y&&d.y<=s.y;return g&&v},overlaps:function(e){e=ne(e);var t=this.min,s=this.max,d=e.min,u=e.max,g=u.x>t.x&&d.x<s.x,v=u.y>t.y&&d.y<s.y;return g&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var t=this.min,s=this.max,d=Math.abs(t.x-s.x)*e,u=Math.abs(t.y-s.y)*e;return ne(T(t.x-d,t.y-u),T(s.x+d,s.y+u))},equals:function(e){return e?(e=ne(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function ne(e,t){return!e||e instanceof B?e:new B(e,t)}function fe(e,t){if(e)for(var s=t?[e,t]:e,d=0,u=s.length;d<u;d++)this.extend(s[d])}fe.prototype={extend:function(e){var t=this._southWest,s=this._northEast,d,u;if(e instanceof E)d=e,u=e;else if(e instanceof fe){if(d=e._southWest,u=e._northEast,!d||!u)return this}else return e?this.extend(W(e)||ie(e)):this;return!t&&!s?(this._southWest=new E(d.lat,d.lng),this._northEast=new E(u.lat,u.lng)):(t.lat=Math.min(d.lat,t.lat),t.lng=Math.min(d.lng,t.lng),s.lat=Math.max(u.lat,s.lat),s.lng=Math.max(u.lng,s.lng)),this},pad:function(e){var t=this._southWest,s=this._northEast,d=Math.abs(t.lat-s.lat)*e,u=Math.abs(t.lng-s.lng)*e;return new fe(new E(t.lat-d,t.lng-u),new E(s.lat+d,s.lng+u))},getCenter:function(){return new E((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new E(this.getNorth(),this.getWest())},getSouthEast:function(){return new E(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof E||"lat"in e?e=W(e):e=ie(e);var t=this._southWest,s=this._northEast,d,u;return e instanceof fe?(d=e.getSouthWest(),u=e.getNorthEast()):d=u=e,d.lat>=t.lat&&u.lat<=s.lat&&d.lng>=t.lng&&u.lng<=s.lng},intersects:function(e){e=ie(e);var t=this._southWest,s=this._northEast,d=e.getSouthWest(),u=e.getNorthEast(),g=u.lat>=t.lat&&d.lat<=s.lat,v=u.lng>=t.lng&&d.lng<=s.lng;return g&&v},overlaps:function(e){e=ie(e);var t=this._southWest,s=this._northEast,d=e.getSouthWest(),u=e.getNorthEast(),g=u.lat>t.lat&&d.lat<s.lat,v=u.lng>t.lng&&d.lng<s.lng;return g&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return e?(e=ie(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ie(e,t){return e instanceof fe?e:new fe(e,t)}function E(e,t,s){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,s!==void 0&&(this.alt=+s)}E.prototype={equals:function(e,t){if(!e)return!1;e=W(e);var s=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return s<=(t===void 0?1e-9:t)},toString:function(e){return"LatLng("+I(this.lat,e)+", "+I(this.lng,e)+")"},distanceTo:function(e){return rt.distance(this,W(e))},wrap:function(){return rt.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,s=t/Math.cos(Math.PI/180*this.lat);return ie([this.lat-t,this.lng-s],[this.lat+t,this.lng+s])},clone:function(){return new E(this.lat,this.lng,this.alt)}};function W(e,t,s){return e instanceof E?e:ae(e)&&typeof e[0]!="object"?e.length===3?new E(e[0],e[1],e[2]):e.length===2?new E(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new E(e.lat,"lng"in e?e.lng:e.lon,e.alt):t===void 0?null:new E(e,t,s)}var mt={latLngToPoint:function(e,t){var s=this.projection.project(e),d=this.scale(t);return this.transformation._transform(s,d)},pointToLatLng:function(e,t){var s=this.scale(t),d=this.transformation.untransform(e,s);return this.projection.unproject(d)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,s=this.scale(e),d=this.transformation.transform(t.min,s),u=this.transformation.transform(t.max,s);return new B(d,u)},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?w(e.lng,this.wrapLng,!0):e.lng,s=this.wrapLat?w(e.lat,this.wrapLat,!0):e.lat,d=e.alt;return new E(s,t,d)},wrapLatLngBounds:function(e){var t=e.getCenter(),s=this.wrapLatLng(t),d=t.lat-s.lat,u=t.lng-s.lng;if(d===0&&u===0)return e;var g=e.getSouthWest(),v=e.getNorthEast(),x=new E(g.lat-d,g.lng-u),M=new E(v.lat-d,v.lng-u);return new fe(x,M)}},rt=i({},mt,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var s=Math.PI/180,d=e.lat*s,u=t.lat*s,g=Math.sin((t.lat-e.lat)*s/2),v=Math.sin((t.lng-e.lng)*s/2),x=g*g+Math.cos(d)*Math.cos(u)*v*v,M=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return this.R*M}}),Oe=6378137,kt={R:Oe,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,s=this.MAX_LATITUDE,d=Math.max(Math.min(s,e.lat),-s),u=Math.sin(d*t);return new S(this.R*e.lng*t,this.R*Math.log((1+u)/(1-u))/2)},unproject:function(e){var t=180/Math.PI;return new E((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=Oe*Math.PI;return new B([-e,-e],[e,e])}()};function Ke(e,t,s,d){if(ae(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=t,this._c=s,this._d=d}Ke.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new S((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};function It(e,t,s,d){return new Ke(e,t,s,d)}var mi=i({},rt,{code:"EPSG:3857",projection:kt,transformation:function(){var e=.5/(Math.PI*kt.R);return It(e,.5,-e,.5)}()}),Oo=i({},mi,{code:"EPSG:900913"});function Br(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Yr(e,t){var s="",d,u,g,v,x,M;for(d=0,g=e.length;d<g;d++){for(x=e[d],u=0,v=x.length;u<v;u++)M=x[u],s+=(u?"L":"M")+M.x+" "+M.y;s+=t?H.svg?"z":"x":""}return s||"M0 0"}var Ha=document.documentElement.style,Zn="ActiveXObject"in window,Io=Zn&&!document.addEventListener,Oi="msLaunchUri"in navigator&&!("documentMode"in document),Ye=Rt("webkit"),st=Rt("android"),Wn=Rt("android 2")||Rt("android 3"),Hr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qe=st&&Rt("Google")&&Hr<537&&!("AudioNode"in window),Za=!!window.opera,dn=!Oi&&Rt("chrome"),ot=Rt("gecko")&&!Ye&&!Za&&!Zn,ee=!dn&&Rt("safari"),ui=Rt("phantom"),cn="OTransition"in Ha,Zr=navigator.platform.indexOf("Win")===0,Wr=Zn&&"transition"in Ha,Wa="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Wn,ja="MozPerspective"in Ha,lt=!window.L_DISABLE_3D&&(Wr||Wa||ja)&&!cn&&!ui,Ii=typeof orientation<"u"||Rt("mobile"),Ua=Ii&&Ye,jn=Ii&&Wa,pe=!window.PointerEvent&&window.MSPointerEvent,Ga=!!(window.PointerEvent||pe),qa="ontouchstart"in window||!!window.TouchEvent,Un=!window.L_NO_TOUCH&&(qa||Ga),Ka=Ii&&Za,Gn=Ii&&ot,Ri=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qn=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",k,t),window.removeEventListener("testPassiveEventSupport",k,t)}catch{}return e}(),Ro=function(){return!!document.createElement("canvas").getContext}(),Fi=!!(document.createElementNS&&Br("svg").createSVGRect),Fo=!!Fi&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),hn=!Fi&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&typeof t.adj=="object"}catch{return!1}}(),Kn=navigator.platform.indexOf("Mac")===0,z=navigator.platform.indexOf("Linux")===0;function Rt(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var H={ie:Zn,ielt9:Io,edge:Oi,webkit:Ye,android:st,android23:Wn,androidStock:Qe,opera:Za,chrome:dn,gecko:ot,safari:ee,phantom:ui,opera12:cn,win:Zr,ie3d:Wr,webkit3d:Wa,gecko3d:ja,any3d:lt,mobile:Ii,mobileWebkit:Ua,mobileWebkit3d:jn,msPointer:pe,pointer:Ga,touch:Un,touchNative:qa,mobileOpera:Ka,mobileGecko:Gn,retina:Ri,passiveEvents:qn,canvas:Ro,svg:Fi,vml:hn,inlineSvg:Fo,mac:Kn,linux:z},et=H.msPointer?"MSPointerDown":"pointerdown",Qn=H.msPointer?"MSPointerMove":"pointermove",me=H.msPointer?"MSPointerUp":"pointerup",Ni=H.msPointer?"MSPointerCancel":"pointercancel",Qa={touchstart:et,touchmove:Qn,touchend:me,touchcancel:Ni},We={touchstart:Ee,touchmove:$n,touchend:$n,touchcancel:$n},tt={},Mt=!1;function Fe(e,t,s){return t==="touchstart"&&No(),We[t]?(s=We[t].bind(this,s),e.addEventListener(Qa[t],s,!1),s):(console.warn("wrong event specified:",t),L.Util.falseFn)}function Dt(e,t,s){if(!Qa[t]){console.warn("wrong event specified:",t);return}e.removeEventListener(Qa[t],s,!1)}function Wt(e){tt[e.pointerId]=e}function fi(e){tt[e.pointerId]&&(tt[e.pointerId]=e)}function jr(e){delete tt[e.pointerId]}function No(){Mt||(document.addEventListener(et,Wt,!0),document.addEventListener(Qn,fi,!0),document.addEventListener(me,jr,!0),document.addEventListener(Ni,jr,!0),Mt=!0)}function $n(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){t.touches=[];for(var s in tt)t.touches.push(tt[s]);t.changedTouches=[t],e(t)}}function Ee(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&je(t),$n(e,t)}function Xn(e){var t={},s,d;for(d in e)s=e[d],t[d]=s&&s.bind?s.bind(e):s;return e=t,t.type="dblclick",t.detail=2,t.isTrusted=!1,t._simulated=!0,t}var zo=200;function Ur(e,t){e.addEventListener("dblclick",t);var s=0,d;function u(g){if(g.detail!==1){d=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var v=$r(g);if(!(v.some(function(M){return M instanceof HTMLLabelElement&&M.attributes.for})&&!v.some(function(M){return M instanceof HTMLInputElement||M instanceof HTMLSelectElement}))){var x=Date.now();x-s<=zo?(d++,d===2&&t(Xn(g))):d=1,s=x}}}return e.addEventListener("click",u),{dblclick:t,simDblclick:u}}function Gr(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var $a=pi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mn=pi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),qr=mn==="webkitTransition"||mn==="OTransition"?mn+"End":"transitionend";function Kr(e){return typeof e=="string"?document.getElementById(e):e}function un(e,t){var s=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!s||s==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(e,null);s=d?d[t]:null}return s==="auto"?null:s}function se(e,t,s){var d=document.createElement(e);return d.className=t||"",s&&s.appendChild(d),d}function xe(e){var t=e.parentNode;t&&t.removeChild(e)}function fn(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function zi(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function Vi(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function Xa(e,t){if(e.classList!==void 0)return e.classList.contains(t);var s=ea(e);return s.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(s)}function J(e,t){if(e.classList!==void 0)for(var s=V(t),d=0,u=s.length;d<u;d++)e.classList.add(s[d]);else if(!Xa(e,t)){var g=ea(e);Jn(e,(g?g+" ":"")+t)}}function ye(e,t){e.classList!==void 0?e.classList.remove(t):Jn(e,R((" "+ea(e)+" ").replace(" "+t+" "," ")))}function Jn(e,t){e.className.baseVal===void 0?e.className=t:e.className.baseVal=t}function ea(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function ut(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&pn(e,t)}function pn(e,t){var s=!1,d="DXImageTransform.Microsoft.Alpha";try{s=e.filters.item(d)}catch{if(t===1)return}t=Math.round(t*100),s?(s.Enabled=t!==100,s.Opacity=t):e.style.filter+=" progid:"+d+"(opacity="+t+")"}function pi(e){for(var t=document.documentElement.style,s=0;s<e.length;s++)if(e[s]in t)return e[s];return!1}function $t(e,t,s){var d=t||new S(0,0);e.style[$a]=(H.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(s?" scale("+s+")":"")}function ke(e,t){e._leaflet_pos=t,H.any3d?$t(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Je(e){return e._leaflet_pos||new S(0,0)}var _n,gn,Ja;if("onselectstart"in document)_n=function(){K(window,"selectstart",je)},gn=function(){_e(window,"selectstart",je)};else{var yn=pi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);_n=function(){if(yn){var e=document.documentElement.style;Ja=e[yn],e[yn]="none"}},gn=function(){yn&&(document.documentElement.style[yn]=Ja,Ja=void 0)}}function er(){K(window,"dragstart",je)}function tr(){_e(window,"dragstart",je)}var ta,ir;function vn(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(ia(),ta=e,ir=e.style.outline,e.style.outline="none",K(window,"keydown",ia))}function ia(){ta&&(ta.style.outline=ir,ta=void 0,ir=void 0,_e(window,"keydown",ia))}function nr(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function ar(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Vo={__proto__:null,TRANSFORM:$a,TRANSITION:mn,TRANSITION_END:qr,get:Kr,getStyle:un,create:se,remove:xe,empty:fn,toFront:zi,toBack:Vi,hasClass:Xa,addClass:J,removeClass:ye,setClass:Jn,getClass:ea,setOpacity:ut,testProp:pi,setTransform:$t,setPosition:ke,getPosition:Je,get disableTextSelection(){return _n},get enableTextSelection(){return gn},disableImageDrag:er,enableImageDrag:tr,preventOutline:vn,restoreOutline:ia,getSizedParentNode:nr,getScale:ar};function K(e,t,s,d){if(t&&typeof t=="object")for(var u in t)sr(e,u,t[u],s);else{t=V(t);for(var g=0,v=t.length;g<v;g++)sr(e,t[g],s,d)}return this}var Ft="_leaflet_events";function _e(e,t,s,d){if(arguments.length===1)Qr(e),delete e[Ft];else if(t&&typeof t=="object")for(var u in t)or(e,u,t[u],s);else if(t=V(t),arguments.length===2)Qr(e,function(x){return De(t,x)!==-1});else for(var g=0,v=t.length;g<v;g++)or(e,t[g],s,d);return this}function Qr(e,t){for(var s in e[Ft]){var d=s.split(/\d/)[0];(!t||t(d))&&or(e,d,null,null,s)}}var rr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function sr(e,t,s,d){var u=t+p(s)+(d?"_"+p(d):"");if(e[Ft]&&e[Ft][u])return this;var g=function(x){return s.call(d||e,x||window.event)},v=g;!H.touchNative&&H.pointer&&t.indexOf("touch")===0?g=Fe(e,t,g):H.touch&&t==="dblclick"?g=Ur(e,g):"addEventListener"in e?t==="touchstart"||t==="touchmove"||t==="wheel"||t==="mousewheel"?e.addEventListener(rr[t]||t,g,H.passiveEvents?{passive:!1}:!1):t==="mouseenter"||t==="mouseleave"?(g=function(x){x=x||window.event,aa(e,x)&&v(x)},e.addEventListener(rr[t],g,!1)):e.addEventListener(t,v,!1):e.attachEvent("on"+t,g),e[Ft]=e[Ft]||{},e[Ft][u]=g}function or(e,t,s,d,u){u=u||t+p(s)+(d?"_"+p(d):"");var g=e[Ft]&&e[Ft][u];if(!g)return this;!H.touchNative&&H.pointer&&t.indexOf("touch")===0?Dt(e,t,g):H.touch&&t==="dblclick"?Gr(e,g):"removeEventListener"in e?e.removeEventListener(rr[t]||t,g,!1):e.detachEvent("on"+t,g),e[Ft][u]=null}function _i(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function lr(e){return sr(e,"wheel",_i),this}function bn(e){return K(e,"mousedown touchstart dblclick contextmenu",_i),e._leaflet_disable_click=!0,this}function je(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function gi(e){return je(e),_i(e),this}function $r(e){if(e.composedPath)return e.composedPath();for(var t=[],s=e.target;s;)t.push(s),s=s.parentNode;return t}function na(e,t){if(!t)return new S(e.clientX,e.clientY);var s=ar(t),d=s.boundingClientRect;return new S((e.clientX-d.left)/s.x-t.clientLeft,(e.clientY-d.top)/s.y-t.clientTop)}var dr=H.linux&&H.chrome?window.devicePixelRatio:H.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xr(e){return H.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/dr:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function aa(e,t){var s=t.relatedTarget;if(!s)return!0;try{for(;s&&s!==e;)s=s.parentNode}catch{return!1}return s!==e}var Jr={__proto__:null,on:K,off:_e,stopPropagation:_i,disableScrollPropagation:lr,disableClickPropagation:bn,preventDefault:je,stop:gi,getPropagationPath:$r,getMousePosition:na,getWheelDelta:Xr,isExternalTarget:aa,addListener:K,removeListener:_e},es=Ot.extend({run:function(e,t,s,d){this.stop(),this._el=e,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=Je(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Te(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,s=this._duration*1e3;t<s?this._runFrame(this._easeOut(t/s),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var s=this._startPos.add(this._offset.multiplyBy(e));t&&s._round(),ke(this._el,s),this.fire("step")},_complete:function(){Le(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),re=Ot.extend({options:{crs:mi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=N(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.zoom!==void 0&&(this._zoom=this._limitZoom(t.zoom)),t.center&&t.zoom!==void 0&&this.setView(W(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mn&&H.any3d&&!H.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),K(this._proxy,qr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,s){if(t=t===void 0?this._zoom:this._limitZoom(t),e=this._limitCenter(W(e),t,this.options.maxBounds),s=s||{},this._stop(),this._loaded&&!s.reset&&s!==!0){s.animate!==void 0&&(s.zoom=i({animate:s.animate},s.zoom),s.pan=i({animate:s.animate,duration:s.duration},s.pan));var d=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,s.zoom):this._tryAnimatedPan(e,s.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(e,t,s.pan&&s.pan.noMoveStart),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(H.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,s){var d=this.getZoomScale(t),u=this.getSize().divideBy(2),g=e instanceof S?e:this.latLngToContainerPoint(e),v=g.subtract(u).multiplyBy(1-1/d),x=this.containerPointToLatLng(u.add(v));return this.setView(x,t,{zoom:s})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():ie(e);var s=T(t.paddingTopLeft||t.padding||[0,0]),d=T(t.paddingBottomRight||t.padding||[0,0]),u=this.getBoundsZoom(e,!1,s.add(d));if(u=typeof t.maxZoom=="number"?Math.min(t.maxZoom,u):u,u===1/0)return{center:e.getCenter(),zoom:u};var g=d.subtract(s).divideBy(2),v=this.project(e.getSouthWest(),u),x=this.project(e.getNorthEast(),u),M=this.unproject(v.add(x).divideBy(2).add(g),u);return{center:M,zoom:u}},fitBounds:function(e,t){if(e=ie(e),!e.isValid())throw new Error("Bounds are not valid.");var s=this._getBoundsCenterZoom(e,t);return this.setView(s.center,s.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=T(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(t.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new es,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),t.animate!==!1){J(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,s,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,s){if(s=s||{},s.animate===!1||!H.any3d)return this.setView(e,t,s);this._stop();var d=this.project(this.getCenter()),u=this.project(e),g=this.getSize(),v=this._zoom;e=W(e),t=t===void 0?v:t;var x=Math.max(g.x,g.y),M=x*this.getZoomScale(v,t),C=u.distanceTo(d)||1,F=1.42,G=F*F;function X(Ie){var ya=Ie?-1:1,fl=Ie?M:x,pl=M*M-x*x+ya*G*G*C*C,_l=2*fl*G*C,br=pl/_l,Ps=Math.sqrt(br*br+1)-br,wr=Ps<1e-9?-18:Math.log(Ps);return wr}function yt(Ie){return(Math.exp(Ie)-Math.exp(-Ie))/2}function wi(Ie){return(Math.exp(Ie)+Math.exp(-Ie))/2}function ga(Ie){return yt(Ie)/wi(Ie)}var ii=X(0);function vr(Ie){return x*(wi(ii)/wi(ii+F*Ie))}function cl(Ie){return x*(wi(ii)*ga(ii+F*Ie)-yt(ii))/G}function hl(Ie){return 1-Math.pow(1-Ie,1.5)}var ml=Date.now(),As=(X(1)-ii)/F,ul=s.duration?1e3*s.duration:1e3*As*.8;function Es(){var Ie=(Date.now()-ml)/ul,ya=hl(Ie)*As;Ie<=1?(this._flyToFrame=Te(Es,this),this._move(this.unproject(d.add(u.subtract(d).multiplyBy(cl(ya)/C)),v),this.getScaleZoom(x/vr(ya),v),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,s.noMoveStart),Es.call(this),this},flyToBounds:function(e,t){var s=this._getBoundsCenterZoom(e,t);return this.flyTo(s.center,s.zoom,t)},setMaxBounds:function(e){return e=ie(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var s=this.getCenter(),d=this._limitCenter(s,this._zoom,ie(e));return s.equals(d)||this.panTo(d,t),this._enforcingBounds=!1,this},panInside:function(e,t){t=t||{};var s=T(t.paddingTopLeft||t.padding||[0,0]),d=T(t.paddingBottomRight||t.padding||[0,0]),u=this.project(this.getCenter()),g=this.project(e),v=this.getPixelBounds(),x=ne([v.min.add(s),v.max.subtract(d)]),M=x.getSize();if(!x.contains(g)){this._enforcingBounds=!0;var C=g.subtract(x.getCenter()),F=x.extend(g).getSize().subtract(M);u.x+=C.x<0?-F.x:F.x,u.y+=C.y<0?-F.y:F.y,this.panTo(this.unproject(u),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=i({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var s=this.getSize(),d=t.divideBy(2).round(),u=s.divideBy(2).round(),g=d.subtract(u);return!g.x&&!g.y?this:(e.animate&&e.pan?this.panBy(g):(e.pan&&this._rawPanBy(g),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:s}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=i({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=o(this._handleGeolocationResponse,this),s=o(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,s,e):navigator.geolocation.getCurrentPosition(t,s,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,s=e.message||(t===1?"permission denied":t===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+s+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=e.coords.latitude,s=e.coords.longitude,d=new E(t,s),u=d.toBounds(e.coords.accuracy*2),g=this._locateOptions;if(g.setView){var v=this.getBoundsZoom(u);this.setView(d,g.maxZoom?Math.min(v,g.maxZoom):v)}var x={latlng:d,bounds:u,timestamp:e.timestamp};for(var M in e.coords)typeof e.coords[M]=="number"&&(x[M]=e.coords[M]);this.fire("locationfound",x)}},addHandler:function(e,t){if(!t)return this;var s=this[e]=new t(this);return this._handlers.push(s),this.options[e]&&s.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),xe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Le(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)xe(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var s="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),d=se("div",s,t||this._mapPane);return e&&(this._panes[e]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),s=this.unproject(e.getTopRight());return new fe(t,s)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,s){e=ie(e),s=T(s||[0,0]);var d=this.getZoom()||0,u=this.getMinZoom(),g=this.getMaxZoom(),v=e.getNorthWest(),x=e.getSouthEast(),M=this.getSize().subtract(s),C=ne(this.project(x,d),this.project(v,d)).getSize(),F=H.any3d?this.options.zoomSnap:1,G=M.x/C.x,X=M.y/C.y,yt=t?Math.max(G,X):Math.min(G,X);return d=this.getScaleZoom(yt,d),F&&(d=Math.round(d/(F/100))*(F/100),d=t?Math.ceil(d/F)*F:Math.floor(d/F)*F),Math.max(u,Math.min(g,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new S(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var s=this._getTopLeftPoint(e,t);return new B(s,s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var s=this.options.crs;return t=t===void 0?this._zoom:t,s.scale(e)/s.scale(t)},getScaleZoom:function(e,t){var s=this.options.crs;t=t===void 0?this._zoom:t;var d=s.zoom(e*s.scale(t));return isNaN(d)?1/0:d},project:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.latLngToPoint(W(e),t)},unproject:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.pointToLatLng(T(e),t)},layerPointToLatLng:function(e){var t=T(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(W(e))._round();return t._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(W(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ie(e))},distance:function(e,t){return this.options.crs.distance(W(e),W(t))},containerPointToLayerPoint:function(e){return T(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return T(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(T(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(W(e)))},mouseEventToContainerPoint:function(e){return na(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=Kr(e);if(t){if(t._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");K(t,"scroll",this._onScroll,this),this._containerId=p(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&H.any3d,J(e,"leaflet-container"+(H.touch?" leaflet-touch":"")+(H.retina?" leaflet-retina":"")+(H.ielt9?" leaflet-oldie":"")+(H.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=un(e,"position");t!=="absolute"&&t!=="relative"&&t!=="fixed"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ke(this._mapPane,new S(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(J(e.markerPane,"leaflet-zoom-hide"),J(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,s){ke(this._mapPane,new S(0,0));var d=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var u=this._zoom!==t;this._moveStart(u,s)._move(e,t)._moveEnd(u),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,s,d){t===void 0&&(t=this._zoom);var u=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),d?s&&s.pinch&&this.fire("zoom",s):((u||s&&s.pinch)&&this.fire("zoom",s),this.fire("move",s)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Le(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){ke(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[p(this._container)]=this;var t=e?_e:K;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),H.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Le(this._resizeRequest),this._resizeRequest=Te(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var s=[],d,u=t==="mouseout"||t==="mouseover",g=e.target||e.srcElement,v=!1;g;){if(d=this._targets[p(g)],d&&(t==="click"||t==="preclick")&&this._draggableMoved(d)){v=!0;break}if(d&&d.listens(t,!0)&&(u&&!aa(g,e)||(s.push(d),u))||g===this._container)break;g=g.parentNode}return!s.length&&!v&&!u&&this.listens(t,!0)&&(s=[this]),s},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(t))){var s=e.type;s==="mousedown"&&vn(t),this._fireDOMEvent(e,s)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,s){if(e.type==="click"){var d=i({},e);d.type="preclick",this._fireDOMEvent(d,d.type,s)}var u=this._findEventTargets(e,t);if(s){for(var g=[],v=0;v<s.length;v++)s[v].listens(t,!0)&&g.push(s[v]);u=g.concat(u)}if(u.length){t==="contextmenu"&&je(e);var x=u[0],M={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var C=x.getLatLng&&(!x._radius||x._radius<=10);M.containerPoint=C?this.latLngToContainerPoint(x.getLatLng()):this.mouseEventToContainerPoint(e),M.layerPoint=this.containerPointToLayerPoint(M.containerPoint),M.latlng=C?x.getLatLng():this.layerPointToLatLng(M.layerPoint)}for(v=0;v<u.length;v++)if(u[v].fire(t,M,!0),M.originalEvent._stopped||u[v].options.bubblingMouseEvents===!1&&De(this._mouseEvents,t)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Je(this._mapPane)||new S(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){var s=e&&t!==void 0?this._getNewPixelOrigin(e,t):this.getPixelOrigin();return s.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var s=this.getSize()._divideBy(2);return this.project(e,t)._subtract(s)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,s){var d=this._getNewPixelOrigin(s,t);return this.project(e,t)._subtract(d)},_latLngBoundsToNewLayerBounds:function(e,t,s){var d=this._getNewPixelOrigin(s,t);return ne([this.project(e.getSouthWest(),t)._subtract(d),this.project(e.getNorthWest(),t)._subtract(d),this.project(e.getSouthEast(),t)._subtract(d),this.project(e.getNorthEast(),t)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,s){if(!s)return e;var d=this.project(e,t),u=this.getSize().divideBy(2),g=new B(d.subtract(u),d.add(u)),v=this._getBoundsOffset(g,s,t);return v.round().equals([0,0])?e:this.unproject(d.add(v),t)},_limitOffset:function(e,t){if(!t)return e;var s=this.getPixelBounds(),d=new B(s.min.add(e),s.max.add(e));return e.add(this._getBoundsOffset(d,t))},_getBoundsOffset:function(e,t,s){var d=ne(this.project(t.getNorthEast(),s),this.project(t.getSouthWest(),s)),u=d.min.subtract(e.min),g=d.max.subtract(e.max),v=this._rebound(u.x,-g.x),x=this._rebound(u.y,-g.y);return new S(v,x)},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),s=this.getMaxZoom(),d=H.any3d?this.options.zoomSnap:1;return d&&(e=Math.round(e/d)*d),Math.max(t,Math.min(s,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var s=this._getCenterOffset(e)._trunc();return(t&&t.animate)!==!0&&!this.getSize().contains(s)?!1:(this.panBy(s,t),!0)},_createAnimProxy:function(){var e=this._proxy=se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(t){var s=$a,d=this._proxy.style[s];$t(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),d===this._proxy.style[s]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){xe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();$t(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||s.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(t),u=this._getCenterOffset(e)._divideBy(1-1/d);return s.animate!==!0&&!this.getSize().contains(u)?!1:(Te(function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,s,d){this._mapPane&&(s&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,J(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Bo(e,t){return new re(e,t)}var St=Ze.extend({options:{position:"topright"},initialize:function(e){N(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),s=this.getPosition(),d=e._controlCorners[s];return J(t,"leaflet-control"),s.indexOf("bottom")!==-1?d.insertBefore(t,d.firstChild):d.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(xe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Bi=function(e){return new St(e)};re.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",s=this._controlContainer=se("div",t+"control-container",this._container);function d(u,g){var v=t+u+" "+t+g;e[u+g]=se("div",v,s)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)xe(this._controlCorners[e]);xe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ve=St.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,s,d){return s<d?-1:d<s?1:0}},initialize:function(e,t,s){N(this,s),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var d in e)this._addLayer(e[d],d);for(d in t)this._addLayer(t[d],d,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return St.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(p(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){J(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(J(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=se("div",e),s=this.options.collapsed;t.setAttribute("aria-haspopup",!0),bn(t),lr(t);var d=this._section=se("section",e+"-list");s&&(this._map.on("click",this.collapse,this),K(t,{mouseenter:function(){K(d,"click",je),this.expand(),setTimeout(function(){_e(d,"click",je)})},mouseleave:this.collapse},this));var u=this._layersLink=se("a",e+"-toggle",t);u.href="#",u.title="Layers",u.setAttribute("role","button"),K(u,"click",je),K(u,"focus",this.expand,this),s||this.expand(),this._baseLayersList=se("div",e+"-base",d),this._separator=se("div",e+"-separator",d),this._overlaysList=se("div",e+"-overlays",d),t.appendChild(d)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&p(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,s){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:s}),this.options.sortLayers&&this._layers.sort(o(function(d,u){return this.options.sortFunction(d.layer,u.layer,d.name,u.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fn(this._baseLayersList),fn(this._overlaysList),this._layerControlInputs=[];var e,t,s,d,u=0;for(s=0;s<this._layers.length;s++)d=this._layers[s],this._addItem(d),t=t||d.overlay,e=e||!d.overlay,u+=d.overlay?0:1;return this.options.hideSingleBase&&(e=e&&u>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(p(e.target)),s=t.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;s&&this._map.fire(s,t)},_createRadioElement:function(e,t){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=s,d.firstChild},_addItem:function(e){var t=document.createElement("label"),s=this._map.hasLayer(e.layer),d;e.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=s):d=this._createRadioElement("leaflet-base-layers_"+p(this),s),this._layerControlInputs.push(d),d.layerId=p(e.layer),K(d,"click",this._onInputClick,this);var u=document.createElement("span");u.innerHTML=" "+e.name;var g=document.createElement("span");t.appendChild(g),g.appendChild(d),g.appendChild(u);var v=e.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(t),this._checkDisabledLayers(),t},_onInputClick:function(){var e=this._layerControlInputs,t,s,d=[],u=[];this._handlingClick=!0;for(var g=e.length-1;g>=0;g--)t=e[g],s=this._getLayer(t.layerId).layer,t.checked?d.push(s):t.checked||u.push(s);for(g=0;g<u.length;g++)this._map.hasLayer(u[g])&&this._map.removeLayer(u[g]);for(g=0;g<d.length;g++)this._map.hasLayer(d[g])||this._map.addLayer(d[g]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,t,s,d=this._map.getZoom(),u=e.length-1;u>=0;u--)t=e[u],s=this._getLayer(t.layerId).layer,t.disabled=s.options.minZoom!==void 0&&d<s.options.minZoom||s.options.maxZoom!==void 0&&d>s.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),wn=function(e,t,s){return new ve(e,t,s)},yi=St.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",s=se("div",t+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,t+"-in",s,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,t+"-out",s,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,s,d,u){var g=se("a",s,d);return g.innerHTML=e,g.href="#",g.title=t,g.setAttribute("role","button"),g.setAttribute("aria-label",t),bn(g),K(g,"click",gi),K(g,"click",u,this),K(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ye(this._zoomInButton,t),ye(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(J(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(J(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});re.mergeOptions({zoomControl:!0}),re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yi,this.addControl(this.zoomControl))});var Yo=function(e){return new yi(e)},cr=St.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",s=se("div",t),d=this.options;return this._addScales(d,t+"-line",s),e.on(d.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),s},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,s){e.metric&&(this._mScale=se("div",t,s)),e.imperial&&(this._iScale=se("div",t,s))},_update:function(){var e=this._map,t=e.getSize().y/2,s=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(s)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),s=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,s,t/e)},_updateImperial:function(e){var t=e*3.2808399,s,d,u;t>5280?(s=t/5280,d=this._getRoundNum(s),this._updateScale(this._iScale,d+" mi",d/s)):(u=this._getRoundNum(t),this._updateScale(this._iScale,u+" ft",u/t))},_updateScale:function(e,t,s){e.style.width=Math.round(this.options.maxWidth*s)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),s=e/t;return s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1,t*s}}),Ho=function(e){return new cr(e)},Zo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Yi=St.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(H.inlineSvg?Zo+" ":"")+"Leaflet</a>"},initialize:function(e){N(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=se("div","leaflet-control-attribution"),bn(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var s=[];this.options.prefix&&s.push(this.options.prefix),e.length&&s.push(e.join(", ")),this._container.innerHTML=s.join(' <span aria-hidden="true">|</span> ')}}});re.mergeOptions({attributionControl:!0}),re.addInitHook(function(){this.options.attributionControl&&new Yi().addTo(this)});var Xt=function(e){return new Yi(e)};St.Layers=ve,St.Zoom=yi,St.Scale=cr,St.Attribution=Yi,Bi.layers=wn,Bi.zoom=Yo,Bi.scale=Ho,Bi.attribution=Xt;var ft=Ze.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ft.addTo=function(e,t){return e.addHandler(t,this),this};var Wo={Events:Be},Nt=H.touch?"touchstart mousedown":"mousedown",Jt=Ot.extend({options:{clickTolerance:3},initialize:function(e,t,s,d){N(this,d),this._element=e,this._dragStartTarget=t||e,this._preventOutline=s},enable:function(){this._enabled||(K(this._dragStartTarget,Nt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Jt._dragging===this&&this.finishDrag(!0),_e(this._dragStartTarget,Nt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Xa(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Jt._dragging===this&&this.finishDrag();return}if(!(Jt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Jt._dragging=this,this._preventOutline&&vn(this._element),er(),_n(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,s=nr(this._element);this._startPoint=new S(t.clientX,t.clientY),this._startPos=Je(this._element),this._parentScale=ar(s);var d=e.type==="mousedown";K(document,d?"mousemove":"touchmove",this._onMove,this),K(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var t=e.touches&&e.touches.length===1?e.touches[0]:e,s=new S(t.clientX,t.clientY)._subtract(this._startPoint);!s.x&&!s.y||Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(s.x/=this._parentScale.x,s.y/=this._parentScale.y,je(e),this._moved||(this.fire("dragstart"),this._moved=!0,J(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),J(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),ke(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_e(document,"mousemove touchmove",this._onMove,this),_e(document,"mouseup touchend touchcancel",this._onUp,this),tr(),gn(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Jt._dragging=!1}});function ra(e,t){if(!t||!e.length)return e.slice();var s=t*t;return e=hr(e,s),e=Uo(e,s),e}function ts(e,t,s){return Math.sqrt(xn(e,t,s,!0))}function jo(e,t,s){return xn(e,t,s)}function Uo(e,t){var s=e.length,d=typeof Uint8Array<"u"?Uint8Array:Array,u=new d(s);u[0]=u[s-1]=1,Hi(e,u,t,0,s-1);var g,v=[];for(g=0;g<s;g++)u[g]&&v.push(e[g]);return v}function Hi(e,t,s,d,u){var g=0,v,x,M;for(x=d+1;x<=u-1;x++)M=xn(e[x],e[d],e[u],!0),M>g&&(v=x,g=M);g>s&&(t[v]=1,Hi(e,t,s,d,v),Hi(e,t,s,v,u))}function hr(e,t){for(var s=[e[0]],d=1,u=0,g=e.length;d<g;d++)Go(e[d],e[u])>t&&(s.push(e[d]),u=d);return u<g-1&&s.push(e[g-1]),s}var is;function ns(e,t,s,d,u){var g=d?is:ei(e,s),v=ei(t,s),x,M,C;for(is=v;;){if(!(g|v))return[e,t];if(g&v)return!1;x=g||v,M=sa(e,t,x,s,u),C=ei(M,s),x===g?(e=M,g=C):(t=M,v=C)}}function sa(e,t,s,d,u){var g=t.x-e.x,v=t.y-e.y,x=d.min,M=d.max,C,F;return s&8?(C=e.x+g*(M.y-e.y)/v,F=M.y):s&4?(C=e.x+g*(x.y-e.y)/v,F=x.y):s&2?(C=M.x,F=e.y+v*(M.x-e.x)/g):s&1&&(C=x.x,F=e.y+v*(x.x-e.x)/g),new S(C,F,u)}function ei(e,t){var s=0;return e.x<t.min.x?s|=1:e.x>t.max.x&&(s|=2),e.y<t.min.y?s|=4:e.y>t.max.y&&(s|=8),s}function Go(e,t){var s=t.x-e.x,d=t.y-e.y;return s*s+d*d}function xn(e,t,s,d){var u=t.x,g=t.y,v=s.x-u,x=s.y-g,M=v*v+x*x,C;return M>0&&(C=((e.x-u)*v+(e.y-g)*x)/M,C>1?(u=s.x,g=s.y):C>0&&(u+=v*C,g+=x*C)),v=e.x-u,x=e.y-g,d?v*v+x*x:new S(u,g)}function pt(e){return!ae(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function as(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),pt(e)}function rs(e,t){var s,d,u,g,v,x,M,C;if(!e||e.length===0)throw new Error("latlngs not passed");pt(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var F=[];for(var G in e)F.push(t.project(W(e[G])));var X=F.length;for(s=0,d=0;s<X-1;s++)d+=F[s].distanceTo(F[s+1])/2;if(d===0)C=F[0];else for(s=0,g=0;s<X-1;s++)if(v=F[s],x=F[s+1],u=v.distanceTo(x),g+=u,g>d){M=(g-d)/u,C=[x.x-M*(x.x-v.x),x.y-M*(x.y-v.y)];break}return t.unproject(T(C))}var ss={__proto__:null,simplify:ra,pointToSegmentDistance:ts,closestPointOnSegment:jo,clipSegment:ns,_getEdgeIntersection:sa,_getBitCode:ei,_sqClosestPointOnSegment:xn,isFlat:pt,_flat:as,polylineCenter:rs};function os(e,t,s){var d,u=[1,4,2,8],g,v,x,M,C,F,G,X;for(g=0,F=e.length;g<F;g++)e[g]._code=ei(e[g],t);for(x=0;x<4;x++){for(G=u[x],d=[],g=0,F=e.length,v=F-1;g<F;v=g++)M=e[g],C=e[v],M._code&G?C._code&G||(X=sa(C,M,G,t,s),X._code=ei(X,t),d.push(X)):(C._code&G&&(X=sa(C,M,G,t,s),X._code=ei(X,t),d.push(X)),d.push(M));e=d}return e}function vi(e,t){var s,d,u,g,v,x,M,C,F;if(!e||e.length===0)throw new Error("latlngs not passed");pt(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var G=[];for(var X in e)G.push(t.project(W(e[X])));var yt=G.length;for(x=M=C=0,s=0,d=yt-1;s<yt;d=s++)u=G[s],g=G[d],v=u.y*g.x-g.y*u.x,M+=(u.x+g.x)*v,C+=(u.y+g.y)*v,x+=v*3;return x===0?F=G[0]:F=[M/x,C/x],t.unproject(T(F))}var qo={__proto__:null,clipPolygon:os,polygonCenter:vi},kn={project:function(e){return new S(e.lng,e.lat)},unproject:function(e){return new E(e.y,e.x)},bounds:new B([-180,-90],[180,90])},mr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var t=Math.PI/180,s=this.R,d=e.lat*t,u=this.R_MINOR/s,g=Math.sqrt(1-u*u),v=g*Math.sin(d),x=Math.tan(Math.PI/4-d/2)/Math.pow((1-v)/(1+v),g/2);return d=-s*Math.log(Math.max(x,1e-10)),new S(e.lng*t*s,d)},unproject:function(e){for(var t=180/Math.PI,s=this.R,d=this.R_MINOR/s,u=Math.sqrt(1-d*d),g=Math.exp(-e.y/s),v=Math.PI/2-2*Math.atan(g),x=0,M=.1,C;x<15&&Math.abs(M)>1e-7;x++)C=u*Math.sin(v),C=Math.pow((1-C)/(1+C),u/2),M=Math.PI/2-2*Math.atan(g*C)-v,v+=M;return new E(v*t,e.x*t/s)}},ur={__proto__:null,LonLat:kn,Mercator:mr,SphericalMercator:kt},Ko=i({},rt,{code:"EPSG:3395",projection:mr,transformation:function(){var e=.5/(Math.PI*mr.R);return It(e,.5,-e,.5)}()}),ls=i({},rt,{code:"EPSG:4326",projection:kn,transformation:It(1/180,1,-1/180,.5)}),Qo=i({},mt,{projection:kn,transformation:It(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var s=t.lng-e.lng,d=t.lat-e.lat;return Math.sqrt(s*s+d*d)},infinite:!0});mt.Earth=rt,mt.EPSG3395=Ko,mt.EPSG3857=mi,mt.EPSG900913=Oo,mt.EPSG4326=ls,mt.Simple=Qo;var Ct=Ot.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[p(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[p(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var s=this.getEvents();t.on(s,this),this.once("remove",function(){t.off(s,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});re.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=p(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=p(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return p(e)in this._layers},eachLayer:function(e,t){for(var s in this._layers)e.call(t,this._layers[s]);return this},_addLayers:function(e){e=e?ae(e)?e:[e]:[];for(var t=0,s=e.length;t<s;t++)this.addLayer(e[t])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[p(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=p(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,s=this._getZoomSpan();for(var d in this._zoomBoundLayers){var u=this._zoomBoundLayers[d].options;e=u.minZoom===void 0?e:Math.min(e,u.minZoom),t=u.maxZoom===void 0?t:Math.max(t,u.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var bi=Ct.extend({initialize:function(e,t){N(this,t),this._layers={};var s,d;if(e)for(s=0,d=e.length;s<d;s++)this.addLayer(e[s])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){var t=typeof e=="number"?e:this.getLayerId(e);return t in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t=Array.prototype.slice.call(arguments,1),s,d;for(s in this._layers)d=this._layers[s],d[e]&&d[e].apply(d,t);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var s in this._layers)e.call(t,this._layers[s]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return p(e)}}),$o=function(e,t){return new bi(e,t)},ti=bi.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),bi.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),bi.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new fe;for(var t in this._layers){var s=this._layers[t];e.extend(s.getBounds?s.getBounds():s.getLatLng())}return e}}),be=function(e,t){return new ti(e,t)},Zi=Ze.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){N(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var s=this._getIconUrl(e);if(!s){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(s,t&&t.tagName==="IMG"?t:null);return this._setIconStyles(d,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(e,t){var s=this.options,d=s[t+"Size"];typeof d=="number"&&(d=[d,d]);var u=T(d),g=T(t==="shadow"&&s.shadowAnchor||s.iconAnchor||u&&u.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(s.className||""),g&&(e.style.marginLeft=-g.x+"px",e.style.marginTop=-g.y+"px"),u&&(e.style.width=u.x+"px",e.style.height=u.y+"px")},_createImg:function(e,t){return t=t||document.createElement("img"),t.src=e,t},_getIconUrl:function(e){return H.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Xo(e){return new Zi(e)}var Wi=Zi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Wi.imagePath!="string"&&(Wi.imagePath=this._detectIconPath()),(this.options.imagePath||Wi.imagePath)+Zi.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(s,d,u){var g=d.exec(s);return g&&g[u]};return e=t(e,/^url\((['"])?(.+)\1\)$/,2),e&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=se("div","leaflet-default-icon-path",document.body),t=un(e,"background-image")||un(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t),t)return t;var s=document.querySelector('link[href$="leaflet.css"]');return s?s.href.substring(0,s.href.length-11-1):""}}),ds=ft.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Jt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),J(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,s=t._map,d=this._marker.options.autoPanSpeed,u=this._marker.options.autoPanPadding,g=Je(t._icon),v=s.getPixelBounds(),x=s.getPixelOrigin(),M=ne(v.min._subtract(x).add(u),v.max._subtract(x).subtract(u));if(!M.contains(g)){var C=T((Math.max(M.max.x,g.x)-M.max.x)/(v.max.x-M.max.x)-(Math.min(M.min.x,g.x)-M.min.x)/(v.min.x-M.min.x),(Math.max(M.max.y,g.y)-M.max.y)/(v.max.y-M.max.y)-(Math.min(M.min.y,g.y)-M.min.y)/(v.min.y-M.min.y)).multiplyBy(d);s.panBy(C,{animate:!1}),this._draggable._newPos._add(C),this._draggable._startPos._add(C),ke(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=Te(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(Le(this._panRequest),this._panRequest=Te(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,s=t._shadow,d=Je(t._icon),u=t._map.layerPointToLatLng(d);s&&ke(s,d),t._latlng=u,e.latlng=u,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){Le(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),oa=Ct.extend({options:{icon:new Wi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){N(this,t),this._latlng=W(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=W(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),s=e.icon.createIcon(this._icon),d=!1;s!==this._icon&&(this._icon&&this._removeIcon(),d=!0,e.title&&(s.title=e.title),s.tagName==="IMG"&&(s.alt=e.alt||"")),J(s,t),e.keyboard&&(s.tabIndex="0",s.setAttribute("role","button")),this._icon=s,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&K(s,"focus",this._panOnFocus,this);var u=e.icon.createShadow(this._shadow),g=!1;u!==this._shadow&&(this._removeShadow(),g=!0),u&&(J(u,t),u.alt=""),this._shadow=u,e.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),u&&g&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(this._icon,"focus",this._panOnFocus,this),xe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&xe(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&ke(this._icon,e),this._shadow&&ke(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(J(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ds)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ds(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&ut(this._icon,e),this._shadow&&ut(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,s=t.iconSize?T(t.iconSize):T(0,0),d=t.iconAnchor?T(t.iconAnchor):T(0,0);e.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:s.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Jo(e,t){return new oa(e,t)}var _t=Ct.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return N(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),la=_t.extend({options:{fill:!0,radius:10},initialize:function(e,t){N(this,t),this._latlng=W(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=W(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return _t.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,s=this._clickTolerance(),d=[e+s,t+s];this._pxBounds=new B(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function el(e,t){return new la(e,t)}var fr=la.extend({initialize:function(e,t,s){if(typeof t=="number"&&(t=i({},s,{radius:t})),N(this,t),this._latlng=W(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new fe(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:_t.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,s=this._map,d=s.options.crs;if(d.distance===rt.distance){var u=Math.PI/180,g=this._mRadius/rt.R/u,v=s.project([t+g,e]),x=s.project([t-g,e]),M=v.add(x).divideBy(2),C=s.unproject(M).lat,F=Math.acos((Math.cos(g*u)-Math.sin(t*u)*Math.sin(C*u))/(Math.cos(t*u)*Math.cos(C*u)))/u;(isNaN(F)||F===0)&&(F=g/Math.cos(Math.PI/180*t)),this._point=M.subtract(s.getPixelOrigin()),this._radius=isNaN(F)?0:M.x-s.project([C,e-F]).x,this._radiusY=M.y-v.y}else{var G=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(G).x}this._updateBounds()}});function da(e,t,s){return new fr(e,t,s)}var gt=_t.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){N(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t=1/0,s=null,d=xn,u,g,v=0,x=this._parts.length;v<x;v++)for(var M=this._parts[v],C=1,F=M.length;C<F;C++){u=M[C-1],g=M[C];var G=d(e,u,g,!0);G<t&&(t=G,s=d(e,u,g))}return s&&(s.distance=Math.sqrt(t)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=W(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new fe,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return pt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],s=pt(e),d=0,u=e.length;d<u;d++)s?(t[d]=W(e[d]),this._bounds.extend(t[d])):t[d]=this._convertLatLngs(e[d]);return t},_project:function(){var e=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new S(e,e);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,s){var d=e[0]instanceof E,u=e.length,g,v;if(d){for(v=[],g=0;g<u;g++)v[g]=this._map.latLngToLayerPoint(e[g]),s.extend(v[g]);t.push(v)}else for(g=0;g<u;g++)this._projectLatlngs(e[g],t,s)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var t=this._parts,s,d,u,g,v,x,M;for(s=0,u=0,g=this._rings.length;s<g;s++)for(M=this._rings[s],d=0,v=M.length;d<v-1;d++)x=ns(M[d],M[d+1],e,d,!0),x&&(t[u]=t[u]||[],t[u].push(x[0]),(x[1]!==M[d+1]||d===v-2)&&(t[u].push(x[1]),u++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,s=0,d=e.length;s<d;s++)e[s]=ra(e[s],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var s,d,u,g,v,x,M=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(s=0,g=this._parts.length;s<g;s++)for(x=this._parts[s],d=0,v=x.length,u=v-1;d<v;u=d++)if(!(!t&&d===0)&&ts(e,x[u],x[d])<=M)return!0;return!1}});function pr(e,t){return new gt(e,t)}gt._flat=as;var ji=gt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=gt.prototype._convertLatLngs.call(this,e),s=t.length;return s>=2&&t[0]instanceof E&&t[0].equals(t[s-1])&&t.pop(),t},_setLatLngs:function(e){gt.prototype._setLatLngs.call(this,e),pt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return pt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,s=new S(t,t);if(e=new B(e.min.subtract(s),e.max.add(s)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,u=this._rings.length,g;d<u;d++)g=os(this._rings[d],e,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t=!1,s,d,u,g,v,x,M,C;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(g=0,M=this._parts.length;g<M;g++)for(s=this._parts[g],v=0,C=s.length,x=C-1;v<C;x=v++)d=s[v],u=s[x],d.y>e.y!=u.y>e.y&&e.x<(u.x-d.x)*(e.y-d.y)/(u.y-d.y)+d.x&&(t=!t);return t||gt.prototype._containsPoint.call(this,e,!0)}});function cs(e,t){return new ji(e,t)}var jt=ti.extend({initialize:function(e,t){N(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t=ae(e)?e:e.features,s,d,u;if(t){for(s=0,d=t.length;s<d;s++)u=t[s],(u.geometries||u.geometry||u.features||u.coordinates)&&this.addData(u);return this}var g=this.options;if(g.filter&&!g.filter(e))return this;var v=Ui(e,g);return v?(v.feature=ua(e),v.defaultOptions=v.options,this.resetStyle(v),g.onEachFeature&&g.onEachFeature(e,v),this.addLayer(v)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=i({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&(typeof t=="function"&&(t=t(e.feature)),e.setStyle(t))}});function Ui(e,t){var s=e.type==="Feature"?e.geometry:e,d=s?s.coordinates:null,u=[],g=t&&t.pointToLayer,v=t&&t.coordsToLatLng||Mn,x,M,C,F;if(!d&&!s)return null;switch(s.type){case"Point":return x=v(d),ca(g,e,x,t);case"MultiPoint":for(C=0,F=d.length;C<F;C++)x=v(d[C]),u.push(ca(g,e,x,t));return new ti(u);case"LineString":case"MultiLineString":return M=ha(d,s.type==="LineString"?0:1,v),new gt(M,t);case"Polygon":case"MultiPolygon":return M=ha(d,s.type==="Polygon"?1:2,v),new ji(M,t);case"GeometryCollection":for(C=0,F=s.geometries.length;C<F;C++){var G=Ui({geometry:s.geometries[C],type:"Feature",properties:e.properties},t);G&&u.push(G)}return new ti(u);case"FeatureCollection":for(C=0,F=s.features.length;C<F;C++){var X=Ui(s.features[C],t);X&&u.push(X)}return new ti(u);default:throw new Error("Invalid GeoJSON object.")}}function ca(e,t,s,d){return e?e(t,s):new oa(s,d&&d.markersInheritOptions&&d)}function Mn(e){return new E(e[1],e[0],e[2])}function ha(e,t,s){for(var d=[],u=0,g=e.length,v;u<g;u++)v=t?ha(e[u],t-1,s):(s||Mn)(e[u]),d.push(v);return d}function _r(e,t){return e=W(e),e.alt!==void 0?[I(e.lng,t),I(e.lat,t),I(e.alt,t)]:[I(e.lng,t),I(e.lat,t)]}function ma(e,t,s,d){for(var u=[],g=0,v=e.length;g<v;g++)u.push(t?ma(e[g],pt(e[g])?0:t-1,s,d):_r(e[g],d));return!t&&s&&u.push(u[0]),u}function Gi(e,t){return e.feature?i({},e.feature,{geometry:t}):ua(t)}function ua(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var gr={toGeoJSON:function(e){return Gi(this,{type:"Point",coordinates:_r(this.getLatLng(),e)})}};oa.include(gr),fr.include(gr),la.include(gr),gt.include({toGeoJSON:function(e){var t=!pt(this._latlngs),s=ma(this._latlngs,t?1:0,!1,e);return Gi(this,{type:(t?"Multi":"")+"LineString",coordinates:s})}}),ji.include({toGeoJSON:function(e){var t=!pt(this._latlngs),s=t&&!pt(this._latlngs[0]),d=ma(this._latlngs,s?2:t?1:0,!0,e);return t||(d=[d]),Gi(this,{type:(s?"Multi":"")+"Polygon",coordinates:d})}}),bi.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(s){t.push(s.toGeoJSON(e).geometry.coordinates)}),Gi(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t==="MultiPoint")return this.toMultiPoint(e);var s=t==="GeometryCollection",d=[];return this.eachLayer(function(u){if(u.toGeoJSON){var g=u.toGeoJSON(e);if(s)d.push(g.geometry);else{var v=ua(g);v.type==="FeatureCollection"?d.push.apply(d,v.features):d.push(v)}}}),s?Gi(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function hs(e,t){return new jt(e,t)}var tl=hs,fa=Ct.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,s){this._url=e,this._bounds=ie(t),N(this,s)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(J(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){xe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&zi(this._image),this},bringToBack:function(){return this._map&&Vi(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ie(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",t=this._image=e?this._url:se("img");if(J(t,"leaflet-image-layer"),this._zoomAnimated&&J(t,"leaflet-zoom-animated"),this.options.className&&J(t,this.options.className),t.onselectstart=k,t.onmousemove=k,t.onload=o(this.fire,this,"load"),t.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(t.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=t.src;return}t.src=this._url,t.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),s=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;$t(this._image,s,t)},_reset:function(){var e=this._image,t=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),s=t.getSize();ke(e,t.min),e.style.width=s.x+"px",e.style.height=s.y+"px"},_updateOpacity:function(){ut(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),il=function(e,t,s){return new fa(e,t,s)},yr=fa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",t=this._image=e?this._url:se("video");if(J(t,"leaflet-image-layer"),this._zoomAnimated&&J(t,"leaflet-zoom-animated"),this.options.className&&J(t,this.options.className),t.onselectstart=k,t.onmousemove=k,t.onloadeddata=o(this.fire,this,"load"),e){for(var s=t.getElementsByTagName("source"),d=[],u=0;u<s.length;u++)d.push(s[u].src);this._url=s.length>0?d:[t.src];return}ae(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var v=se("source");v.src=this._url[g],t.appendChild(v)}}});function nl(e,t,s){return new yr(e,t,s)}var ms=fa.extend({_initImage:function(){var e=this._image=this._url;J(e,"leaflet-image-layer"),this._zoomAnimated&&J(e,"leaflet-zoom-animated"),this.options.className&&J(e,this.options.className),e.onselectstart=k,e.onmousemove=k}});function Tt(e,t,s){return new ms(e,t,s)}var $e=Ct.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof L.LatLng||ae(e))?(this._latlng=W(e),N(this,t)):(N(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&ut(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&ut(this._container,1),this.bringToFront(),this.options.interactive&&(J(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(ut(this._container,0),this._removeTimeout=setTimeout(o(xe,void 0,this._container),200)):xe(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=W(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zi(this._container),this},bringToBack:function(){return this._map&&Vi(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof ti){t=null;var s=this._source._layers;for(var d in s)if(s[d]._map){t=s[d];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else if(t.getBounds)e=t.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof t=="string")e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=T(this.options.offset),s=this._getAnchor();this._zoomAnimated?ke(this._container,e.add(s)):t=t.add(e).add(s);var d=this._containerBottom=-t.y,u=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=d+"px",this._container.style.left=u+"px"}},_getAnchor:function(){return[0,0]}});re.include({_initOverlay:function(e,t,s,d){var u=t;return u instanceof e||(u=new e(d).setContent(t)),s&&u.setLatLng(s),u}}),Ct.include({_initOverlay:function(e,t,s,d){var u=s;return u instanceof e?(N(u,d),u._source=this):(u=t&&!d?t:new e(d,this),u.setContent(s)),u}});var Dn=$e.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,$e.prototype.openOn.call(this,e)},onAdd:function(e){$e.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof _t||this._source.on("preclick",_i))},onRemove:function(e){$e.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof _t||this._source.off("preclick",_i))},getEvents:function(){var e=$e.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=se("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),s=this._wrapper=se("div",e+"-content-wrapper",t);if(this._contentNode=se("div",e+"-content",s),bn(t),lr(this._contentNode),K(t,"contextmenu",_i),this._tipContainer=se("div",e+"-tip-container",t),this._tip=se("div",e+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=se("a",e+"-close-button",t);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',K(d,"click",function(u){je(u),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var s=e.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),t.width=s+1+"px",t.whiteSpace="",t.height="";var d=e.offsetHeight,u=this.options.maxHeight,g="leaflet-popup-scrolled";u&&d>u?(t.height=u+"px",J(e,g)):ye(e,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),s=this._getAnchor();ke(this._container,t.add(s))},_adjustPan:function(e){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,s=parseInt(un(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+s,u=this._containerWidth,g=new S(this._containerLeft,-d-this._containerBottom);g._add(Je(this._container));var v=t.layerPointToContainerPoint(g),x=T(this.options.autoPanPadding),M=T(this.options.autoPanPaddingTopLeft||x),C=T(this.options.autoPanPaddingBottomRight||x),F=t.getSize(),G=0,X=0;v.x+u+C.x>F.x&&(G=v.x+u-F.x+C.x),v.x-G-M.x<0&&(G=v.x-M.x),v.y+d+C.y>F.y&&(X=v.y+d-F.y+C.y),v.y-X-M.y<0&&(X=v.y-M.y),(G||X)&&t.fire("autopanstart").panBy([G,X],{animate:e&&e.type==="moveend"})}},_getAnchor:function(){return T(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),al=function(e,t){return new Dn(e,t)};re.mergeOptions({closePopupOnClick:!0}),re.include({openPopup:function(e,t,s){return this._initOverlay(Dn,e,t,s).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Ct.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Dn,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){gi(e);var t=e.layer||e.target;if(this._popup._source===t&&!(t instanceof _t)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=t,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Sn=$e.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){$e.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){$e.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=$e.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",t=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=se("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,s,d=this._map,u=this._container,g=d.latLngToContainerPoint(d.getCenter()),v=d.layerPointToContainerPoint(e),x=this.options.direction,M=u.offsetWidth,C=u.offsetHeight,F=T(this.options.offset),G=this._getAnchor();x==="top"?(t=M/2,s=C):x==="bottom"?(t=M/2,s=0):x==="center"?(t=M/2,s=C/2):x==="right"?(t=0,s=C/2):x==="left"?(t=M,s=C/2):v.x<g.x?(x="right",t=0,s=C/2):(x="left",t=M+(F.x+G.x)*2,s=C/2),e=e.subtract(T(t,s,!0)).add(F).add(G),ye(u,"leaflet-tooltip-right"),ye(u,"leaflet-tooltip-left"),ye(u,"leaflet-tooltip-top"),ye(u,"leaflet-tooltip-bottom"),J(u,"leaflet-tooltip-"+x),ke(u,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&ut(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return T(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),us=function(e,t){return new Sn(e,t)};re.include({openTooltip:function(e,t,s){return this._initOverlay(Sn,e,t,s).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Ct.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Sn,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var t=e?"off":"on",s={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?s.add=this._openTooltip:(s.mouseover=this._openTooltip,s.mouseout=this.closeTooltip,s.click=this._openTooltip,this._map?this._addFocusListeners():s.add=this._addFocusListeners),this._tooltip.options.sticky&&(s.mousemove=this._moveTooltip),this[t](s),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this)),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=e.getElement();t&&(K(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),K(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var t=e.latlng,s,d;this._tooltip.options.sticky&&e.originalEvent&&(s=this._map.mouseEventToContainerPoint(e.originalEvent),d=this._map.containerPointToLayerPoint(s),t=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(t)}});var fs=Zi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&e.tagName==="DIV"?e:document.createElement("div"),s=this.options;if(s.html instanceof Element?(fn(t),t.appendChild(s.html)):t.innerHTML=s.html!==!1?s.html:"",s.bgPos){var d=T(s.bgPos);t.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function rl(e){return new fs(e)}Zi.Default=Wi;var qi=Ct.extend({options:{tileSize:256,opacity:1,updateWhenIdle:H.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){N(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),xe(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof S?e:new S(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t=this.getPane().children,s=-e(-1/0,1/0),d=0,u=t.length,g;d<u;d++)g=t[d].style.zIndex,t[d]!==this._container&&g&&(s=e(s,+g));isFinite(s)&&(this.options.zIndex=s+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!H.ielt9){ut(this._container,this.options.opacity);var e=+new Date,t=!1,s=!1;for(var d in this._tiles){var u=this._tiles[d];if(!(!u.current||!u.loaded)){var g=Math.min(1,(e-u.loaded)/200);ut(u.el,g),g<1?t=!0:(u.active?s=!0:this._onOpaqueTile(u),u.active=!0)}}s&&!this._noPrune&&this._pruneTiles(),t&&(Le(this._fadeFrame),this._fadeFrame=Te(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(e!==void 0){for(var s in this._levels)s=Number(s),this._levels[s].el.children.length||s===e?(this._levels[s].el.style.zIndex=t-Math.abs(e-s),this._onUpdateLevel(s)):(xe(this._levels[s].el),this._removeTilesAtZoom(s),this._onRemoveLevel(s),delete this._levels[s]);var d=this._levels[e],u=this._map;return d||(d=this._levels[e]={},d.el=se("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=t,d.origin=u.project(u.unproject(u.getPixelOrigin()),e).round(),d.zoom=e,this._setZoomTransform(d,u.getCenter(),u.getZoom()),k(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var e,t,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var d=t.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)xe(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,s,d){var u=Math.floor(e/2),g=Math.floor(t/2),v=s-1,x=new S(+u,+g);x.z=+v;var M=this._tileCoordsToKey(x),C=this._tiles[M];return C&&C.active?(C.retain=!0,!0):(C&&C.loaded&&(C.retain=!0),v>d?this._retainParent(u,g,v,d):!1)},_retainChildren:function(e,t,s,d){for(var u=2*e;u<2*e+2;u++)for(var g=2*t;g<2*t+2;g++){var v=new S(u,g);v.z=s+1;var x=this._tileCoordsToKey(v),M=this._tiles[x];if(M&&M.active){M.retain=!0;continue}else M&&M.loaded&&(M.retain=!0);s+1<d&&this._retainChildren(u,g,s+1,d)}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return t.minNativeZoom!==void 0&&e<t.minNativeZoom?t.minNativeZoom:t.maxNativeZoom!==void 0&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,s,d){var u=Math.round(t);this.options.maxZoom!==void 0&&u>this.options.maxZoom||this.options.minZoom!==void 0&&u<this.options.minZoom?u=void 0:u=this._clampZoom(u);var g=this.options.updateWhenZooming&&u!==this._tileZoom;(!d||g)&&(this._tileZoom=u,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),u!==void 0&&this._update(e),s||this._pruneTiles(),this._noPrune=!!s),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var s in this._levels)this._setZoomTransform(this._levels[s],e,t)},_setZoomTransform:function(e,t,s){var d=this._map.getZoomScale(s,e.zoom),u=e.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(t,s)).round();H.any3d?$t(e.el,u,d):ke(e.el,u)},_resetGrid:function(){var e=this._map,t=e.options.crs,s=this._tileSize=this.getTileSize(),d=this._tileZoom,u=this._map.getPixelWorldBounds(this._tileZoom);u&&(this._globalTileRange=this._pxBoundsToTileRange(u)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],d).x/s.x),Math.ceil(e.project([0,t.wrapLng[1]],d).x/s.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],d).y/s.x),Math.ceil(e.project([t.wrapLat[1],0],d).y/s.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var t=this._map,s=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),d=t.getZoomScale(s,this._tileZoom),u=t.project(e,this._tileZoom).floor(),g=t.getSize().divideBy(d*2);return new B(u.subtract(g),u.add(g))},_update:function(e){var t=this._map;if(t){var s=this._clampZoom(t.getZoom());if(e===void 0&&(e=t.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(e),u=this._pxBoundsToTileRange(d),g=u.getCenter(),v=[],x=this.options.keepBuffer,M=new B(u.getBottomLeft().subtract([x,-x]),u.getTopRight().add([x,-x]));if(!(isFinite(u.min.x)&&isFinite(u.min.y)&&isFinite(u.max.x)&&isFinite(u.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var C in this._tiles){var F=this._tiles[C].coords;(F.z!==this._tileZoom||!M.contains(new S(F.x,F.y)))&&(this._tiles[C].current=!1)}if(Math.abs(s-this._tileZoom)>1){this._setView(e,s);return}for(var G=u.min.y;G<=u.max.y;G++)for(var X=u.min.x;X<=u.max.x;X++){var yt=new S(X,G);if(yt.z=this._tileZoom,!!this._isValidTile(yt)){var wi=this._tiles[this._tileCoordsToKey(yt)];wi?wi.current=!0:v.push(yt)}}if(v.sort(function(ii,vr){return ii.distanceTo(g)-vr.distanceTo(g)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ga=document.createDocumentFragment();for(X=0;X<v.length;X++)this._addTile(v[X],ga);this._level.el.appendChild(ga)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var s=this._globalTileRange;if(!t.wrapLng&&(e.x<s.min.x||e.x>s.max.x)||!t.wrapLat&&(e.y<s.min.y||e.y>s.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(e);return ie(this.options.bounds).overlaps(d)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,s=this.getTileSize(),d=e.scaleBy(s),u=d.add(s),g=t.unproject(d,e.z),v=t.unproject(u,e.z);return[g,v]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),s=new fe(t[0],t[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),s=new S(+t[0],+t[1]);return s.z=+t[2],s},_removeTile:function(e){var t=this._tiles[e];t&&(xe(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){J(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=k,e.onmousemove=k,H.ielt9&&this.options.opacity<1&&ut(e,this.options.opacity)},_addTile:function(e,t){var s=this._getTilePos(e),d=this._tileCoordsToKey(e),u=this.createTile(this._wrapCoords(e),o(this._tileReady,this,e));this._initTile(u),this.createTile.length<2&&Te(o(this._tileReady,this,e,null,u)),ke(u,s),this._tiles[d]={el:u,coords:e,current:!0},t.appendChild(u),this.fire("tileloadstart",{tile:u,coords:e})},_tileReady:function(e,t,s){t&&this.fire("tileerror",{error:t,tile:s,coords:e});var d=this._tileCoordsToKey(e);s=this._tiles[d],s&&(s.loaded=+new Date,this._map._fadeAnimated?(ut(s.el,0),Le(this._fadeFrame),this._fadeFrame=Te(this._updateOpacity,this)):(s.active=!0,this._pruneTiles()),t||(J(s.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:s.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),H.ielt9||!this._map._fadeAnimated?Te(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new S(this._wrapX?w(e.x,this._wrapX):e.x,this._wrapY?w(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new B(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function sl(e){return new qi(e)}var Ki=qi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,t=N(this,t),t.detectRetina&&H.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),typeof t.subdomains=="string"&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&t===void 0&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var s=document.createElement("img");return K(s,"load",o(this._tileOnLoad,this,t,s)),K(s,"error",o(this._tileOnError,this,t,s)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(s.referrerPolicy=this.options.referrerPolicy),s.alt="",s.src=this.getTileUrl(e),s},getTileUrl:function(e){var t={r:H.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var s=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=s),t["-y"]=s}return he(this._url,i(t,this.options))},_tileOnLoad:function(e,t){H.ielt9?setTimeout(o(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,s){var d=this.options.errorTileUrl;d&&t.getAttribute("src")!==d&&(t.src=d),e(s,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,s=this.options.zoomReverse,d=this.options.zoomOffset;return s&&(e=t-e),e+d},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=k,t.onerror=k,!t.complete)){t.src=Ae;var s=this._tiles[e].coords;xe(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:s})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",Ae),qi.prototype._removeTile.call(this,e)},_tileReady:function(e,t,s){if(!(!this._map||s&&s.getAttribute("src")===Ae))return qi.prototype._tileReady.call(this,e,t,s)}});function ps(e,t){return new Ki(e,t)}var _s=Ki.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var s=i({},this.defaultWmsParams);for(var d in t)d in this.options||(s[d]=t[d]);t=N(this,t);var u=t.detectRetina&&H.retina?2:1,g=this.getTileSize();s.width=g.x*u,s.height=g.y*u,this.wmsParams=s},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Ki.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),s=this._crs,d=ne(s.project(t[0]),s.project(t[1])),u=d.min,g=d.max,v=(this._wmsVersion>=1.3&&this._crs===ls?[u.y,u.x,g.y,g.x]:[u.x,u.y,g.x,g.y]).join(","),x=Ki.prototype.getTileUrl.call(this,e);return x+A(this.wmsParams,x,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(e,t){return i(this.wmsParams,e),t||this.redraw(),this}});function ol(e,t){return new _s(e,t)}Ki.WMS=_s,ps.wms=ol;var Ut=Ct.extend({options:{padding:.1},initialize:function(e){N(this,e),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&J(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var s=this._map.getZoomScale(t,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),u=this._map.project(this._center,t),g=d.multiplyBy(-s).add(u).subtract(this._map._getNewPixelOrigin(e,t));H.any3d?$t(this._container,g,s):ke(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),s=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new B(s,s.add(t.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),gs=Ut.extend({options:{tolerance:0},getEvents:function(){var e=Ut.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ut.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");K(e,"mousemove",this._onMouseMove,this),K(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),K(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){Le(this._redrawRequest),delete this._ctx,xe(this._container),_e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var t in this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ut.prototype._update.call(this);var e=this._bounds,t=this._container,s=e.getSize(),d=H.retina?2:1;ke(t,e.min),t.width=d*s.x,t.height=d*s.y,t.style.width=s.x+"px",t.style.height=s.y+"px",H.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ut.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[p(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,s=t.next,d=t.prev;s?s.prev=d:this._drawLast=d,d?d.next=s:this._drawFirst=s,delete e._order,delete this._layers[p(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var t=e.options.dashArray.split(/[, ]+/),s=[],d,u;for(u=0;u<t.length;u++){if(d=Number(t[u]),isNaN(d))return;s.push(d)}e.options._dashArray=s}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||Te(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var s=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,s.x,s.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)e=d.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var s,d,u,g,v=e._parts,x=v.length,M=this._ctx;if(x){for(M.beginPath(),s=0;s<x;s++){for(d=0,u=v[s].length;d<u;d++)g=v[s][d],M[d?"lineTo":"moveTo"](g.x,g.y);t&&M.closePath()}this._fillStroke(M,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var t=e._point,s=this._ctx,d=Math.max(Math.round(e._radius),1),u=(Math.max(Math.round(e._radiusY),1)||d)/d;u!==1&&(s.save(),s.scale(1,u)),s.beginPath(),s.arc(t.x,t.y/u,d,0,Math.PI*2,!1),u!==1&&s.restore(),this._fillStroke(s,e)}},_fillStroke:function(e,t){var s=t.options;s.fill&&(e.globalAlpha=s.fillOpacity,e.fillStyle=s.fillColor||s.color,e.fill(s.fillRule||"evenodd")),s.stroke&&s.weight!==0&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=s.opacity,e.lineWidth=s.weight,e.strokeStyle=s.color,e.lineCap=s.lineCap,e.lineJoin=s.lineJoin,e.stroke())},_onClick:function(e){for(var t=this._map.mouseEventToLayerPoint(e),s,d,u=this._drawFirst;u;u=u.next)s=u.layer,s.options.interactive&&s._containsPoint(t)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(s))&&(d=s);this._fireEvent(d?[d]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(ye(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var s,d,u=this._drawFirst;u;u=u.next)s=u.layer,s.options.interactive&&s._containsPoint(t)&&(d=s);d!==this._hoveredLayer&&(this._handleMouseOut(e),d&&(J(this._container,"leaflet-interactive"),this._fireEvent([d],e,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,s){this._map._fireDOMEvent(t,s||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var s=t.next,d=t.prev;if(s)s.prev=d;else return;d?d.next=s:s&&(this._drawFirst=s),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e)}},_bringToBack:function(e){var t=e._order;if(t){var s=t.next,d=t.prev;if(d)d.next=s;else return;s?s.prev=d:d&&(this._drawLast=d),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e)}}});function ys(e){return H.canvas?new gs(e):null}var Cn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ll={_initContainer:function(){this._container=se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ut.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Cn("shape");J(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Cn("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[p(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;xe(t),e.removeInteractiveTarget(t),delete this._layers[p(e)]},_updateStyle:function(e){var t=e._stroke,s=e._fill,d=e.options,u=e._container;u.stroked=!!d.stroke,u.filled=!!d.fill,d.stroke?(t||(t=e._stroke=Cn("stroke")),u.appendChild(t),t.weight=d.weight+"px",t.color=d.color,t.opacity=d.opacity,d.dashArray?t.dashStyle=ae(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=d.lineCap.replace("butt","flat"),t.joinstyle=d.lineJoin):t&&(u.removeChild(t),e._stroke=null),d.fill?(s||(s=e._fill=Cn("fill")),u.appendChild(s),s.color=d.fillColor||d.color,s.opacity=d.fillOpacity):s&&(u.removeChild(s),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),s=Math.round(e._radius),d=Math.round(e._radiusY||s);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+s+","+d+" 0,"+65535*360)},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){zi(e._container)},_bringToBack:function(e){Vi(e._container)}},pa=H.vml?Cn:Br,Tn=Ut.extend({_initContainer:function(){this._container=pa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){xe(this._container),_e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ut.prototype._update.call(this);var e=this._bounds,t=e.getSize(),s=this._container;(!this._svgSize||!this._svgSize.equals(t))&&(this._svgSize=t,s.setAttribute("width",t.x),s.setAttribute("height",t.y)),ke(s,e.min),s.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=pa("path");e.options.className&&J(t,e.options.className),e.options.interactive&&J(t,"leaflet-interactive"),this._updateStyle(e),this._layers[p(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){xe(e._path),e.removeInteractiveTarget(e._path),delete this._layers[p(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,s=e.options;t&&(s.stroke?(t.setAttribute("stroke",s.color),t.setAttribute("stroke-opacity",s.opacity),t.setAttribute("stroke-width",s.weight),t.setAttribute("stroke-linecap",s.lineCap),t.setAttribute("stroke-linejoin",s.lineJoin),s.dashArray?t.setAttribute("stroke-dasharray",s.dashArray):t.removeAttribute("stroke-dasharray"),s.dashOffset?t.setAttribute("stroke-dashoffset",s.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),s.fill?(t.setAttribute("fill",s.fillColor||s.color),t.setAttribute("fill-opacity",s.fillOpacity),t.setAttribute("fill-rule",s.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Yr(e._parts,t))},_updateCircle:function(e){var t=e._point,s=Math.max(Math.round(e._radius),1),d=Math.max(Math.round(e._radiusY),1)||s,u="a"+s+","+d+" 0 1,0 ",g=e._empty()?"M0 0":"M"+(t.x-s)+","+t.y+u+s*2+",0 "+u+-s*2+",0 ";this._setPath(e,g)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){zi(e._path)},_bringToBack:function(e){Vi(e._path)}});H.vml&&Tn.include(ll);function vs(e){return H.svg||H.vml?new Tn(e):null}re.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var t=this._paneRenderers[e];return t===void 0&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&ys(e)||vs(e)}});var bs=ji.extend({initialize:function(e,t){ji.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=ie(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function _a(e,t){return new bs(e,t)}Tn.create=pa,Tn.pointsToPath=Yr,jt.geometryToLayer=Ui,jt.coordsToLatLng=Mn,jt.coordsToLatLngs=ha,jt.latLngToCoords=_r,jt.latLngsToCoords=ma,jt.getFeature=Gi,jt.asFeature=ua,re.mergeOptions({boxZoom:!0});var ws=ft.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){K(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){xe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),_n(),er(),this._startPoint=this._map.mouseEventToContainerPoint(e),K(document,{contextmenu:gi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=se("div","leaflet-zoom-box",this._container),J(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new B(this._point,this._startPoint),s=t.getSize();ke(this._box,t.min),this._box.style.width=s.x+"px",this._box.style.height=s.y+"px"},_finish:function(){this._moved&&(xe(this._box),ye(this._container,"leaflet-crosshair")),gn(),tr(),_e(document,{contextmenu:gi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var t=new fe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});re.addInitHook("addHandler","boxZoom",ws),re.mergeOptions({doubleClickZoom:!0});var xs=ft.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,s=t.getZoom(),d=t.options.zoomDelta,u=e.originalEvent.shiftKey?s-d:s+d;t.options.doubleClickZoom==="center"?t.setZoom(u):t.setZoomAround(e.containerPoint,u)}});re.addInitHook("addHandler","doubleClickZoom",xs),re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ks=ft.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Jt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}J(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=ie(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,s=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(s),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),s=this._initialWorldOffset,d=this._draggable._newPos.x,u=(d-t+s)%e+t-s,g=(d+t+s)%e-t-s,v=Math.abs(u+s)<Math.abs(g+s)?u:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(e){var t=this._map,s=t.options,d=!s.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),d)t.fire("moveend");else{this._prunePositions(+new Date);var u=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,v=s.easeLinearity,x=u.multiplyBy(v/g),M=x.distanceTo([0,0]),C=Math.min(s.inertiaMaxSpeed,M),F=x.multiplyBy(C/M),G=C/(s.inertiaDeceleration*v),X=F.multiplyBy(-G/2).round();!X.x&&!X.y?t.fire("moveend"):(X=t._limitOffset(X,t.options.maxBounds),Te(function(){t.panBy(X,{duration:G,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});re.addInitHook("addHandler","dragging",ks),re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ms=ft.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),K(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,s=e.scrollTop||t.scrollTop,d=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(d,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t=this._panKeys={},s=this.keyCodes,d,u;for(d=0,u=s.left.length;d<u;d++)t[s.left[d]]=[-1*e,0];for(d=0,u=s.right.length;d<u;d++)t[s.right[d]]=[e,0];for(d=0,u=s.down.length;d<u;d++)t[s.down[d]]=[0,e];for(d=0,u=s.up.length;d<u;d++)t[s.up[d]]=[0,-1*e]},_setZoomDelta:function(e){var t=this._zoomKeys={},s=this.keyCodes,d,u;for(d=0,u=s.zoomIn.length;d<u;d++)t[s.zoomIn[d]]=e;for(d=0,u=s.zoomOut.length;d<u;d++)t[s.zoomOut[d]]=-e},_addHooks:function(){K(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=e.keyCode,s=this._map,d;if(t in this._panKeys)(!s._panAnim||!s._panAnim._inProgress)&&(d=this._panKeys[t],e.shiftKey&&(d=T(d).multiplyBy(3)),s.panBy(d),s.options.maxBounds&&s.panInsideBounds(s.options.maxBounds));else if(t in this._zoomKeys)s.setZoom(s.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[t]);else if(t===27&&s._popup&&s._popup.options.closeOnEscapeKey)s.closePopup();else return;gi(e)}}});re.addInitHook("addHandler","keyboard",Ms),re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ds=ft.extend({addHooks:function(){K(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Xr(e),s=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var d=Math.max(s-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),d),gi(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),s=this._map.options.zoomSnap||0;e._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),u=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,g=s?Math.ceil(u/s)*s:u,v=e._limitZoom(t+(this._delta>0?g:-g))-t;this._delta=0,this._startTime=null,v&&(e.options.scrollWheelZoom==="center"?e.setZoom(t+v):e.setZoomAround(this._lastMousePos,t+v))}});re.addInitHook("addHandler","scrollWheelZoom",Ds);var dl=600;re.mergeOptions({tapHold:H.touchNative&&H.safari&&H.mobile,tapTolerance:15});var Ss=ft.extend({addHooks:function(){K(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var t=e.touches[0];this._startPos=this._newPos=new S(t.clientX,t.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(K(document,"touchend",je),K(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),dl),K(document,"touchend touchcancel contextmenu",this._cancel,this),K(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){_e(document,"touchend",je),_e(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new S(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var s=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});s._simulated=!0,t.target.dispatchEvent(s)}});re.addInitHook("addHandler","tapHold",Ss),re.mergeOptions({touchZoom:H.touch,bounceAtZoomLimits:!0});var Cs=ft.extend({addHooks:function(){J(this._map._container,"leaflet-touch-zoom"),K(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(!(!e.touches||e.touches.length!==2||t._animatingZoom||this._zooming)){var s=t.mouseEventToContainerPoint(e.touches[0]),d=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),t.options.touchZoom!=="center"&&(this._pinchStartLatLng=t.containerPointToLatLng(s.add(d)._divideBy(2))),this._startDist=s.distanceTo(d),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),K(document,"touchmove",this._onTouchMove,this),K(document,"touchend touchcancel",this._onTouchEnd,this),je(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var t=this._map,s=t.mouseEventToContainerPoint(e.touches[0]),d=t.mouseEventToContainerPoint(e.touches[1]),u=s.distanceTo(d)/this._startDist;if(this._zoom=t.getScaleZoom(u,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&u<1||this._zoom>t.getMaxZoom()&&u>1)&&(this._zoom=t._limitZoom(this._zoom)),t.options.touchZoom==="center"){if(this._center=this._startLatLng,u===1)return}else{var g=s._add(d)._divideBy(2)._subtract(this._centerPoint);if(u===1&&g.x===0&&g.y===0)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),Le(this._animRequest);var v=o(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Te(v,this,!0),je(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Le(this._animRequest),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});re.addInitHook("addHandler","touchZoom",Cs),re.BoxZoom=ws,re.DoubleClickZoom=xs,re.Drag=ks,re.Keyboard=Ms,re.ScrollWheelZoom=Ds,re.TapHold=Ss,re.TouchZoom=Cs,c.Bounds=B,c.Browser=H,c.CRS=mt,c.Canvas=gs,c.Circle=fr,c.CircleMarker=la,c.Class=Ze,c.Control=St,c.DivIcon=fs,c.DivOverlay=$e,c.DomEvent=Jr,c.DomUtil=Vo,c.Draggable=Jt,c.Evented=Ot,c.FeatureGroup=ti,c.GeoJSON=jt,c.GridLayer=qi,c.Handler=ft,c.Icon=Zi,c.ImageOverlay=fa,c.LatLng=E,c.LatLngBounds=fe,c.Layer=Ct,c.LayerGroup=bi,c.LineUtil=ss,c.Map=re,c.Marker=oa,c.Mixin=Wo,c.Path=_t,c.Point=S,c.PolyUtil=qo,c.Polygon=ji,c.Polyline=gt,c.Popup=Dn,c.PosAnimation=es,c.Projection=ur,c.Rectangle=bs,c.Renderer=Ut,c.SVG=Tn,c.SVGOverlay=ms,c.TileLayer=Ki,c.Tooltip=Sn,c.Transformation=Ke,c.Util=at,c.VideoOverlay=yr,c.bind=o,c.bounds=ne,c.canvas=ys,c.circle=da,c.circleMarker=el,c.control=Bi,c.divIcon=rl,c.extend=i,c.featureGroup=be,c.geoJSON=hs,c.geoJson=tl,c.gridLayer=sl,c.icon=Xo,c.imageOverlay=il,c.latLng=W,c.latLngBounds=ie,c.layerGroup=$o,c.map=Bo,c.marker=Jo,c.point=T,c.polygon=cs,c.polyline=pr,c.popup=al,c.rectangle=_a,c.setOptions=N,c.stamp=p,c.svg=vs,c.svgOverlay=Tt,c.tileLayer=ps,c.tooltip=us,c.transformation=It,c.version=a,c.videoOverlay=nl;var Ts=window.L;c.noConflict=function(){return window.L=Ts,this},window.L=c})});var Gl=Gd((Ul,Ra)=>{(function(c,a){typeof Ul=="object"&&typeof Ra<"u"?Ra.exports=a():typeof define=="function"&&define.amd?define(a):c.moment=a()})(Ul,function(){"use strict";var c;function a(){return c.apply(null,arguments)}function i(n){c=n}function r(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function o(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function h(n,l){return Object.prototype.hasOwnProperty.call(n,l)}function p(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var l;for(l in n)if(h(n,l))return!1;return!0}function y(n){return n===void 0}function w(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function k(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function I(n,l){var m=[],f,_=n.length;for(f=0;f<_;++f)m.push(l(n[f],f));return m}function R(n,l){for(var m in l)h(l,m)&&(n[m]=l[m]);return h(l,"toString")&&(n.toString=l.toString),h(l,"valueOf")&&(n.valueOf=l.valueOf),n}function V(n,l,m,f){return ti(n,l,m,f,!0).utc()}function N(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function A(n){return n._pf==null&&(n._pf=N()),n._pf}var j;Array.prototype.some?j=Array.prototype.some:j=function(n){var l=Object(this),m=l.length>>>0,f;for(f=0;f<m;f++)if(f in l&&n.call(this,l[f],f,l))return!0;return!1};function he(n){if(n._isValid==null){var l=A(n),m=j.call(l.parsedDateParts,function(_){return _!=null}),f=!isNaN(n._d.getTime())&&l.overflow<0&&!l.empty&&!l.invalidEra&&!l.invalidMonth&&!l.invalidWeekday&&!l.weekdayMismatch&&!l.nullInput&&!l.invalidFormat&&!l.userInvalidated&&(!l.meridiem||l.meridiem&&m);if(n._strict&&(f=f&&l.charsLeftOver===0&&l.unusedTokens.length===0&&l.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=f;else return f}return n._isValid}function ae(n){var l=V(NaN);return n!=null?R(A(l),n):A(l).userInvalidated=!0,l}var De=a.momentProperties=[],Ae=!1;function Se(n,l){var m,f,_,b=De.length;if(y(l._isAMomentObject)||(n._isAMomentObject=l._isAMomentObject),y(l._i)||(n._i=l._i),y(l._f)||(n._f=l._f),y(l._l)||(n._l=l._l),y(l._strict)||(n._strict=l._strict),y(l._tzm)||(n._tzm=l._tzm),y(l._isUTC)||(n._isUTC=l._isUTC),y(l._offset)||(n._offset=l._offset),y(l._pf)||(n._pf=A(l)),y(l._locale)||(n._locale=l._locale),b>0)for(m=0;m<b;m++)f=De[m],_=l[f],y(_)||(n[f]=_);return n}function nt(n){Se(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Ae===!1&&(Ae=!0,a.updateOffset(this),Ae=!1)}function Ce(n){return n instanceof nt||n!=null&&n._isAMomentObject!=null}function Pe(n){a.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function ue(n,l){var m=!0;return R(function(){if(a.deprecationHandler!=null&&a.deprecationHandler(null,n),m){var f=[],_,b,D,Z=arguments.length;for(b=0;b<Z;b++){if(_="",typeof arguments[b]=="object"){_+=`
[`+b+"] ";for(D in arguments[0])h(arguments[0],D)&&(_+=D+": "+arguments[0][D]+", ");_=_.slice(0,-2)}else _=arguments[b];f.push(_)}Pe(n+`
Arguments: `+Array.prototype.slice.call(f).join("")+`
`+new Error().stack),m=!1}return l.apply(this,arguments)},l)}var Te={};function Le(n,l){a.deprecationHandler!=null&&a.deprecationHandler(n,l),Te[n]||(Pe(l),Te[n]=!0)}a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;function at(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function Ze(n){var l,m;for(m in n)h(n,m)&&(l=n[m],at(l)?this[m]=l:this["_"+m]=l);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function hi(n,l){var m=R({},n),f;for(f in l)h(l,f)&&(o(n[f])&&o(l[f])?(m[f]={},R(m[f],n[f]),R(m[f],l[f])):l[f]!=null?m[f]=l[f]:delete m[f]);for(f in n)h(n,f)&&!h(l,f)&&o(n[f])&&(m[f]=R({},m[f]));return m}function Be(n){n!=null&&this.set(n)}var Ot;Object.keys?Ot=Object.keys:Ot=function(n){var l,m=[];for(l in n)h(n,l)&&m.push(l);return m};var S={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Y(n,l,m){var f=this._calendar[n]||this._calendar.sameElse;return at(f)?f.call(l,m):f}function T(n,l,m){var f=""+Math.abs(n),_=l-f.length,b=n>=0;return(b?m?"+":"":"-")+Math.pow(10,Math.max(0,_)).toString().substr(1)+f}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ne=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,fe={},ie={};function E(n,l,m,f){var _=f;typeof f=="string"&&(_=function(){return this[f]()}),n&&(ie[n]=_),l&&(ie[l[0]]=function(){return T(_.apply(this,arguments),l[1],l[2])}),m&&(ie[m]=function(){return this.localeData().ordinal(_.apply(this,arguments),n)})}function W(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function mt(n){var l=n.match(B),m,f;for(m=0,f=l.length;m<f;m++)ie[l[m]]?l[m]=ie[l[m]]:l[m]=W(l[m]);return function(_){var b="",D;for(D=0;D<f;D++)b+=at(l[D])?l[D].call(_,n):l[D];return b}}function rt(n,l){return n.isValid()?(l=Oe(l,n.localeData()),fe[l]=fe[l]||mt(l),fe[l](n)):n.localeData().invalidDate()}function Oe(n,l){var m=5;function f(_){return l.longDateFormat(_)||_}for(ne.lastIndex=0;m>=0&&ne.test(n);)n=n.replace(ne,f),ne.lastIndex=0,m-=1;return n}var kt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ke(n){var l=this._longDateFormat[n],m=this._longDateFormat[n.toUpperCase()];return l||!m?l:(this._longDateFormat[n]=m.match(B).map(function(f){return f==="MMMM"||f==="MM"||f==="DD"||f==="dddd"?f.slice(1):f}).join(""),this._longDateFormat[n])}var It="Invalid date";function mi(){return this._invalidDate}var Oo="%d",Br=/\d{1,2}/;function Yr(n){return this._ordinal.replace("%d",n)}var Ha={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Zn(n,l,m,f){var _=this._relativeTime[m];return at(_)?_(n,l,m,f):_.replace(/%d/i,n)}function Io(n,l){var m=this._relativeTime[n>0?"future":"past"];return at(m)?m(l):m.replace(/%s/i,l)}var Oi={};function Ye(n,l){var m=n.toLowerCase();Oi[m]=Oi[m+"s"]=Oi[l]=n}function st(n){return typeof n=="string"?Oi[n]||Oi[n.toLowerCase()]:void 0}function Wn(n){var l={},m,f;for(f in n)h(n,f)&&(m=st(f),m&&(l[m]=n[f]));return l}var Hr={};function Qe(n,l){Hr[n]=l}function Za(n){var l=[],m;for(m in n)h(n,m)&&l.push({unit:m,priority:Hr[m]});return l.sort(function(f,_){return f.priority-_.priority}),l}function dn(n){return n%4===0&&n%100!==0||n%400===0}function ot(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function ee(n){var l=+n,m=0;return l!==0&&isFinite(l)&&(m=ot(l)),m}function ui(n,l){return function(m){return m!=null?(Zr(this,n,m),a.updateOffset(this,l),this):cn(this,n)}}function cn(n,l){return n.isValid()?n._d["get"+(n._isUTC?"UTC":"")+l]():NaN}function Zr(n,l,m){n.isValid()&&!isNaN(m)&&(l==="FullYear"&&dn(n.year())&&n.month()===1&&n.date()===29?(m=ee(m),n._d["set"+(n._isUTC?"UTC":"")+l](m,n.month(),Xn(m,n.month()))):n._d["set"+(n._isUTC?"UTC":"")+l](m))}function Wr(n){return n=st(n),at(this[n])?this[n]():this}function Wa(n,l){if(typeof n=="object"){n=Wn(n);var m=Za(n),f,_=m.length;for(f=0;f<_;f++)this[m[f].unit](n[m[f].unit])}else if(n=st(n),at(this[n]))return this[n](l);return this}var ja=/\d/,lt=/\d\d/,Ii=/\d{3}/,Ua=/\d{4}/,jn=/[+-]?\d{6}/,pe=/\d\d?/,Ga=/\d\d\d\d?/,qa=/\d\d\d\d\d\d?/,Un=/\d{1,3}/,Ka=/\d{1,4}/,Gn=/[+-]?\d{1,6}/,Ri=/\d+/,qn=/[+-]?\d+/,Ro=/Z|[+-]\d\d:?\d\d/gi,Fi=/Z|[+-]\d\d(?::?\d\d)?/gi,Fo=/[+-]?\d+(\.\d{1,3})?/,hn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Kn;Kn={};function z(n,l,m){Kn[n]=at(l)?l:function(f,_){return f&&m?m:l}}function Rt(n,l){return h(Kn,n)?Kn[n](l._strict,l._locale):new RegExp(H(n))}function H(n){return et(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(l,m,f,_,b){return m||f||_||b}))}function et(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Qn={};function me(n,l){var m,f=l,_;for(typeof n=="string"&&(n=[n]),w(l)&&(f=function(b,D){D[l]=ee(b)}),_=n.length,m=0;m<_;m++)Qn[n[m]]=f}function Ni(n,l){me(n,function(m,f,_,b){_._w=_._w||{},l(m,_._w,_,b)})}function Qa(n,l,m){l!=null&&h(Qn,n)&&Qn[n](l,m._a,m,n)}var We=0,tt=1,Mt=2,Fe=3,Dt=4,Wt=5,fi=6,jr=7,No=8;function $n(n,l){return(n%l+l)%l}var Ee;Array.prototype.indexOf?Ee=Array.prototype.indexOf:Ee=function(n){var l;for(l=0;l<this.length;++l)if(this[l]===n)return l;return-1};function Xn(n,l){if(isNaN(n)||isNaN(l))return NaN;var m=$n(l,12);return n+=(l-m)/12,m===1?dn(n)?29:28:31-m%7%2}E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)}),E("MMMM",0,0,function(n){return this.localeData().months(this,n)}),Ye("month","M"),Qe("month",8),z("M",pe),z("MM",pe,lt),z("MMM",function(n,l){return l.monthsShortRegex(n)}),z("MMMM",function(n,l){return l.monthsRegex(n)}),me(["M","MM"],function(n,l){l[tt]=ee(n)-1}),me(["MMM","MMMM"],function(n,l,m,f){var _=m._locale.monthsParse(n,f,m._strict);_!=null?l[tt]=_:A(m).invalidMonth=n});var zo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ur="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Gr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,$a=hn,mn=hn;function qr(n,l){return n?r(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||Gr).test(l)?"format":"standalone"][n.month()]:r(this._months)?this._months:this._months.standalone}function Kr(n,l){return n?r(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[Gr.test(l)?"format":"standalone"][n.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function un(n,l,m){var f,_,b,D=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],f=0;f<12;++f)b=V([2e3,f]),this._shortMonthsParse[f]=this.monthsShort(b,"").toLocaleLowerCase(),this._longMonthsParse[f]=this.months(b,"").toLocaleLowerCase();return m?l==="MMM"?(_=Ee.call(this._shortMonthsParse,D),_!==-1?_:null):(_=Ee.call(this._longMonthsParse,D),_!==-1?_:null):l==="MMM"?(_=Ee.call(this._shortMonthsParse,D),_!==-1?_:(_=Ee.call(this._longMonthsParse,D),_!==-1?_:null)):(_=Ee.call(this._longMonthsParse,D),_!==-1?_:(_=Ee.call(this._shortMonthsParse,D),_!==-1?_:null))}function se(n,l,m){var f,_,b;if(this._monthsParseExact)return un.call(this,n,l,m);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),f=0;f<12;f++){if(_=V([2e3,f]),m&&!this._longMonthsParse[f]&&(this._longMonthsParse[f]=new RegExp("^"+this.months(_,"").replace(".","")+"$","i"),this._shortMonthsParse[f]=new RegExp("^"+this.monthsShort(_,"").replace(".","")+"$","i")),!m&&!this._monthsParse[f]&&(b="^"+this.months(_,"")+"|^"+this.monthsShort(_,""),this._monthsParse[f]=new RegExp(b.replace(".",""),"i")),m&&l==="MMMM"&&this._longMonthsParse[f].test(n))return f;if(m&&l==="MMM"&&this._shortMonthsParse[f].test(n))return f;if(!m&&this._monthsParse[f].test(n))return f}}function xe(n,l){var m;if(!n.isValid())return n;if(typeof l=="string"){if(/^\d+$/.test(l))l=ee(l);else if(l=n.localeData().monthsParse(l),!w(l))return n}return m=Math.min(n.date(),Xn(n.year(),l)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](l,m),n}function fn(n){return n!=null?(xe(this,n),a.updateOffset(this,!0),this):cn(this,"Month")}function zi(){return Xn(this.year(),this.month())}function Vi(n){return this._monthsParseExact?(h(this,"_monthsRegex")||J.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=$a),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function Xa(n){return this._monthsParseExact?(h(this,"_monthsRegex")||J.call(this),n?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=mn),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function J(){function n(D,Z){return Z.length-D.length}var l=[],m=[],f=[],_,b;for(_=0;_<12;_++)b=V([2e3,_]),l.push(this.monthsShort(b,"")),m.push(this.months(b,"")),f.push(this.months(b,"")),f.push(this.monthsShort(b,""));for(l.sort(n),m.sort(n),f.sort(n),_=0;_<12;_++)l[_]=et(l[_]),m[_]=et(m[_]);for(_=0;_<24;_++)f[_]=et(f[_]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+l.join("|")+")","i")}E("Y",0,0,function(){var n=this.year();return n<=9999?T(n,4):"+"+n}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),Ye("year","y"),Qe("year",1),z("Y",qn),z("YY",pe,lt),z("YYYY",Ka,Ua),z("YYYYY",Gn,jn),z("YYYYYY",Gn,jn),me(["YYYYY","YYYYYY"],We),me("YYYY",function(n,l){l[We]=n.length===2?a.parseTwoDigitYear(n):ee(n)}),me("YY",function(n,l){l[We]=a.parseTwoDigitYear(n)}),me("Y",function(n,l){l[We]=parseInt(n,10)});function ye(n){return dn(n)?366:365}a.parseTwoDigitYear=function(n){return ee(n)+(ee(n)>68?1900:2e3)};var Jn=ui("FullYear",!0);function ea(){return dn(this.year())}function ut(n,l,m,f,_,b,D){var Z;return n<100&&n>=0?(Z=new Date(n+400,l,m,f,_,b,D),isFinite(Z.getFullYear())&&Z.setFullYear(n)):Z=new Date(n,l,m,f,_,b,D),Z}function pn(n){var l,m;return n<100&&n>=0?(m=Array.prototype.slice.call(arguments),m[0]=n+400,l=new Date(Date.UTC.apply(null,m)),isFinite(l.getUTCFullYear())&&l.setUTCFullYear(n)):l=new Date(Date.UTC.apply(null,arguments)),l}function pi(n,l,m){var f=7+l-m,_=(7+pn(n,0,f).getUTCDay()-l)%7;return-_+f-1}function $t(n,l,m,f,_){var b=(7+m-f)%7,D=pi(n,f,_),Z=1+7*(l-1)+b+D,te,ge;return Z<=0?(te=n-1,ge=ye(te)+Z):Z>ye(n)?(te=n+1,ge=Z-ye(n)):(te=n,ge=Z),{year:te,dayOfYear:ge}}function ke(n,l,m){var f=pi(n.year(),l,m),_=Math.floor((n.dayOfYear()-f-1)/7)+1,b,D;return _<1?(D=n.year()-1,b=_+Je(D,l,m)):_>Je(n.year(),l,m)?(b=_-Je(n.year(),l,m),D=n.year()+1):(D=n.year(),b=_),{week:b,year:D}}function Je(n,l,m){var f=pi(n,l,m),_=pi(n+1,l,m);return(ye(n)-f+_)/7}E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),Ye("week","w"),Ye("isoWeek","W"),Qe("week",5),Qe("isoWeek",5),z("w",pe),z("ww",pe,lt),z("W",pe),z("WW",pe,lt),Ni(["w","ww","W","WW"],function(n,l,m,f){l[f.substr(0,1)]=ee(n)});function _n(n){return ke(n,this._week.dow,this._week.doy).week}var gn={dow:0,doy:6};function Ja(){return this._week.dow}function yn(){return this._week.doy}function er(n){var l=this.localeData().week(this);return n==null?l:this.add((n-l)*7,"d")}function tr(n){var l=ke(this,1,4).week;return n==null?l:this.add((n-l)*7,"d")}E("d",0,"do","day"),E("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)}),E("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)}),E("dddd",0,0,function(n){return this.localeData().weekdays(this,n)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),Ye("day","d"),Ye("weekday","e"),Ye("isoWeekday","E"),Qe("day",11),Qe("weekday",11),Qe("isoWeekday",11),z("d",pe),z("e",pe),z("E",pe),z("dd",function(n,l){return l.weekdaysMinRegex(n)}),z("ddd",function(n,l){return l.weekdaysShortRegex(n)}),z("dddd",function(n,l){return l.weekdaysRegex(n)}),Ni(["dd","ddd","dddd"],function(n,l,m,f){var _=m._locale.weekdaysParse(n,f,m._strict);_!=null?l.d=_:A(m).invalidWeekday=n}),Ni(["d","e","E"],function(n,l,m,f){l[f]=ee(n)});function ta(n,l){return typeof n!="string"?n:isNaN(n)?(n=l.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function ir(n,l){return typeof n=="string"?l.weekdaysParse(n)%7||7:isNaN(n)?null:n}function vn(n,l){return n.slice(l,7).concat(n.slice(0,l))}var ia="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),nr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ar="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Vo=hn,K=hn,Ft=hn;function _e(n,l){var m=r(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(l)?"format":"standalone"];return n===!0?vn(m,this._week.dow):n?m[n.day()]:m}function Qr(n){return n===!0?vn(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function rr(n){return n===!0?vn(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function sr(n,l,m){var f,_,b,D=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],f=0;f<7;++f)b=V([2e3,1]).day(f),this._minWeekdaysParse[f]=this.weekdaysMin(b,"").toLocaleLowerCase(),this._shortWeekdaysParse[f]=this.weekdaysShort(b,"").toLocaleLowerCase(),this._weekdaysParse[f]=this.weekdays(b,"").toLocaleLowerCase();return m?l==="dddd"?(_=Ee.call(this._weekdaysParse,D),_!==-1?_:null):l==="ddd"?(_=Ee.call(this._shortWeekdaysParse,D),_!==-1?_:null):(_=Ee.call(this._minWeekdaysParse,D),_!==-1?_:null):l==="dddd"?(_=Ee.call(this._weekdaysParse,D),_!==-1||(_=Ee.call(this._shortWeekdaysParse,D),_!==-1)?_:(_=Ee.call(this._minWeekdaysParse,D),_!==-1?_:null)):l==="ddd"?(_=Ee.call(this._shortWeekdaysParse,D),_!==-1||(_=Ee.call(this._weekdaysParse,D),_!==-1)?_:(_=Ee.call(this._minWeekdaysParse,D),_!==-1?_:null)):(_=Ee.call(this._minWeekdaysParse,D),_!==-1||(_=Ee.call(this._weekdaysParse,D),_!==-1)?_:(_=Ee.call(this._shortWeekdaysParse,D),_!==-1?_:null))}function or(n,l,m){var f,_,b;if(this._weekdaysParseExact)return sr.call(this,n,l,m);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),f=0;f<7;f++){if(_=V([2e3,1]).day(f),m&&!this._fullWeekdaysParse[f]&&(this._fullWeekdaysParse[f]=new RegExp("^"+this.weekdays(_,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[f]=new RegExp("^"+this.weekdaysShort(_,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[f]=new RegExp("^"+this.weekdaysMin(_,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[f]||(b="^"+this.weekdays(_,"")+"|^"+this.weekdaysShort(_,"")+"|^"+this.weekdaysMin(_,""),this._weekdaysParse[f]=new RegExp(b.replace(".",""),"i")),m&&l==="dddd"&&this._fullWeekdaysParse[f].test(n))return f;if(m&&l==="ddd"&&this._shortWeekdaysParse[f].test(n))return f;if(m&&l==="dd"&&this._minWeekdaysParse[f].test(n))return f;if(!m&&this._weekdaysParse[f].test(n))return f}}function _i(n){if(!this.isValid())return n!=null?this:NaN;var l=this._isUTC?this._d.getUTCDay():this._d.getDay();return n!=null?(n=ta(n,this.localeData()),this.add(n-l,"d")):l}function lr(n){if(!this.isValid())return n!=null?this:NaN;var l=(this.day()+7-this.localeData()._week.dow)%7;return n==null?l:this.add(n-l,"d")}function bn(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var l=ir(n,this.localeData());return this.day(this.day()%7?l:l-7)}else return this.day()||7}function je(n){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||na.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Vo),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function gi(n){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||na.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=K),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function $r(n){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||na.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function na(){function n(dt,Di){return Di.length-dt.length}var l=[],m=[],f=[],_=[],b,D,Z,te,ge;for(b=0;b<7;b++)D=V([2e3,1]).day(b),Z=et(this.weekdaysMin(D,"")),te=et(this.weekdaysShort(D,"")),ge=et(this.weekdays(D,"")),l.push(Z),m.push(te),f.push(ge),_.push(Z),_.push(te),_.push(ge);l.sort(n),m.sort(n),f.sort(n),_.sort(n),this._weekdaysRegex=new RegExp("^("+_.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+f.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+l.join("|")+")","i")}function dr(){return this.hours()%12||12}function Xr(){return this.hours()||24}E("H",["HH",2],0,"hour"),E("h",["hh",2],0,dr),E("k",["kk",2],0,Xr),E("hmm",0,0,function(){return""+dr.apply(this)+T(this.minutes(),2)}),E("hmmss",0,0,function(){return""+dr.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)}),E("Hmm",0,0,function(){return""+this.hours()+T(this.minutes(),2)}),E("Hmmss",0,0,function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)});function aa(n,l){E(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),l)})}aa("a",!0),aa("A",!1),Ye("hour","h"),Qe("hour",13);function Jr(n,l){return l._meridiemParse}z("a",Jr),z("A",Jr),z("H",pe),z("h",pe),z("k",pe),z("HH",pe,lt),z("hh",pe,lt),z("kk",pe,lt),z("hmm",Ga),z("hmmss",qa),z("Hmm",Ga),z("Hmmss",qa),me(["H","HH"],Fe),me(["k","kk"],function(n,l,m){var f=ee(n);l[Fe]=f===24?0:f}),me(["a","A"],function(n,l,m){m._isPm=m._locale.isPM(n),m._meridiem=n}),me(["h","hh"],function(n,l,m){l[Fe]=ee(n),A(m).bigHour=!0}),me("hmm",function(n,l,m){var f=n.length-2;l[Fe]=ee(n.substr(0,f)),l[Dt]=ee(n.substr(f)),A(m).bigHour=!0}),me("hmmss",function(n,l,m){var f=n.length-4,_=n.length-2;l[Fe]=ee(n.substr(0,f)),l[Dt]=ee(n.substr(f,2)),l[Wt]=ee(n.substr(_)),A(m).bigHour=!0}),me("Hmm",function(n,l,m){var f=n.length-2;l[Fe]=ee(n.substr(0,f)),l[Dt]=ee(n.substr(f))}),me("Hmmss",function(n,l,m){var f=n.length-4,_=n.length-2;l[Fe]=ee(n.substr(0,f)),l[Dt]=ee(n.substr(f,2)),l[Wt]=ee(n.substr(_))});function es(n){return(n+"").toLowerCase().charAt(0)==="p"}var re=/[ap]\.?m?\.?/i,Bo=ui("Hours",!0);function St(n,l,m){return n>11?m?"pm":"PM":m?"am":"AM"}var Bi={calendar:S,longDateFormat:kt,invalidDate:It,ordinal:Oo,dayOfMonthOrdinalParse:Br,relativeTime:Ha,months:zo,monthsShort:Ur,week:gn,weekdays:ia,weekdaysMin:ar,weekdaysShort:nr,meridiemParse:re},ve={},wn={},yi;function Yo(n,l){var m,f=Math.min(n.length,l.length);for(m=0;m<f;m+=1)if(n[m]!==l[m])return m;return f}function cr(n){return n&&n.toLowerCase().replace("_","-")}function Ho(n){for(var l=0,m,f,_,b;l<n.length;){for(b=cr(n[l]).split("-"),m=b.length,f=cr(n[l+1]),f=f?f.split("-"):null;m>0;){if(_=Yi(b.slice(0,m).join("-")),_)return _;if(f&&f.length>=m&&Yo(b,f)>=m-1)break;m--}l++}return yi}function Zo(n){return n.match("^[^/\\\\]*$")!=null}function Yi(n){var l=null,m;if(ve[n]===void 0&&typeof Ra<"u"&&Ra&&Ra.exports&&Zo(n))try{l=yi._abbr,m=jd,m("./locale/"+n),Xt(l)}catch{ve[n]=null}return ve[n]}function Xt(n,l){var m;return n&&(y(l)?m=Nt(n):m=ft(n,l),m?yi=m:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),yi._abbr}function ft(n,l){if(l!==null){var m,f=Bi;if(l.abbr=n,ve[n]!=null)Le("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),f=ve[n]._config;else if(l.parentLocale!=null)if(ve[l.parentLocale]!=null)f=ve[l.parentLocale]._config;else if(m=Yi(l.parentLocale),m!=null)f=m._config;else return wn[l.parentLocale]||(wn[l.parentLocale]=[]),wn[l.parentLocale].push({name:n,config:l}),null;return ve[n]=new Be(hi(f,l)),wn[n]&&wn[n].forEach(function(_){ft(_.name,_.config)}),Xt(n),ve[n]}else return delete ve[n],null}function Wo(n,l){if(l!=null){var m,f,_=Bi;ve[n]!=null&&ve[n].parentLocale!=null?ve[n].set(hi(ve[n]._config,l)):(f=Yi(n),f!=null&&(_=f._config),l=hi(_,l),f==null&&(l.abbr=n),m=new Be(l),m.parentLocale=ve[n],ve[n]=m),Xt(n)}else ve[n]!=null&&(ve[n].parentLocale!=null?(ve[n]=ve[n].parentLocale,n===Xt()&&Xt(n)):ve[n]!=null&&delete ve[n]);return ve[n]}function Nt(n){var l;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return yi;if(!r(n)){if(l=Yi(n),l)return l;n=[n]}return Ho(n)}function Jt(){return Ot(ve)}function ra(n){var l,m=n._a;return m&&A(n).overflow===-2&&(l=m[tt]<0||m[tt]>11?tt:m[Mt]<1||m[Mt]>Xn(m[We],m[tt])?Mt:m[Fe]<0||m[Fe]>24||m[Fe]===24&&(m[Dt]!==0||m[Wt]!==0||m[fi]!==0)?Fe:m[Dt]<0||m[Dt]>59?Dt:m[Wt]<0||m[Wt]>59?Wt:m[fi]<0||m[fi]>999?fi:-1,A(n)._overflowDayOfYear&&(l<We||l>Mt)&&(l=Mt),A(n)._overflowWeeks&&l===-1&&(l=jr),A(n)._overflowWeekday&&l===-1&&(l=No),A(n).overflow=l),n}var ts=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Uo=/Z|[+-]\d\d(?::?\d\d)?/,Hi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],hr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],is=/^\/?Date\((-?\d+)/i,ns=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,sa={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ei(n){var l,m,f=n._i,_=ts.exec(f)||jo.exec(f),b,D,Z,te,ge=Hi.length,dt=hr.length;if(_){for(A(n).iso=!0,l=0,m=ge;l<m;l++)if(Hi[l][1].exec(_[1])){D=Hi[l][0],b=Hi[l][2]!==!1;break}if(D==null){n._isValid=!1;return}if(_[3]){for(l=0,m=dt;l<m;l++)if(hr[l][1].exec(_[3])){Z=(_[2]||" ")+hr[l][0];break}if(Z==null){n._isValid=!1;return}}if(!b&&Z!=null){n._isValid=!1;return}if(_[4])if(Uo.exec(_[4]))te="Z";else{n._isValid=!1;return}n._f=D+(Z||"")+(te||""),ur(n)}else n._isValid=!1}function Go(n,l,m,f,_,b){var D=[xn(n),Ur.indexOf(l),parseInt(m,10),parseInt(f,10),parseInt(_,10)];return b&&D.push(parseInt(b,10)),D}function xn(n){var l=parseInt(n,10);return l<=49?2e3+l:l<=999?1900+l:l}function pt(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function as(n,l,m){if(n){var f=nr.indexOf(n),_=new Date(l[0],l[1],l[2]).getDay();if(f!==_)return A(m).weekdayMismatch=!0,m._isValid=!1,!1}return!0}function rs(n,l,m){if(n)return sa[n];if(l)return 0;var f=parseInt(m,10),_=f%100,b=(f-_)/100;return b*60+_}function ss(n){var l=ns.exec(pt(n._i)),m;if(l){if(m=Go(l[4],l[3],l[2],l[5],l[6],l[7]),!as(l[1],m,n))return;n._a=m,n._tzm=rs(l[8],l[9],l[10]),n._d=pn.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),A(n).rfc2822=!0}else n._isValid=!1}function os(n){var l=is.exec(n._i);if(l!==null){n._d=new Date(+l[1]);return}if(ei(n),n._isValid===!1)delete n._isValid;else return;if(ss(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:a.createFromInputFallback(n)}a.createFromInputFallback=ue("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function vi(n,l,m){return n??l??m}function qo(n){var l=new Date(a.now());return n._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()]}function kn(n){var l,m,f=[],_,b,D;if(!n._d){for(_=qo(n),n._w&&n._a[Mt]==null&&n._a[tt]==null&&mr(n),n._dayOfYear!=null&&(D=vi(n._a[We],_[We]),(n._dayOfYear>ye(D)||n._dayOfYear===0)&&(A(n)._overflowDayOfYear=!0),m=pn(D,0,n._dayOfYear),n._a[tt]=m.getUTCMonth(),n._a[Mt]=m.getUTCDate()),l=0;l<3&&n._a[l]==null;++l)n._a[l]=f[l]=_[l];for(;l<7;l++)n._a[l]=f[l]=n._a[l]==null?l===2?1:0:n._a[l];n._a[Fe]===24&&n._a[Dt]===0&&n._a[Wt]===0&&n._a[fi]===0&&(n._nextDay=!0,n._a[Fe]=0),n._d=(n._useUTC?pn:ut).apply(null,f),b=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[Fe]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==b&&(A(n).weekdayMismatch=!0)}}function mr(n){var l,m,f,_,b,D,Z,te,ge;l=n._w,l.GG!=null||l.W!=null||l.E!=null?(b=1,D=4,m=vi(l.GG,n._a[We],ke(be(),1,4).year),f=vi(l.W,1),_=vi(l.E,1),(_<1||_>7)&&(te=!0)):(b=n._locale._week.dow,D=n._locale._week.doy,ge=ke(be(),b,D),m=vi(l.gg,n._a[We],ge.year),f=vi(l.w,ge.week),l.d!=null?(_=l.d,(_<0||_>6)&&(te=!0)):l.e!=null?(_=l.e+b,(l.e<0||l.e>6)&&(te=!0)):_=b),f<1||f>Je(m,b,D)?A(n)._overflowWeeks=!0:te!=null?A(n)._overflowWeekday=!0:(Z=$t(m,f,_,b,D),n._a[We]=Z.year,n._dayOfYear=Z.dayOfYear)}a.ISO_8601=function(){},a.RFC_2822=function(){};function ur(n){if(n._f===a.ISO_8601){ei(n);return}if(n._f===a.RFC_2822){ss(n);return}n._a=[],A(n).empty=!0;var l=""+n._i,m,f,_,b,D,Z=l.length,te=0,ge,dt;for(_=Oe(n._f,n._locale).match(B)||[],dt=_.length,m=0;m<dt;m++)b=_[m],f=(l.match(Rt(b,n))||[])[0],f&&(D=l.substr(0,l.indexOf(f)),D.length>0&&A(n).unusedInput.push(D),l=l.slice(l.indexOf(f)+f.length),te+=f.length),ie[b]?(f?A(n).empty=!1:A(n).unusedTokens.push(b),Qa(b,f,n)):n._strict&&!f&&A(n).unusedTokens.push(b);A(n).charsLeftOver=Z-te,l.length>0&&A(n).unusedInput.push(l),n._a[Fe]<=12&&A(n).bigHour===!0&&n._a[Fe]>0&&(A(n).bigHour=void 0),A(n).parsedDateParts=n._a.slice(0),A(n).meridiem=n._meridiem,n._a[Fe]=Ko(n._locale,n._a[Fe],n._meridiem),ge=A(n).era,ge!==null&&(n._a[We]=n._locale.erasConvertYear(ge,n._a[We])),kn(n),ra(n)}function Ko(n,l,m){var f;return m==null?l:n.meridiemHour!=null?n.meridiemHour(l,m):(n.isPM!=null&&(f=n.isPM(m),f&&l<12&&(l+=12),!f&&l===12&&(l=0)),l)}function ls(n){var l,m,f,_,b,D,Z=!1,te=n._f.length;if(te===0){A(n).invalidFormat=!0,n._d=new Date(NaN);return}for(_=0;_<te;_++)b=0,D=!1,l=Se({},n),n._useUTC!=null&&(l._useUTC=n._useUTC),l._f=n._f[_],ur(l),he(l)&&(D=!0),b+=A(l).charsLeftOver,b+=A(l).unusedTokens.length*10,A(l).score=b,Z?b<f&&(f=b,m=l):(f==null||b<f||D)&&(f=b,m=l,D&&(Z=!0));R(n,m||l)}function Qo(n){if(!n._d){var l=Wn(n._i),m=l.day===void 0?l.date:l.day;n._a=I([l.year,l.month,m,l.hour,l.minute,l.second,l.millisecond],function(f){return f&&parseInt(f,10)}),kn(n)}}function Ct(n){var l=new nt(ra(bi(n)));return l._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function bi(n){var l=n._i,m=n._f;return n._locale=n._locale||Nt(n._l),l===null||m===void 0&&l===""?ae({nullInput:!0}):(typeof l=="string"&&(n._i=l=n._locale.preparse(l)),Ce(l)?new nt(ra(l)):(k(l)?n._d=l:r(m)?ls(n):m?ur(n):$o(n),he(n)||(n._d=null),n))}function $o(n){var l=n._i;y(l)?n._d=new Date(a.now()):k(l)?n._d=new Date(l.valueOf()):typeof l=="string"?os(n):r(l)?(n._a=I(l.slice(0),function(m){return parseInt(m,10)}),kn(n)):o(l)?Qo(n):w(l)?n._d=new Date(l):a.createFromInputFallback(n)}function ti(n,l,m,f,_){var b={};return(l===!0||l===!1)&&(f=l,l=void 0),(m===!0||m===!1)&&(f=m,m=void 0),(o(n)&&p(n)||r(n)&&n.length===0)&&(n=void 0),b._isAMomentObject=!0,b._useUTC=b._isUTC=_,b._l=m,b._i=n,b._f=l,b._strict=f,Ct(b)}function be(n,l,m,f){return ti(n,l,m,f,!1)}var Zi=ue("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=be.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:ae()}),Xo=ue("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=be.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:ae()});function Wi(n,l){var m,f;if(l.length===1&&r(l[0])&&(l=l[0]),!l.length)return be();for(m=l[0],f=1;f<l.length;++f)(!l[f].isValid()||l[f][n](m))&&(m=l[f]);return m}function ds(){var n=[].slice.call(arguments,0);return Wi("isBefore",n)}function oa(){var n=[].slice.call(arguments,0);return Wi("isAfter",n)}var Jo=function(){return Date.now?Date.now():+new Date},_t=["year","quarter","month","week","day","hour","minute","second","millisecond"];function la(n){var l,m=!1,f,_=_t.length;for(l in n)if(h(n,l)&&!(Ee.call(_t,l)!==-1&&(n[l]==null||!isNaN(n[l]))))return!1;for(f=0;f<_;++f)if(n[_t[f]]){if(m)return!1;parseFloat(n[_t[f]])!==ee(n[_t[f]])&&(m=!0)}return!0}function el(){return this._isValid}function fr(){return Tt(NaN)}function da(n){var l=Wn(n),m=l.year||0,f=l.quarter||0,_=l.month||0,b=l.week||l.isoWeek||0,D=l.day||0,Z=l.hour||0,te=l.minute||0,ge=l.second||0,dt=l.millisecond||0;this._isValid=la(l),this._milliseconds=+dt+ge*1e3+te*6e4+Z*1e3*60*60,this._days=+D+b*7,this._months=+_+f*3+m*12,this._data={},this._locale=Nt(),this._bubble()}function gt(n){return n instanceof da}function pr(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function ji(n,l,m){var f=Math.min(n.length,l.length),_=Math.abs(n.length-l.length),b=0,D;for(D=0;D<f;D++)(m&&n[D]!==l[D]||!m&&ee(n[D])!==ee(l[D]))&&b++;return b+_}function cs(n,l){E(n,0,0,function(){var m=this.utcOffset(),f="+";return m<0&&(m=-m,f="-"),f+T(~~(m/60),2)+l+T(~~m%60,2)})}cs("Z",":"),cs("ZZ",""),z("Z",Fi),z("ZZ",Fi),me(["Z","ZZ"],function(n,l,m){m._useUTC=!0,m._tzm=Ui(Fi,n)});var jt=/([\+\-]|\d\d)/gi;function Ui(n,l){var m=(l||"").match(n),f,_,b;return m===null?null:(f=m[m.length-1]||[],_=(f+"").match(jt)||["-",0,0],b=+(_[1]*60)+ee(_[2]),b===0?0:_[0]==="+"?b:-b)}function ca(n,l){var m,f;return l._isUTC?(m=l.clone(),f=(Ce(n)||k(n)?n.valueOf():be(n).valueOf())-m.valueOf(),m._d.setTime(m._d.valueOf()+f),a.updateOffset(m,!1),m):be(n).local()}function Mn(n){return-Math.round(n._d.getTimezoneOffset())}a.updateOffset=function(){};function ha(n,l,m){var f=this._offset||0,_;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=Ui(Fi,n),n===null)return this}else Math.abs(n)<16&&!m&&(n=n*60);return!this._isUTC&&l&&(_=Mn(this)),this._offset=n,this._isUTC=!0,_!=null&&this.add(_,"m"),f!==n&&(!l||this._changeInProgress?us(this,Tt(n-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?f:Mn(this)}function _r(n,l){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,l),this):-this.utcOffset()}function ma(n){return this.utcOffset(0,n)}function Gi(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(Mn(this),"m")),this}function ua(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=Ui(Ro,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function gr(n){return this.isValid()?(n=n?be(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function hs(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function tl(){if(!y(this._isDSTShifted))return this._isDSTShifted;var n={},l;return Se(n,this),n=bi(n),n._a?(l=n._isUTC?V(n._a):be(n._a),this._isDSTShifted=this.isValid()&&ji(n._a,l.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function fa(){return this.isValid()?!this._isUTC:!1}function il(){return this.isValid()?this._isUTC:!1}function yr(){return this.isValid()?this._isUTC&&this._offset===0:!1}var nl=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ms=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tt(n,l){var m=n,f=null,_,b,D;return gt(n)?m={ms:n._milliseconds,d:n._days,M:n._months}:w(n)||!isNaN(+n)?(m={},l?m[l]=+n:m.milliseconds=+n):(f=nl.exec(n))?(_=f[1]==="-"?-1:1,m={y:0,d:ee(f[Mt])*_,h:ee(f[Fe])*_,m:ee(f[Dt])*_,s:ee(f[Wt])*_,ms:ee(pr(f[fi]*1e3))*_}):(f=ms.exec(n))?(_=f[1]==="-"?-1:1,m={y:$e(f[2],_),M:$e(f[3],_),w:$e(f[4],_),d:$e(f[5],_),h:$e(f[6],_),m:$e(f[7],_),s:$e(f[8],_)}):m==null?m={}:typeof m=="object"&&("from"in m||"to"in m)&&(D=al(be(m.from),be(m.to)),m={},m.ms=D.milliseconds,m.M=D.months),b=new da(m),gt(n)&&h(n,"_locale")&&(b._locale=n._locale),gt(n)&&h(n,"_isValid")&&(b._isValid=n._isValid),b}Tt.fn=da.prototype,Tt.invalid=fr;function $e(n,l){var m=n&&parseFloat(n.replace(",","."));return(isNaN(m)?0:m)*l}function Dn(n,l){var m={};return m.months=l.month()-n.month()+(l.year()-n.year())*12,n.clone().add(m.months,"M").isAfter(l)&&--m.months,m.milliseconds=+l-+n.clone().add(m.months,"M"),m}function al(n,l){var m;return n.isValid()&&l.isValid()?(l=ca(l,n),n.isBefore(l)?m=Dn(n,l):(m=Dn(l,n),m.milliseconds=-m.milliseconds,m.months=-m.months),m):{milliseconds:0,months:0}}function Sn(n,l){return function(m,f){var _,b;return f!==null&&!isNaN(+f)&&(Le(l,"moment()."+l+"(period, number) is deprecated. Please use moment()."+l+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),b=m,m=f,f=b),_=Tt(m,f),us(this,_,n),this}}function us(n,l,m,f){var _=l._milliseconds,b=pr(l._days),D=pr(l._months);n.isValid()&&(f=f??!0,D&&xe(n,cn(n,"Month")+D*m),b&&Zr(n,"Date",cn(n,"Date")+b*m),_&&n._d.setTime(n._d.valueOf()+_*m),f&&a.updateOffset(n,b||D))}var fs=Sn(1,"add"),rl=Sn(-1,"subtract");function qi(n){return typeof n=="string"||n instanceof String}function sl(n){return Ce(n)||k(n)||qi(n)||w(n)||ps(n)||Ki(n)||n===null||n===void 0}function Ki(n){var l=o(n)&&!p(n),m=!1,f=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],_,b,D=f.length;for(_=0;_<D;_+=1)b=f[_],m=m||h(n,b);return l&&m}function ps(n){var l=r(n),m=!1;return l&&(m=n.filter(function(f){return!w(f)&&qi(n)}).length===0),l&&m}function _s(n){var l=o(n)&&!p(n),m=!1,f=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],_,b;for(_=0;_<f.length;_+=1)b=f[_],m=m||h(n,b);return l&&m}function ol(n,l){var m=n.diff(l,"days",!0);return m<-6?"sameElse":m<-1?"lastWeek":m<0?"lastDay":m<1?"sameDay":m<2?"nextDay":m<7?"nextWeek":"sameElse"}function Ut(n,l){arguments.length===1&&(arguments[0]?sl(arguments[0])?(n=arguments[0],l=void 0):_s(arguments[0])&&(l=arguments[0],n=void 0):(n=void 0,l=void 0));var m=n||be(),f=ca(m,this).startOf("day"),_=a.calendarFormat(this,f)||"sameElse",b=l&&(at(l[_])?l[_].call(this,m):l[_]);return this.format(b||this.localeData().calendar(_,this,be(m)))}function gs(){return new nt(this)}function ys(n,l){var m=Ce(n)?n:be(n);return this.isValid()&&m.isValid()?(l=st(l)||"millisecond",l==="millisecond"?this.valueOf()>m.valueOf():m.valueOf()<this.clone().startOf(l).valueOf()):!1}function Cn(n,l){var m=Ce(n)?n:be(n);return this.isValid()&&m.isValid()?(l=st(l)||"millisecond",l==="millisecond"?this.valueOf()<m.valueOf():this.clone().endOf(l).valueOf()<m.valueOf()):!1}function ll(n,l,m,f){var _=Ce(n)?n:be(n),b=Ce(l)?l:be(l);return this.isValid()&&_.isValid()&&b.isValid()?(f=f||"()",(f[0]==="("?this.isAfter(_,m):!this.isBefore(_,m))&&(f[1]===")"?this.isBefore(b,m):!this.isAfter(b,m))):!1}function pa(n,l){var m=Ce(n)?n:be(n),f;return this.isValid()&&m.isValid()?(l=st(l)||"millisecond",l==="millisecond"?this.valueOf()===m.valueOf():(f=m.valueOf(),this.clone().startOf(l).valueOf()<=f&&f<=this.clone().endOf(l).valueOf())):!1}function Tn(n,l){return this.isSame(n,l)||this.isAfter(n,l)}function vs(n,l){return this.isSame(n,l)||this.isBefore(n,l)}function bs(n,l,m){var f,_,b;if(!this.isValid())return NaN;if(f=ca(n,this),!f.isValid())return NaN;switch(_=(f.utcOffset()-this.utcOffset())*6e4,l=st(l),l){case"year":b=_a(this,f)/12;break;case"month":b=_a(this,f);break;case"quarter":b=_a(this,f)/3;break;case"second":b=(this-f)/1e3;break;case"minute":b=(this-f)/6e4;break;case"hour":b=(this-f)/36e5;break;case"day":b=(this-f-_)/864e5;break;case"week":b=(this-f-_)/6048e5;break;default:b=this-f}return m?b:ot(b)}function _a(n,l){if(n.date()<l.date())return-_a(l,n);var m=(l.year()-n.year())*12+(l.month()-n.month()),f=n.clone().add(m,"months"),_,b;return l-f<0?(_=n.clone().add(m-1,"months"),b=(l-f)/(f-_)):(_=n.clone().add(m+1,"months"),b=(l-f)/(_-f)),-(m+b)||0}a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ws(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xs(n){if(!this.isValid())return null;var l=n!==!0,m=l?this.clone().utc():this;return m.year()<0||m.year()>9999?rt(m,l?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):at(Date.prototype.toISOString)?l?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",rt(m,"Z")):rt(m,l?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ks(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",l="",m,f,_,b;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",l="Z"),m="["+n+'("]',f=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",_="-MM-DD[T]HH:mm:ss.SSS",b=l+'[")]',this.format(m+f+_+b)}function Ms(n){n||(n=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var l=rt(this,n);return this.localeData().postformat(l)}function Ds(n,l){return this.isValid()&&(Ce(n)&&n.isValid()||be(n).isValid())?Tt({to:this,from:n}).locale(this.locale()).humanize(!l):this.localeData().invalidDate()}function dl(n){return this.from(be(),n)}function Ss(n,l){return this.isValid()&&(Ce(n)&&n.isValid()||be(n).isValid())?Tt({from:this,to:n}).locale(this.locale()).humanize(!l):this.localeData().invalidDate()}function Cs(n){return this.to(be(),n)}function Ts(n){var l;return n===void 0?this._locale._abbr:(l=Nt(n),l!=null&&(this._locale=l),this)}var e=ue("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function t(){return this._locale}var s=1e3,d=60*s,u=60*d,g=(365*400+97)*24*u;function v(n,l){return(n%l+l)%l}function x(n,l,m){return n<100&&n>=0?new Date(n+400,l,m)-g:new Date(n,l,m).valueOf()}function M(n,l,m){return n<100&&n>=0?Date.UTC(n+400,l,m)-g:Date.UTC(n,l,m)}function C(n){var l,m;if(n=st(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?M:x,n){case"year":l=m(this.year(),0,1);break;case"quarter":l=m(this.year(),this.month()-this.month()%3,1);break;case"month":l=m(this.year(),this.month(),1);break;case"week":l=m(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":l=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":l=m(this.year(),this.month(),this.date());break;case"hour":l=this._d.valueOf(),l-=v(l+(this._isUTC?0:this.utcOffset()*d),u);break;case"minute":l=this._d.valueOf(),l-=v(l,d);break;case"second":l=this._d.valueOf(),l-=v(l,s);break}return this._d.setTime(l),a.updateOffset(this,!0),this}function F(n){var l,m;if(n=st(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?M:x,n){case"year":l=m(this.year()+1,0,1)-1;break;case"quarter":l=m(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":l=m(this.year(),this.month()+1,1)-1;break;case"week":l=m(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":l=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":l=m(this.year(),this.month(),this.date()+1)-1;break;case"hour":l=this._d.valueOf(),l+=u-v(l+(this._isUTC?0:this.utcOffset()*d),u)-1;break;case"minute":l=this._d.valueOf(),l+=d-v(l,d)-1;break;case"second":l=this._d.valueOf(),l+=s-v(l,s)-1;break}return this._d.setTime(l),a.updateOffset(this,!0),this}function G(){return this._d.valueOf()-(this._offset||0)*6e4}function X(){return Math.floor(this.valueOf()/1e3)}function yt(){return new Date(this.valueOf())}function wi(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function ga(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function ii(){return this.isValid()?this.toISOString():null}function vr(){return he(this)}function cl(){return R({},A(this))}function hl(){return A(this).overflow}function ml(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}E("N",0,0,"eraAbbr"),E("NN",0,0,"eraAbbr"),E("NNN",0,0,"eraAbbr"),E("NNNN",0,0,"eraName"),E("NNNNN",0,0,"eraNarrow"),E("y",["y",1],"yo","eraYear"),E("y",["yy",2],0,"eraYear"),E("y",["yyy",3],0,"eraYear"),E("y",["yyyy",4],0,"eraYear"),z("N",wr),z("NN",wr),z("NNN",wr),z("NNNN",pm),z("NNNNN",_m),me(["N","NN","NNN","NNNN","NNNNN"],function(n,l,m,f){var _=m._locale.erasParse(n,f,m._strict);_?A(m).era=_:A(m).invalidEra=n}),z("y",Ri),z("yy",Ri),z("yyy",Ri),z("yyyy",Ri),z("yo",gm),me(["y","yy","yyy","yyyy"],We),me(["yo"],function(n,l,m,f){var _;m._locale._eraYearOrdinalRegex&&(_=n.match(m._locale._eraYearOrdinalRegex)),m._locale.eraYearOrdinalParse?l[We]=m._locale.eraYearOrdinalParse(n,_):l[We]=parseInt(n,10)});function As(n,l){var m,f,_,b=this._eras||Nt("en")._eras;for(m=0,f=b.length;m<f;++m){switch(typeof b[m].since){case"string":_=a(b[m].since).startOf("day"),b[m].since=_.valueOf();break}switch(typeof b[m].until){case"undefined":b[m].until=1/0;break;case"string":_=a(b[m].until).startOf("day").valueOf(),b[m].until=_.valueOf();break}}return b}function ul(n,l,m){var f,_,b=this.eras(),D,Z,te;for(n=n.toUpperCase(),f=0,_=b.length;f<_;++f)if(D=b[f].name.toUpperCase(),Z=b[f].abbr.toUpperCase(),te=b[f].narrow.toUpperCase(),m)switch(l){case"N":case"NN":case"NNN":if(Z===n)return b[f];break;case"NNNN":if(D===n)return b[f];break;case"NNNNN":if(te===n)return b[f];break}else if([D,Z,te].indexOf(n)>=0)return b[f]}function Es(n,l){var m=n.since<=n.until?1:-1;return l===void 0?a(n.since).year():a(n.since).year()+(l-n.offset)*m}function Ie(){var n,l,m,f=this.localeData().eras();for(n=0,l=f.length;n<l;++n)if(m=this.clone().startOf("day").valueOf(),f[n].since<=m&&m<=f[n].until||f[n].until<=m&&m<=f[n].since)return f[n].name;return""}function ya(){var n,l,m,f=this.localeData().eras();for(n=0,l=f.length;n<l;++n)if(m=this.clone().startOf("day").valueOf(),f[n].since<=m&&m<=f[n].until||f[n].until<=m&&m<=f[n].since)return f[n].narrow;return""}function fl(){var n,l,m,f=this.localeData().eras();for(n=0,l=f.length;n<l;++n)if(m=this.clone().startOf("day").valueOf(),f[n].since<=m&&m<=f[n].until||f[n].until<=m&&m<=f[n].since)return f[n].abbr;return""}function pl(){var n,l,m,f,_=this.localeData().eras();for(n=0,l=_.length;n<l;++n)if(m=_[n].since<=_[n].until?1:-1,f=this.clone().startOf("day").valueOf(),_[n].since<=f&&f<=_[n].until||_[n].until<=f&&f<=_[n].since)return(this.year()-a(_[n].since).year())*m+_[n].offset;return this.year()}function _l(n){return h(this,"_erasNameRegex")||gl.call(this),n?this._erasNameRegex:this._erasRegex}function br(n){return h(this,"_erasAbbrRegex")||gl.call(this),n?this._erasAbbrRegex:this._erasRegex}function Ps(n){return h(this,"_erasNarrowRegex")||gl.call(this),n?this._erasNarrowRegex:this._erasRegex}function wr(n,l){return l.erasAbbrRegex(n)}function pm(n,l){return l.erasNameRegex(n)}function _m(n,l){return l.erasNarrowRegex(n)}function gm(n,l){return l._eraYearOrdinalRegex||Ri}function gl(){var n=[],l=[],m=[],f=[],_,b,D=this.eras();for(_=0,b=D.length;_<b;++_)l.push(et(D[_].name)),n.push(et(D[_].abbr)),m.push(et(D[_].narrow)),f.push(et(D[_].name)),f.push(et(D[_].abbr)),f.push(et(D[_].narrow));this._erasRegex=new RegExp("^("+f.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+l.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+m.join("|")+")","i")}E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ls(n,l){E(0,[n,n.length],0,l)}Ls("gggg","weekYear"),Ls("ggggg","weekYear"),Ls("GGGG","isoWeekYear"),Ls("GGGGG","isoWeekYear"),Ye("weekYear","gg"),Ye("isoWeekYear","GG"),Qe("weekYear",1),Qe("isoWeekYear",1),z("G",qn),z("g",qn),z("GG",pe,lt),z("gg",pe,lt),z("GGGG",Ka,Ua),z("gggg",Ka,Ua),z("GGGGG",Gn,jn),z("ggggg",Gn,jn),Ni(["gggg","ggggg","GGGG","GGGGG"],function(n,l,m,f){l[f.substr(0,2)]=ee(n)}),Ni(["gg","GG"],function(n,l,m,f){l[f]=a.parseTwoDigitYear(n)});function ym(n){return Fd.call(this,n,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function vm(n){return Fd.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function bm(){return Je(this.year(),1,4)}function wm(){return Je(this.isoWeekYear(),1,4)}function xm(){var n=this.localeData()._week;return Je(this.year(),n.dow,n.doy)}function km(){var n=this.localeData()._week;return Je(this.weekYear(),n.dow,n.doy)}function Fd(n,l,m,f,_){var b;return n==null?ke(this,f,_).year:(b=Je(n,f,_),l>b&&(l=b),Mm.call(this,n,l,m,f,_))}function Mm(n,l,m,f,_){var b=$t(n,l,m,f,_),D=pn(b.year,0,b.dayOfYear);return this.year(D.getUTCFullYear()),this.month(D.getUTCMonth()),this.date(D.getUTCDate()),this}E("Q",0,"Qo","quarter"),Ye("quarter","Q"),Qe("quarter",7),z("Q",ja),me("Q",function(n,l){l[tt]=(ee(n)-1)*3});function Dm(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}E("D",["DD",2],"Do","date"),Ye("date","D"),Qe("date",9),z("D",pe),z("DD",pe,lt),z("Do",function(n,l){return n?l._dayOfMonthOrdinalParse||l._ordinalParse:l._dayOfMonthOrdinalParseLenient}),me(["D","DD"],Mt),me("Do",function(n,l){l[Mt]=ee(n.match(pe)[0])});var Nd=ui("Date",!0);E("DDD",["DDDD",3],"DDDo","dayOfYear"),Ye("dayOfYear","DDD"),Qe("dayOfYear",4),z("DDD",Un),z("DDDD",Ii),me(["DDD","DDDD"],function(n,l,m){m._dayOfYear=ee(n)});function Sm(n){var l=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?l:this.add(n-l,"d")}E("m",["mm",2],0,"minute"),Ye("minute","m"),Qe("minute",14),z("m",pe),z("mm",pe,lt),me(["m","mm"],Dt);var Cm=ui("Minutes",!1);E("s",["ss",2],0,"second"),Ye("second","s"),Qe("second",15),z("s",pe),z("ss",pe,lt),me(["s","ss"],Wt);var Tm=ui("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,function(){return this.millisecond()*10}),E(0,["SSSSS",5],0,function(){return this.millisecond()*100}),E(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),E(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),E(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),E(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Ye("millisecond","ms"),Qe("millisecond",16),z("S",Un,ja),z("SS",Un,lt),z("SSS",Un,Ii);var Qi,zd;for(Qi="SSSS";Qi.length<=9;Qi+="S")z(Qi,Ri);function Am(n,l){l[fi]=ee(("0."+n)*1e3)}for(Qi="S";Qi.length<=9;Qi+="S")me(Qi,Am);zd=ui("Milliseconds",!1),E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");function Em(){return this._isUTC?"UTC":""}function Pm(){return this._isUTC?"Coordinated Universal Time":""}var P=nt.prototype;P.add=fs,P.calendar=Ut,P.clone=gs,P.diff=bs,P.endOf=F,P.format=Ms,P.from=Ds,P.fromNow=dl,P.to=Ss,P.toNow=Cs,P.get=Wr,P.invalidAt=hl,P.isAfter=ys,P.isBefore=Cn,P.isBetween=ll,P.isSame=pa,P.isSameOrAfter=Tn,P.isSameOrBefore=vs,P.isValid=vr,P.lang=e,P.locale=Ts,P.localeData=t,P.max=Xo,P.min=Zi,P.parsingFlags=cl,P.set=Wa,P.startOf=C,P.subtract=rl,P.toArray=wi,P.toObject=ga,P.toDate=yt,P.toISOString=xs,P.inspect=ks,typeof Symbol<"u"&&Symbol.for!=null&&(P[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),P.toJSON=ii,P.toString=ws,P.unix=X,P.valueOf=G,P.creationData=ml,P.eraName=Ie,P.eraNarrow=ya,P.eraAbbr=fl,P.eraYear=pl,P.year=Jn,P.isLeapYear=ea,P.weekYear=ym,P.isoWeekYear=vm,P.quarter=P.quarters=Dm,P.month=fn,P.daysInMonth=zi,P.week=P.weeks=er,P.isoWeek=P.isoWeeks=tr,P.weeksInYear=xm,P.weeksInWeekYear=km,P.isoWeeksInYear=bm,P.isoWeeksInISOWeekYear=wm,P.date=Nd,P.day=P.days=_i,P.weekday=lr,P.isoWeekday=bn,P.dayOfYear=Sm,P.hour=P.hours=Bo,P.minute=P.minutes=Cm,P.second=P.seconds=Tm,P.millisecond=P.milliseconds=zd,P.utcOffset=ha,P.utc=ma,P.local=Gi,P.parseZone=ua,P.hasAlignedHourOffset=gr,P.isDST=hs,P.isLocal=fa,P.isUtcOffset=il,P.isUtc=yr,P.isUTC=yr,P.zoneAbbr=Em,P.zoneName=Pm,P.dates=ue("dates accessor is deprecated. Use date instead.",Nd),P.months=ue("months accessor is deprecated. Use month instead",fn),P.years=ue("years accessor is deprecated. Use year instead",Jn),P.zone=ue("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",_r),P.isDSTShifted=ue("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",tl);function Lm(n){return be(n*1e3)}function Om(){return be.apply(null,arguments).parseZone()}function Vd(n){return n}var de=Be.prototype;de.calendar=Y,de.longDateFormat=Ke,de.invalidDate=mi,de.ordinal=Yr,de.preparse=Vd,de.postformat=Vd,de.relativeTime=Zn,de.pastFuture=Io,de.set=Ze,de.eras=As,de.erasParse=ul,de.erasConvertYear=Es,de.erasAbbrRegex=br,de.erasNameRegex=_l,de.erasNarrowRegex=Ps,de.months=qr,de.monthsShort=Kr,de.monthsParse=se,de.monthsRegex=Xa,de.monthsShortRegex=Vi,de.week=_n,de.firstDayOfYear=yn,de.firstDayOfWeek=Ja,de.weekdays=_e,de.weekdaysMin=rr,de.weekdaysShort=Qr,de.weekdaysParse=or,de.weekdaysRegex=je,de.weekdaysShortRegex=gi,de.weekdaysMinRegex=$r,de.isPM=es,de.meridiem=St;function Os(n,l,m,f){var _=Nt(),b=V().set(f,l);return _[m](b,n)}function Bd(n,l,m){if(w(n)&&(l=n,n=void 0),n=n||"",l!=null)return Os(n,l,m,"month");var f,_=[];for(f=0;f<12;f++)_[f]=Os(n,f,m,"month");return _}function yl(n,l,m,f){typeof n=="boolean"?(w(l)&&(m=l,l=void 0),l=l||""):(l=n,m=l,n=!1,w(l)&&(m=l,l=void 0),l=l||"");var _=Nt(),b=n?_._week.dow:0,D,Z=[];if(m!=null)return Os(l,(m+b)%7,f,"day");for(D=0;D<7;D++)Z[D]=Os(l,(D+b)%7,f,"day");return Z}function Im(n,l){return Bd(n,l,"months")}function Rm(n,l){return Bd(n,l,"monthsShort")}function Fm(n,l,m){return yl(n,l,m,"weekdays")}function Nm(n,l,m){return yl(n,l,m,"weekdaysShort")}function zm(n,l,m){return yl(n,l,m,"weekdaysMin")}Xt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var l=n%10,m=ee(n%100/10)===1?"th":l===1?"st":l===2?"nd":l===3?"rd":"th";return n+m}}),a.lang=ue("moment.lang is deprecated. Use moment.locale instead.",Xt),a.langData=ue("moment.langData is deprecated. Use moment.localeData instead.",Nt);var xi=Math.abs;function Vm(){var n=this._data;return this._milliseconds=xi(this._milliseconds),this._days=xi(this._days),this._months=xi(this._months),n.milliseconds=xi(n.milliseconds),n.seconds=xi(n.seconds),n.minutes=xi(n.minutes),n.hours=xi(n.hours),n.months=xi(n.months),n.years=xi(n.years),this}function Yd(n,l,m,f){var _=Tt(l,m);return n._milliseconds+=f*_._milliseconds,n._days+=f*_._days,n._months+=f*_._months,n._bubble()}function Bm(n,l){return Yd(this,n,l,1)}function Ym(n,l){return Yd(this,n,l,-1)}function Hd(n){return n<0?Math.floor(n):Math.ceil(n)}function Hm(){var n=this._milliseconds,l=this._days,m=this._months,f=this._data,_,b,D,Z,te;return n>=0&&l>=0&&m>=0||n<=0&&l<=0&&m<=0||(n+=Hd(vl(m)+l)*864e5,l=0,m=0),f.milliseconds=n%1e3,_=ot(n/1e3),f.seconds=_%60,b=ot(_/60),f.minutes=b%60,D=ot(b/60),f.hours=D%24,l+=ot(D/24),te=ot(Zd(l)),m+=te,l-=Hd(vl(te)),Z=ot(m/12),m%=12,f.days=l,f.months=m,f.years=Z,this}function Zd(n){return n*4800/146097}function vl(n){return n*146097/4800}function Zm(n){if(!this.isValid())return NaN;var l,m,f=this._milliseconds;if(n=st(n),n==="month"||n==="quarter"||n==="year")switch(l=this._days+f/864e5,m=this._months+Zd(l),n){case"month":return m;case"quarter":return m/3;case"year":return m/12}else switch(l=this._days+Math.round(vl(this._months)),n){case"week":return l/7+f/6048e5;case"day":return l+f/864e5;case"hour":return l*24+f/36e5;case"minute":return l*1440+f/6e4;case"second":return l*86400+f/1e3;case"millisecond":return Math.floor(l*864e5)+f;default:throw new Error("Unknown unit "+n)}}function Wm(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ee(this._months/12)*31536e6:NaN}function ki(n){return function(){return this.as(n)}}var jm=ki("ms"),Um=ki("s"),Gm=ki("m"),qm=ki("h"),Km=ki("d"),Qm=ki("w"),$m=ki("M"),Xm=ki("Q"),Jm=ki("y");function eu(){return Tt(this)}function tu(n){return n=st(n),this.isValid()?this[n+"s"]():NaN}function An(n){return function(){return this.isValid()?this._data[n]:NaN}}var iu=An("milliseconds"),nu=An("seconds"),au=An("minutes"),ru=An("hours"),su=An("days"),ou=An("months"),lu=An("years");function du(){return ot(this.days()/7)}var Mi=Math.round,va={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function cu(n,l,m,f,_){return _.relativeTime(l||1,!!m,n,f)}function hu(n,l,m,f){var _=Tt(n).abs(),b=Mi(_.as("s")),D=Mi(_.as("m")),Z=Mi(_.as("h")),te=Mi(_.as("d")),ge=Mi(_.as("M")),dt=Mi(_.as("w")),Di=Mi(_.as("y")),$i=b<=m.ss&&["s",b]||b<m.s&&["ss",b]||D<=1&&["m"]||D<m.m&&["mm",D]||Z<=1&&["h"]||Z<m.h&&["hh",Z]||te<=1&&["d"]||te<m.d&&["dd",te];return m.w!=null&&($i=$i||dt<=1&&["w"]||dt<m.w&&["ww",dt]),$i=$i||ge<=1&&["M"]||ge<m.M&&["MM",ge]||Di<=1&&["y"]||["yy",Di],$i[2]=l,$i[3]=+n>0,$i[4]=f,cu.apply(null,$i)}function mu(n){return n===void 0?Mi:typeof n=="function"?(Mi=n,!0):!1}function uu(n,l){return va[n]===void 0?!1:l===void 0?va[n]:(va[n]=l,n==="s"&&(va.ss=l-1),!0)}function fu(n,l){if(!this.isValid())return this.localeData().invalidDate();var m=!1,f=va,_,b;return typeof n=="object"&&(l=n,n=!1),typeof n=="boolean"&&(m=n),typeof l=="object"&&(f=Object.assign({},va,l),l.s!=null&&l.ss==null&&(f.ss=l.s-1)),_=this.localeData(),b=hu(this,!m,f,_),m&&(b=_.pastFuture(+this,b)),_.postformat(b)}var bl=Math.abs;function ba(n){return(n>0)-(n<0)||+n}function Is(){if(!this.isValid())return this.localeData().invalidDate();var n=bl(this._milliseconds)/1e3,l=bl(this._days),m=bl(this._months),f,_,b,D,Z=this.asSeconds(),te,ge,dt,Di;return Z?(f=ot(n/60),_=ot(f/60),n%=60,f%=60,b=ot(m/12),m%=12,D=n?n.toFixed(3).replace(/\.?0+$/,""):"",te=Z<0?"-":"",ge=ba(this._months)!==ba(Z)?"-":"",dt=ba(this._days)!==ba(Z)?"-":"",Di=ba(this._milliseconds)!==ba(Z)?"-":"",te+"P"+(b?ge+b+"Y":"")+(m?ge+m+"M":"")+(l?dt+l+"D":"")+(_||f||n?"T":"")+(_?Di+_+"H":"")+(f?Di+f+"M":"")+(n?Di+D+"S":"")):"P0D"}var oe=da.prototype;oe.isValid=el,oe.abs=Vm,oe.add=Bm,oe.subtract=Ym,oe.as=Zm,oe.asMilliseconds=jm,oe.asSeconds=Um,oe.asMinutes=Gm,oe.asHours=qm,oe.asDays=Km,oe.asWeeks=Qm,oe.asMonths=$m,oe.asQuarters=Xm,oe.asYears=Jm,oe.valueOf=Wm,oe._bubble=Hm,oe.clone=eu,oe.get=tu,oe.milliseconds=iu,oe.seconds=nu,oe.minutes=au,oe.hours=ru,oe.days=su,oe.weeks=du,oe.months=ou,oe.years=lu,oe.humanize=fu,oe.toISOString=Is,oe.toString=Is,oe.toJSON=Is,oe.locale=Ts,oe.localeData=t,oe.toIsoString=ue("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Is),oe.lang=e,E("X",0,0,"unix"),E("x",0,0,"valueOf"),z("x",qn),z("X",Fo),me("X",function(n,l,m){m._d=new Date(parseFloat(n)*1e3)}),me("x",function(n,l,m){m._d=new Date(ee(n))});return a.version="2.29.4",i(be),a.fn=P,a.min=ds,a.max=oa,a.now=Jo,a.utc=V,a.unix=Lm,a.months=Im,a.isDate=k,a.locale=Xt,a.invalid=ae,a.duration=Tt,a.isMoment=Ce,a.weekdays=Fm,a.parseZone=Om,a.localeData=Nt,a.isDuration=gt,a.monthsShort=Rm,a.weekdaysMin=zm,a.defineLocale=ft,a.updateLocale=Wo,a.locales=Jt,a.weekdaysShort=Nm,a.normalizeUnits=st,a.relativeTimeRounding=mu,a.relativeTimeThreshold=uu,a.calendarFormat=ol,a.prototype=P,a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},a})});var Yc={production:!0,baseItemUrl:"https://belhoste.github.io/factgridviewer/item/"};var $=function(c){return c[c.State=0]="State",c[c.Transition=1]="Transition",c[c.Sequence=2]="Sequence",c[c.Group=3]="Group",c[c.Animate=4]="Animate",c[c.Keyframes=5]="Keyframes",c[c.Style=6]="Style",c[c.Trigger=7]="Trigger",c[c.Reference=8]="Reference",c[c.AnimateChild=9]="AnimateChild",c[c.AnimateRef=10]="AnimateRef",c[c.Query=11]="Query",c[c.Stagger=12]="Stagger",c}($||{}),Yt="*";function Hl(c,a){return{type:$.Trigger,name:c,definitions:a,options:{}}}function an(c,a=null){return{type:$.Animate,styles:a,timings:c}}function no(c,a=null){return{type:$.Group,steps:c,options:a}}function Hc(c,a=null){return{type:$.Sequence,steps:c,options:a}}function Et(c){return{type:$.Style,styles:c,offset:null}}function ao(c,a,i){return{type:$.State,name:c,styles:a,options:i}}function ro(c,a,i=null){return{type:$.Transition,expr:c,animation:a,options:i}}var di=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(a=0,i=0){this.totalTime=a+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(a){this._position=this.totalTime?a*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(a){let i=a=="start"?this._onStartFns:this._onDoneFns;i.forEach(r=>r()),i.length=0}},Nn=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(a){this.players=a;let i=0,r=0,o=0,h=this.players.length;h==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++i==h&&this._onFinish()}),p.onDestroy(()=>{++r==h&&this._onDestroy()}),p.onStart(()=>{++o==h&&this._onStart()})}),this.totalTime=this.players.reduce((p,y)=>Math.max(p,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this.players.forEach(a=>a.init())}onStart(a){this._onStartFns.push(a)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(a=>a()),this._onStartFns=[])}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(a=>a.play())}pause(){this.players.forEach(a=>a.pause())}restart(){this.players.forEach(a=>a.restart())}finish(){this._onFinish(),this.players.forEach(a=>a.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(a=>a.destroy()),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this.players.forEach(a=>a.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(a){let i=a*this.totalTime;this.players.forEach(r=>{let o=r.totalTime?Math.min(1,i/r.totalTime):1;r.setPosition(o)})}getPosition(){let a=this.players.reduce((i,r)=>i===null||r.totalTime>i.totalTime?r:i,null);return a!=null?a.getPosition():0}beforeDestroy(){this.players.forEach(a=>{a.beforeDestroy&&a.beforeDestroy()})}triggerCallback(a){let i=a=="start"?this._onStartFns:this._onDoneFns;i.forEach(r=>r()),i.length=0}},Pa="!";var Zc=[Hl("slideUp",[ao("down",Et({"max-height":"500px",opacity:"1",visibility:"visible"})),ao("up",Et({"max-height":"0px",opacity:"0",visibility:"hidden"})),ro("down => up",[no([an("1s 0.3s ease-in-out",Et({opacity:"0"})),an("1.8s ease-in-out",Et({"max-height":"0px"})),an("1s ease-in-out",Et({visibility:"hidden"}))])]),ro("up => down",[no([an("1s ease-in-out",Et({visibility:"visible"})),an("1.8s ease-in-out",Et({"max-height":"500px"})),an("1s 0.3s ease-in-out",Et({opacity:"1"}))])])])];var pu=["mat-menu-item",""],_u=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],gu=["mat-icon, [matMenuItemIcon]","*"];function yu(c,a){c&1&&(Xi(),q(0,"svg",2),Ue(1,"polygon",3),Q())}var vu=["*"];function bu(c,a){if(c&1){let i=si();Ji(0,"div",0),sc("click",function(){Ne(i);let o=ce();return ze(o.closed.emit("click"))})("animationstart",function(o){Ne(i);let h=ce();return ze(h._onAnimationStart(o.animationName))})("animationend",function(o){Ne(i);let h=ce();return ze(h._onAnimationDone(o.animationName))})("animationcancel",function(o){Ne(i);let h=ce();return ze(h._onAnimationDone(o.animationName))}),Ji(1,"div",1),zt(2),Da()()}if(c&2){let i=ce();In(i._classList),it("mat-menu-panel-animations-disabled",i._animationsDisabled)("mat-menu-panel-exit-animation",i._panelAnimationState==="void")("mat-menu-panel-animating",i._isAnimating),Al("id",i.panelId),Xe("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null)("aria-describedby",i.ariaDescribedby||null)}}var jl=new ai("MAT_MENU_PANEL"),Tr=(()=>{class c{_elementRef=O(ri);_document=O(Ln);_focusMonitor=O(Ol);_parentMenu=O(jl,{optional:!0});_changeDetectorRef=O(bt);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new Ci;_focused=new Ci;_highlighted=!1;_triggersSubmenu=!1;constructor(){O(Fn).load(Qs),this._parentMenu?.addItem?.(this)}focus(i,r){this._focusMonitor&&i?this._focusMonitor.focusVia(this._getHostElement(),i,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(i){this.disabled&&(i.preventDefault(),i.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let i=this._elementRef.nativeElement.cloneNode(!0),r=i.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<r.length;o++)r[o].remove();return i.textContent?.trim()||""}_setHighlighted(i){this._highlighted=i,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(i){this._triggersSubmenu=i,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(r){return new(r||c)};static \u0275cmp=Re({type:c,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(r,o){r&1&&He("click",function(p){return o._checkDisabled(p)})("mouseenter",function(){return o._handleMouseEnter()}),r&2&&(Xe("role",o.role)("tabindex",o._getTabIndex())("aria-disabled",o.disabled)("disabled",o.disabled||null),it("mat-mdc-menu-item-highlighted",o._highlighted)("mat-mdc-menu-item-submenu-trigger",o._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",Rn],disableRipple:[2,"disableRipple","disableRipple",Rn]},exportAs:["matMenuItem"],attrs:pu,ngContentSelectors:gu,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,o){r&1&&(oi(_u),zt(0),q(1,"span",0),zt(2,1),Q(),Ue(3,"div",1),Gt(4,yu,2,0,":svg:svg",2)),r&2&&(U(3),Me("matRippleDisabled",o.disableRipple||o.disabled)("matRippleTrigger",o._getHostElement()),U(),qt(o._triggersSubmenu?4:-1))},dependencies:[Ec],encapsulation:2,changeDetection:0})}return c})();var wu=new ai("MatMenuContent");var xu=new ai("mat-menu-default-options",{providedIn:"root",factory:ku});function ku(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Zl="_mat-menu-enter",so="_mat-menu-exit",La=(()=>{class c{_elementRef=O(ri);_changeDetectorRef=O(bt);_injector=O(Ai);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled=Dr();_allItems;_directDescendantItems=new ec;_classList={};_panelAnimationState="void";_animationDone=new Ci;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(i){this._xPosition=i,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(i){this._yPosition=i,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(i){let r=this._previousPanelClass,o=En({},this._classList);r&&r.length&&r.split(" ").forEach(h=>{o[h]=!1}),this._previousPanelClass=i,i&&i.length&&(i.split(" ").forEach(h=>{o[h]=!0}),this._elementRef.nativeElement.className=""),this._classList=o}_previousPanelClass;get classList(){return this.panelClass}set classList(i){this.panelClass=i}closed=new we;close=this.closed;panelId=O(Mr).getId("mat-menu-panel-");constructor(){let i=O(xu);this.overlayPanelClass=i.overlayPanelClass||"",this._xPosition=i.xPosition,this._yPosition=i.yPosition,this.backdropClass=i.backdropClass,this.overlapTrigger=i.overlapTrigger,this.hasBackdrop=i.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Tc(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ni(this._directDescendantItems),Ml(i=>Pn(...i.map(r=>r._focused)))).subscribe(i=>this._keyManager.updateActiveItem(i)),this._directDescendantItems.changes.subscribe(i=>{let r=this._keyManager;if(this._panelAnimationState==="enter"&&r.activeItem?._hasFocus()){let o=i.toArray(),h=Math.max(0,Math.min(o.length-1,r.activeItemIndex||0));o[h]&&!o[h].disabled?r.setActiveItem(h):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(ni(this._directDescendantItems),Ml(r=>Pn(...r.map(o=>o._hovered))))}addItem(i){}removeItem(i){}_handleKeydown(i){let r=i.keyCode,o=this._keyManager;switch(r){case 27:qs(i)||(i.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(r===38||r===40)&&o.setFocusOrigin("keyboard"),o.onKeydown(i);return}}focusFirstItem(i="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Bs(()=>{let r=this._resolvePanel();if(!r||!r.contains(document.activeElement)){let o=this._keyManager;o.setFocusOrigin(i).setFirstItemActive(),!o.activeItem&&r&&r.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(i){}setPositionClasses(i=this.xPosition,r=this.yPosition){this._classList=Wd(En({},this._classList),{"mat-menu-before":i==="before","mat-menu-after":i==="after","mat-menu-above":r==="above","mat-menu-below":r==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(i){let r=i===so;(r||i===Zl)&&(r&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(r?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(i){(i===Zl||i===so)&&(this._isAnimating=!0)}_setIsOpen(i){if(this._panelAnimationState=i?"enter":"void",i){if(this._keyManager.activeItemIndex===0){let r=this._resolvePanel();r&&(r.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(so),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(i?Zl:so)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(ni(this._allItems)).subscribe(i=>{this._directDescendantItems.reset(i.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let i=null;return this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),i}static \u0275fac=function(r){return new(r||c)};static \u0275cmp=Re({type:c,selectors:[["mat-menu"]],contentQueries:function(r,o,h){if(r&1&&(li(h,wu,5),li(h,Tr,5),li(h,Tr,4)),r&2){let p;Ge(p=qe())&&(o.lazyContent=p.first),Ge(p=qe())&&(o._allItems=p),Ge(p=qe())&&(o.items=p)}},viewQuery:function(r,o){if(r&1&&Vt(Sl,5),r&2){let h;Ge(h=qe())&&(o.templateRef=h.first)}},hostVars:3,hostBindings:function(r,o){r&2&&Xe("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",Rn],hasBackdrop:[2,"hasBackdrop","hasBackdrop",i=>i==null?null:Rn(i)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Sa([{provide:jl,useExisting:c}])],ngContentSelectors:vu,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(r,o){r&1&&(oi(),Tl(0,bu,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return c})(),Wc=new ai("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let c=O(Ai);return()=>Ta(c)}});function Mu(c){let a=O(Ai);return()=>Ta(a)}var Du={provide:Wc,deps:[],useFactory:Mu};var Cr=new WeakMap,Su=(()=>{class c{_canHaveBackdrop;_element=O(ri);_viewContainerRef=O(Cl);_menuItemInstance=O(Tr,{optional:!0,self:!0});_dir=O(Ca,{optional:!0});_focusMonitor=O(Ol);_ngZone=O(On);_injector=O(Ai);_scrollStrategy=O(Wc);_changeDetectorRef=O(bt);_animationsDisabled=Dr();_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=Si.EMPTY;_menuCloseSubscription=Si.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _menu(){return this._menuInternal}set _menu(i){i!==this._menuInternal&&(this._menuInternal=i,this._menuCloseSubscription.unsubscribe(),i&&(this._parentMaterialMenu,this._menuCloseSubscription=i.close.subscribe(r=>{this._destroyMenu(r),(r==="click"||r==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this._triggersSubmenu()))}_menuInternal;constructor(i){this._canHaveBackdrop=i;let r=O(jl,{optional:!0});this._parentMaterialMenu=r instanceof La?r:void 0}ngOnDestroy(){this._menu&&this._ownsMenu(this._menu)&&Cr.delete(this._menu),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this._menu)}_closeMenu(){this._menu?.close.emit()}_openMenu(i){let r=this._menu;if(this._menuOpen||!r)return;this._pendingRemoval?.unsubscribe();let o=Cr.get(r);Cr.set(r,this),o&&o!==this&&o._closeMenu();let h=this._createOverlay(r),p=h.getConfig(),y=p.positionStrategy;this._setPosition(r,y),this._canHaveBackdrop?p.hasBackdrop=r.hasBackdrop==null?!this._triggersSubmenu():r.hasBackdrop:p.hasBackdrop=!1,h.hasAttached()||(h.attach(this._getPortal(r)),r.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this._closeMenu()),r.parentMenu=this._triggersSubmenu()?this._parentMaterialMenu:void 0,r.direction=this.dir,i&&r.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),r instanceof La&&(r._setIsOpen(!0),r._directDescendantItems.changes.pipe(Kd(r.close)).subscribe(()=>{y.withLockedPosition(!1).reapplyLastPosition(),y.withLockedPosition(!0)}))}focus(i,r){this._focusMonitor&&i?this._focusMonitor.focusVia(this._element,i,r):this._element.nativeElement.focus(r)}_destroyMenu(i){let r=this._overlayRef,o=this._menu;!r||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),o instanceof La&&this._ownsMenu(o)?(this._pendingRemoval=o._animationDone.pipe(kl(1)).subscribe(()=>{r.detach(),o.lazyContent?.detach()}),o._setIsOpen(!1)):(r.detach(),o?.lazyContent?.detach()),o&&this._ownsMenu(o)&&Cr.delete(o),this.restoreFocus&&(i==="keydown"||!this._openedBy||!this._triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(i){i!==this._menuOpen&&(this._menuOpen=i,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this._triggersSubmenu()&&this._menuItemInstance._setHighlighted(i),this._changeDetectorRef.markForCheck())}_createOverlay(i){if(!this._overlayRef){let r=this._getOverlayConfig(i);this._subscribeToPositions(i,r.positionStrategy),this._overlayRef=zl(this._injector,r),this._overlayRef.keydownEvents().subscribe(o=>{this._menu instanceof La&&this._menu._handleKeydown(o)})}return this._overlayRef}_getOverlayConfig(i){return new Fl({positionStrategy:Nl(this._injector,this._getOverlayOrigin()).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:i.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:i.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr",disableAnimations:this._animationsDisabled})}_subscribeToPositions(i,r){i.setPositionClasses&&r.positionChanges.subscribe(o=>{this._ngZone.run(()=>{let h=o.connectionPair.overlayX==="start"?"after":"before",p=o.connectionPair.overlayY==="top"?"below":"above";i.setPositionClasses(h,p)})})}_setPosition(i,r){let[o,h]=i.xPosition==="before"?["end","start"]:["start","end"],[p,y]=i.yPosition==="above"?["bottom","top"]:["top","bottom"],[w,k]=[p,y],[I,R]=[o,h],V=0;if(this._triggersSubmenu()){if(R=o=i.xPosition==="before"?"start":"end",h=I=o==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let N=this._parentMaterialMenu.items.first;this._parentInnerPadding=N?N._getHostElement().offsetTop:0}V=p==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else i.overlapTrigger||(w=p==="top"?"bottom":"top",k=y==="top"?"bottom":"top");r.withPositions([{originX:o,originY:w,overlayX:I,overlayY:p,offsetY:V},{originX:h,originY:w,overlayX:R,overlayY:p,offsetY:V},{originX:o,originY:k,overlayX:I,overlayY:y,offsetY:-V},{originX:h,originY:k,overlayX:R,overlayY:y,offsetY:-V}])}_menuClosingActions(){let i=this._getOutsideClickStream(this._overlayRef),r=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:Ti(),h=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(xl(p=>this._menuOpen&&p!==this._menuItemInstance)):Ti();return Pn(i,o,h,r)}_getPortal(i){return(!this._portal||this._portal.templateRef!==i.templateRef)&&(this._portal=new Il(i.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(i){return Cr.get(i)===this}static \u0275fac=function(r){Ns()};static \u0275dir=Ei({type:c})}return c})(),jc=(()=>{class c extends Su{_cleanupTouchstart;_hoverSubscription=Si.EMPTY;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(i){this.menu=i}get menu(){return this._menu}set menu(i){this._menu=i}menuData;restoreFocus=!0;menuOpened=new we;onMenuOpen=this.menuOpened;menuClosed=new we;onMenuClose=this.menuClosed;constructor(){super(!0);let i=O(kr);this._cleanupTouchstart=i.listen(this._element.nativeElement,"touchstart",r=>{xc(r)||(this._openedBy="touch")},{passive:!0})}triggersSubmenu(){return super._triggersSubmenu()}toggleMenu(){return this.menuOpen?this.closeMenu():this.openMenu()}openMenu(){this._openMenu(!0)}closeMenu(){this._closeMenu()}updatePosition(){this._overlayRef?.updatePosition()}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTouchstart(),this._hoverSubscription.unsubscribe()}_getOverlayOrigin(){return this._element}_getOutsideClickStream(i){return i.backdropClick()}_handleMousedown(i){wc(i)||(this._openedBy=i.button===0?"mouse":void 0,this.triggersSubmenu()&&i.preventDefault())}_handleKeydown(i){let r=i.keyCode;(r===13||r===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(r===39&&this.dir==="ltr"||r===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(i){this.triggersSubmenu()?(i.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(i=>{i===this._menuItemInstance&&!i.disabled&&(this._openedBy="mouse",this._openMenu(!1))}))}static \u0275fac=function(r){return new(r||c)};static \u0275dir=Ei({type:c,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(r,o){r&1&&He("click",function(p){return o._handleClick(p)})("mousedown",function(p){return o._handleMousedown(p)})("keydown",function(p){return o._handleKeydown(p)}),r&2&&Xe("aria-haspopup",o.menu?"menu":null)("aria-expanded",o.menuOpen)("aria-controls",o.menuOpen?o.menu==null?null:o.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],features:[zs]})}return c})();var oo=(()=>{class c{static \u0275fac=function(r){return new(r||c)};static \u0275mod=ht({type:c});static \u0275inj=ct({providers:[Du],imports:[Js,At,Xs,$s,At]})}return c})(),Uc={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},l_=Uc.fadeInItems,d_=Uc.transformMenu;var Tu=["*",[["mat-toolbar-row"]]],Au=["*","mat-toolbar-row"],Eu=(()=>{class c{static \u0275fac=function(r){return new(r||c)};static \u0275dir=Ei({type:c,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return c})(),Gc=(()=>{class c{_elementRef=O(ri);_platform=O(Us);_document=O(Ln);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(r){return new(r||c)};static \u0275cmp=Re({type:c,selectors:[["mat-toolbar"]],contentQueries:function(r,o,h){if(r&1&&li(h,Eu,5),r&2){let p;Ge(p=qe())&&(o._toolbarRows=p)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){r&2&&(In(o.color?"mat-"+o.color:""),it("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:Au,decls:2,vars:0,template:function(r,o){r&1&&(oi(Tu),zt(0),zt(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return c})();var lo=(()=>{class c{static \u0275fac=function(r){return new(r||c)};static \u0275mod=ht({type:c});static \u0275inj=ct({imports:[At,At]})}return c})();var qc=(()=>{let a=class a{constructor(){this.currentYear=new Date().getFullYear()}};a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=Re({type:a,selectors:[["app-footer"]],decls:5,vars:1,consts:[[1,"footer"],["href","https://database.factgrid.de/","target","_blank","rel","noopener"]],template:function(o,h){o&1&&(Ji(0,"footer",0)(1,"div"),Ve(2),Ji(3,"a",1),Ve(4,"FactGrid"),Da()()()),o&2&&(U(2),tn(" \xA9 ",h.currentYear," Harmonia Universalis \xA0|\xA0 "))},styles:[".footer[_ngcontent-%COMP%]{width:100%;text-align:center;padding:1em 0;background:#f5f5f5;color:#555;font-size:.95em;position:fixed;left:0;bottom:0;z-index:100;border-top:1px solid #ddd}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:underline}"]});let c=a;return c})();var Kc=(()=>{let a=class a{constructor(){this.showResearchFieldSubject=new xr(!1),this.showResearchField$=this.showResearchFieldSubject.asObservable();let r=localStorage.selectedResearchField,o={id:"all",name:"all",description:""};if(r)try{let h=JSON.parse(r);o={id:h.id,name:h.name,description:h.description??""}}catch{}this.subject=new xr(o),this.selectedResearchField$=this.subject.asObservable()}setSelectedResearchField(r){let o={id:r.id,name:r.name,description:r.description??""};localStorage.selectedResearchField=JSON.stringify(o),this.subject.next(o)}getSelectedResearchField(){return this.subject.getValue()}setShowResearchField(r){this.showResearchFieldSubject.next(r)}getShowResearchField(){return this.showResearchFieldSubject.getValue()}};a.\u0275fac=function(o){return new(o||a)},a.\u0275prov=vt({token:a,factory:a.\u0275fac,providedIn:"root"});let c=a;return c})();function Lu(c,a){if(c&1&&Ue(0,"img",10),c&2){let i=ce().$implicit;Me("src",i.flag,tc)}}function Ou(c,a){c&1&&(q(0,"mat-icon",12),Ve(1,"check_circle"),Q())}function Iu(c,a){if(c&1){let i=si();q(0,"button",9),He("click",function(){let o=Ne(i).$implicit,h=ce();return ze(h.langSetting(o))}),Gt(1,Lu,1,1,"img",10),q(2,"span",11),Ve(3),Q(),Gt(4,Ou,2,0,"mat-icon",12),Q()}if(c&2){let i=a.$implicit,r=ce();it("selected-lang",i.code===r.selectedLang),U(),qt(i.flag?1:-1),U(2),en(i.name),U(),qt(i.code===r.selectedLang?4:-1)}}var Qc=(()=>{let a=class a{getResearchFieldQuery(r){return`https://database.factgrid.de/sparql?query=SELECT ?item ?itemLabel ?itemDescription  
    WHERE {
      SERVICE wikibase:label { bd:serviceParam wikibase:language "${r},en". }
      ?item wdt:P2 wd:Q11295.
    }`}constructor(){this.router=O(bc),this.request=O(Oc),this.selectedResearchFieldService=O(Kc),this.lang=O(Fc),this.langs=[{name:"English",code:"en"},{name:"Deutsch",code:"de"},{name:"Fran\xE7ais",code:"fr"},{name:"Espa\xF1ol",code:"es"},{name:"\u4E2D\u6587",code:"zh"},{name:"Italiano",code:"it"},{name:"Magyar",code:"hu"},{name:"Svenska",code:"se"}],this.specialPages=[{name:"Harmonia Universalis",address:"harmonia_universalis"},{name:"Paris",address:"paris"}],this.researchFields=[],this.researchFields$=new xr([]),this.searchResearchField=new Ll(null),this.selectedLang=localStorage.selectedLang===void 0?"en":localStorage.selectedLang,this.selectedPage=sessionStorage.selectedPage===void 0?JSON.stringify([{name:"FactGrid",address:""}]):sessionStorage.selectedPage,this.selectedItems=[],this.selectedParisItems=[],this.selectedResearchField=localStorage.selectedResearchField,this.title="factgrid",this.searchInput=new Ll,this.searchToken="on",this.isDown=!0,this.items=[],this.showResearchField=!1,this.projectSearch="Search a project",this.projectName="Project name"}ngOnInit(){localStorage.selectedLang===void 0&&localStorage.setItem("selectedLang","en"),localStorage.selectedItems===void 0&&localStorage.setItem("selectedItems",JSON.stringify([{value:{id:"Q152233"},label:"FactGrid"}])),localStorage.selectedResearchField===void 0&&localStorage.setItem("selectedResearchField","all"),localStorage.selectedParisItems===void 0&&localStorage.setItem("selectedParisItems",JSON.stringify([{value:{id:"Q152233"},label:"FactGrid"}])),this.projectSearch=this.lang.getTranslation("projectSearch",this.lang.selectedLang),this.projectName=this.lang.getTranslation("projectName",this.lang.selectedLang);let r=this.selectedResearchFieldService.getSelectedResearchField();this.searchResearchField.setValue(r),this.selectedResearchFieldService.showResearchField$.subscribe(o=>{this.showResearchField=o}),this.selectedResearchFieldService.selectedResearchField$.subscribe(o=>{this.searchResearchField.value?.id!==o?.id&&this.searchResearchField.setValue(o,{emitEvent:!1})}),this.filteredResearchFields$=qd([this.researchFields$,this.searchResearchField.valueChanges.pipe(ni(""))]).pipe(Rs(([o,h])=>{let p=(typeof h=="string"?h:h?.name||"").toLowerCase();return o.filter(y=>y.name.toLowerCase().includes(p))})),this.request.getList(this.getResearchFieldQuery(this.selectedLang)).pipe(Rs(o=>this.listFromSparql(o)),Rs(o=>[{name:"-",id:"-"},...o.results.bindings.map(h=>({name:h.itemLabel.value,id:h.item.id,description:h.itemDescription?.value??""}))])).subscribe(o=>{o.sort((h,p)=>h.name.localeCompare(p.name)),this.researchFields=o,this.researchFields$.next(o)})}langSetting(r){r!==void 0&&(this.selectedLang=r.code),localStorage.selectedLang=this.selectedLang,window.location.reload()}researchFieldSelect(r){this.selectedResearchFieldService.setSelectedResearchField({id:r.id,name:r.name,description:r.description??""}),this.searchResearchField.setValue(r)}linking(){window.open("https://database.factgrid.de/wiki/Main_Page","_blank")}listFromSparql(r){if(r!==void 0){if(r.results!==void 0)for(let o=0;o<r.results.bindings.length;o++)r.results.bindings[o].item.id=r.results.bindings[o].item.value.replace("https://database.factgrid.de/entity/",""),r.results.bindings[o].item.id.startsWith("P")?r.results.bindings[o].item.entity="property":r.results.bindings[o].item.entity="item"}else r={head:{vars:["item","itemLabel","itemDescription","fLabel","activityLabel"]},results:{bindings:[]}};return r}displayResearchField(r){return r&&r.name?r.name:"-"}toggleResearchField(){this.showResearchField=!this.showResearchField,this.selectedResearchFieldService.setShowResearchField(this.showResearchField)}};a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=Re({type:a,selectors:[["app-root"]],decls:16,vars:1,consts:[["menuLanguage","matMenu"],[1,"app-container"],[1,"custom-toolbar"],[1,"toolbar-spacer"],["mat-icon-button","","onClick","window.open('https://blog.factgrid.de/archives/2684')","aria-label","Informations",1,"toolbar-btn"],["mat-icon-button","","aria-label","S\xE9lection de la langue",1,"toolbar-btn",3,"matMenuTriggerFor"],[1,"language-menu"],["mat-menu-item","",3,"selected-lang"],[1,"main-content"],["mat-menu-item","",3,"click"],["width","24","height","16",2,"margin-right","8px","border-radius","2px",3,"src"],[2,"flex","1","font-weight","500"],["color","primary"]],template:function(o,h){if(o&1&&(q(0,"div",1)(1,"mat-toolbar",2),Ue(2,"span",3),q(3,"button",4)(4,"mat-icon"),Ve(5,"info"),Q()(),q(6,"button",5)(7,"mat-icon"),Ve(8,"language"),Q()(),q(9,"mat-menu",6,0),ka(11,Iu,5,5,"button",7,ac),Q()(),q(13,"main",8),Ue(14,"router-outlet"),Q(),Ue(15,"app-footer"),Q()),o&2){let p=El(10);U(6),Me("matMenuTriggerFor",p),U(5),Ma(h.langs)}},dependencies:[dc,lo,Gc,Aa,Sr,oo,La,Tr,jc,Ks,Ac,nn,vc,qc,io,eo,to,js,Rc,Ea],styles:['@charset "UTF-8";.custom-toolbar[_ngcontent-%COMP%]{display:flex;flex-flow:row;padding-top:50px;padding-bottom:20px;background-color:#fff}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar-btn[_ngcontent-%COMP%]{margin-top:-10px}.desktop-only[_ngcontent-%COMP%]{display:inline-block;padding-right:40px}.mobile-only[_ngcontent-%COMP%]{display:none}@media (max-width: 700px){.desktop-only[_ngcontent-%COMP%]{display:none!important}.mobile-only[_ngcontent-%COMP%]{display:block!important}}.language-menu[_ngcontent-%COMP%]   .mat-menu-item.selected-lang[_ngcontent-%COMP%]{background:#e3f2fd;font-weight:700}.language-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover{background:#bbdefb}.language-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:8px}.researchfield-menu[_ngcontent-%COMP%]   .mat-menu-item.selected-researchfield[_ngcontent-%COMP%]{background:#e3f2fd;font-weight:700}.researchfield-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]:hover{background:#bbdefb}.researchfield-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:8px}.researchfield-mobile[_ngcontent-%COMP%]{margin-left:10px;margin-top:200px}@media (max-width: 700px){.custom-toolbar[_ngcontent-%COMP%]{padding-bottom:0}.researchfield-mobile[_ngcontent-%COMP%]{margin-top:60px;margin-left:10px;width:90vw;max-width:350px}}@media (min-width: 700px){.researchfield-mobile[_ngcontent-%COMP%]{margin-top:0}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}body[_ngcontent-%COMP%], app-root[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;height:100%}.main-content[_ngcontent-%COMP%]{flex:1 0 auto;display:flex;flex-direction:column}[matSuffix][_ngcontent-%COMP%]{display:flex;align-items:center;gap:0!important}[matSuffix][_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{margin:0!important;padding:0!important;min-width:0!important;width:28px!important;height:28px!important}[matSuffix][_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px!important;width:18px!important;height:18px!important;line-height:18px!important}footer[_ngcontent-%COMP%], app-footer[_ngcontent-%COMP%]{flex-shrink:0}'],data:{animation:[Zc]}});let c=a;return c})();var on=wl(Xc());var Jc=(()=>{let a=class a{constructor(){this.changeDetector=O(bt),this.route=O(yc)}ngOnInit(){this.route.params.subscribe(r=>{let o=r.lat,h=r.lng,p=r.z;this.lat=Number(o),this.lng=Number(h),this.zoom=Number(p);let y={coords:new on.LatLng(this.lat,this.lng),zoom:this.zoom},w=on.map("map");on.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(w),on.marker([this.lat,this.lng]).addTo(w),w.setView(y.coords,y.zoom)})}ngOnDestroy(){}};a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=Re({type:a,selectors:[["app-map"]],decls:4,vars:0,consts:[["map",""],["map2",""],["id","map",1,"mapPadding"],["id","map2",1,"mapPadding"]],template:function(o,h){o&1&&rc(0,"div",2,0)(2,"div",3,1)},styles:["[_nghost-%COMP%]{height:100%}#map[_ngcontent-%COMP%]{width:100%;height:400px}"]});let c=a;return c})();var Ru={paramsInheritanceStrategy:"always"},eh=[{path:"",loadComponent:()=>import("./chunk-7552TSKF.js").then(c=>c.HomeComponent)},{path:"search",loadComponent:()=>import("./chunk-F3CQNIBR.js").then(c=>c.SearchComponent)},{path:"item/:id",loadComponent:()=>import("./chunk-S7ZCGZMP.js").then(c=>c.DisplayComponent),children:[{path:":lat/:lng/:z",component:Jc}]},{path:"bibliography",loadComponent:()=>import("./chunk-27UVBT3C.js").then(c=>c.BibliographyComponent)},{path:"animal_magnetism",loadComponent:()=>import("./chunk-BDTHBYAU.js").then(c=>c.AnimalMagnetismComponent)},{path:"advanced_search",loadComponent:()=>import("./chunk-36VPK22F.js").then(c=>c.AdvancedSearchComponent)}],tg=nn.forRoot(eh,Ru),th=(()=>{let a=class a{};a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=ht({type:a}),a.\u0275inj=ct({imports:[nn.forRoot(eh,{scrollPositionRestoration:"enabled"}),nn]});let c=a;return c})();var ih=(()=>{class c{static \u0275fac=function(r){return new(r||c)};static \u0275mod=ht({type:c});static \u0275inj=ct({imports:[Yl,At,Yl,At]})}return c})();var Fu=wl(Gl(),1),nh=wl(Gl(),1),zn=nh.default||Fu,ql=new ai("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:Nu});function Nu(){return{useUtc:!1}}function zu(c,a){let i=Array(c);for(let r=0;r<c;r++)i[r]=a(r);return i}var Vu=(()=>{class c extends Bt{_options=O(ql,{optional:!0});_localeData;constructor(){super();let i=O(Bl,{optional:!0});this.setLocale(i||zn.locale())}setLocale(i){super.setLocale(i);let r=zn.localeData(i);this._localeData={firstDayOfWeek:r.firstDayOfWeek(),longMonths:r.months(),shortMonths:r.monthsShort(),dates:zu(31,o=>this.createDate(2017,0,o+1).format("D")),longDaysOfWeek:r.weekdays(),shortDaysOfWeek:r.weekdaysShort(),narrowDaysOfWeek:r.weekdaysMin()}}getYear(i){return this.clone(i).year()}getMonth(i){return this.clone(i).month()}getDate(i){return this.clone(i).date()}getDayOfWeek(i){return this.clone(i).day()}getMonthNames(i){return i=="long"?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(i){return i=="long"?this._localeData.longDaysOfWeek:i=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(i){return this.clone(i).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(i){return this.clone(i).daysInMonth()}clone(i){return i.clone().locale(this.locale)}createDate(i,r,o){let h=this._createMoment({year:i,month:r,date:o}).locale(this.locale);return h.isValid(),h}today(){return this._createMoment().locale(this.locale)}parse(i,r){return i&&typeof i=="string"?this._createMoment(i,r,this.locale):i?this._createMoment(i).locale(this.locale):null}format(i,r){return i=this.clone(i),this.isValid(i),i.format(r)}addCalendarYears(i,r){return this.clone(i).add({years:r})}addCalendarMonths(i,r){return this.clone(i).add({months:r})}addCalendarDays(i,r){return this.clone(i).add({days:r})}toIso8601(i){return this.clone(i).format()}deserialize(i){let r;if(i instanceof Date)r=this._createMoment(i).locale(this.locale);else if(this.isDateInstance(i))return this.clone(i);if(typeof i=="string"){if(!i)return null;r=this._createMoment(i,zn.ISO_8601).locale(this.locale)}return r&&this.isValid(r)?this._createMoment(r).locale(this.locale):super.deserialize(i)}isDateInstance(i){return zn.isMoment(i)}isValid(i){return this.clone(i).isValid()}invalid(){return zn.invalid()}setTime(i,r,o,h){return this.clone(i).set({hours:r,minutes:o,seconds:h,milliseconds:0})}getHours(i){return i.hours()}getMinutes(i){return i.minutes()}getSeconds(i){return i.seconds()}parseTime(i,r){return this.parse(i,r)}addSeconds(i,r){return this.clone(i).add({seconds:r})}_createMoment(i,r,o){let{strict:h,useUtc:p}=this._options||{};return p?zn.utc(i,r,o,h):zn(i,r,o,h)}static \u0275fac=function(r){return new(r||c)};static \u0275prov=vt({token:c,factory:c.\u0275fac})}return c})(),Bu={parse:{dateInput:"l",timeInput:"LT"},display:{dateInput:"l",timeInput:"LT",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY",timeOptionLabel:"LT"}};var ah=(()=>{class c{static \u0275fac=function(r){return new(r||c)};static \u0275mod=ht({type:c});static \u0275inj=ct({providers:[Yu()]})}return c})();function Yu(c=Bu,a){let i=[{provide:Bt,useClass:Vu,deps:[Bl,ql]},{provide:Pi,useValue:c}];return a&&i.push({provide:ql,useValue:a}),i}var Zu=["mat-calendar-body",""];function Wu(c,a){return this._trackRow(a)}var ch=(c,a)=>a.id;function ju(c,a){if(c&1&&(q(0,"tr",0)(1,"td",3),Ve(2),Q()()),c&2){let i=ce();U(),Ys("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),Xe("colspan",i.numCols),U(),tn(" ",i.label," ")}}function Uu(c,a){if(c&1&&(q(0,"td",3),Ve(1),Q()),c&2){let i=ce(2);Ys("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),Xe("colspan",i._firstRowOffset),U(),tn(" ",i._firstRowOffset>=i.labelMinRequiredCells?i.label:""," ")}}function Gu(c,a){if(c&1){let i=si();q(0,"td",6)(1,"button",7),He("click",function(o){let h=Ne(i).$implicit,p=ce(2);return ze(p._cellClicked(h,o))})("focus",function(o){let h=Ne(i).$implicit,p=ce(2);return ze(p._emitActiveDateChange(h,o))}),q(2,"span",8),Ve(3),Q(),Ue(4,"span",9),Q()()}if(c&2){let i=a.$implicit,r=a.$index,o=ce().$index,h=ce();Ys("width",h._cellWidth)("padding-top",h._cellPadding)("padding-bottom",h._cellPadding),Xe("data-mat-row",o)("data-mat-col",r),U(),it("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",h._isActiveCell(o,r))("mat-calendar-body-range-start",h._isRangeStart(i.compareValue))("mat-calendar-body-range-end",h._isRangeEnd(i.compareValue))("mat-calendar-body-in-range",h._isInRange(i.compareValue))("mat-calendar-body-comparison-bridge-start",h._isComparisonBridgeStart(i.compareValue,o,r))("mat-calendar-body-comparison-bridge-end",h._isComparisonBridgeEnd(i.compareValue,o,r))("mat-calendar-body-comparison-start",h._isComparisonStart(i.compareValue))("mat-calendar-body-comparison-end",h._isComparisonEnd(i.compareValue))("mat-calendar-body-in-comparison-range",h._isInComparisonRange(i.compareValue))("mat-calendar-body-preview-start",h._isPreviewStart(i.compareValue))("mat-calendar-body-preview-end",h._isPreviewEnd(i.compareValue))("mat-calendar-body-in-preview",h._isInPreview(i.compareValue)),Me("ngClass",i.cssClasses)("tabindex",h._isActiveCell(o,r)?0:-1),Xe("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-pressed",h._isSelected(i.compareValue))("aria-current",h.todayValue===i.compareValue?"date":null)("aria-describedby",h._getDescribedby(i.compareValue)),U(),it("mat-calendar-body-selected",h._isSelected(i.compareValue))("mat-calendar-body-comparison-identical",h._isComparisonIdentical(i.compareValue))("mat-calendar-body-today",h.todayValue===i.compareValue),U(),tn(" ",i.displayValue," ")}}function qu(c,a){if(c&1&&(q(0,"tr",1),Gt(1,Uu,2,6,"td",4),ka(2,Gu,5,48,"td",5,ch),Q()),c&2){let i=a.$implicit,r=a.$index,o=ce();U(),qt(r===0&&o._firstRowOffset?1:-1),U(),Ma(i)}}function Ku(c,a){if(c&1&&(q(0,"th",2)(1,"span",6),Ve(2),Q(),q(3,"span",3),Ve(4),Q()()),c&2){let i=a.$implicit;U(2),en(i.long),U(2),en(i.narrow)}}var Qu=["*"];function $u(c,a){}function Xu(c,a){if(c&1){let i=si();q(0,"mat-month-view",4),Ws("activeDateChange",function(o){Ne(i);let h=ce();return Zs(h.activeDate,o)||(h.activeDate=o),ze(o)}),He("_userSelection",function(o){Ne(i);let h=ce();return ze(h._dateSelected(o))})("dragStarted",function(o){Ne(i);let h=ce();return ze(h._dragStarted(o))})("dragEnded",function(o){Ne(i);let h=ce();return ze(h._dragEnded(o))}),Q()}if(c&2){let i=ce();Hs("activeDate",i.activeDate),Me("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName)("activeDrag",i._activeDrag)}}function Ju(c,a){if(c&1){let i=si();q(0,"mat-year-view",5),Ws("activeDateChange",function(o){Ne(i);let h=ce();return Zs(h.activeDate,o)||(h.activeDate=o),ze(o)}),He("monthSelected",function(o){Ne(i);let h=ce();return ze(h._monthSelectedInYearView(o))})("selectedChange",function(o){Ne(i);let h=ce();return ze(h._goToDateInView(o,"month"))}),Q()}if(c&2){let i=ce();Hs("activeDate",i.activeDate),Me("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function ef(c,a){if(c&1){let i=si();q(0,"mat-multi-year-view",6),Ws("activeDateChange",function(o){Ne(i);let h=ce();return Zs(h.activeDate,o)||(h.activeDate=o),ze(o)}),He("yearSelected",function(o){Ne(i);let h=ce();return ze(h._yearSelectedInMultiYearView(o))})("selectedChange",function(o){Ne(i);let h=ce();return ze(h._goToDateInView(o,"year"))}),Q()}if(c&2){let i=ce();Hs("activeDate",i.activeDate),Me("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function tf(c,a){}var nf=["button"],af=[[["","matDatepickerToggleIcon",""]]],rf=["[matDatepickerToggleIcon]"];function sf(c,a){c&1&&(Xi(),q(0,"svg",2),Ue(1,"path",3),Q())}var Na=(()=>{class c{changes=new Ci;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(i,r){return`${i} \u2013 ${r}`}formatYearRangeLabel(i,r){return`${i} to ${r}`}static \u0275fac=function(r){return new(r||c)};static \u0275prov=vt({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),of=0,Lr=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=of++;constructor(a,i,r,o,h={},p=a,y){this.value=a,this.displayValue=i,this.ariaLabel=r,this.enabled=o,this.cssClasses=h,this.compareValue=p,this.rawValue=y}},lf={passive:!1,capture:!0},ho={passive:!0,capture:!0},rh={passive:!0},Fa=(()=>{class c{_elementRef=O(ri);_ngZone=O(On);_platform=O(Us);_intl=O(Na);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new we;previewChange=new we;activeDateChange=new we;dragStarted=new we;dragEnded=new we;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=O(Ai);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=i=>i;constructor(){let i=O(kr),r=O(Mr);this._startDateLabelId=r.getId("mat-calendar-body-start-"),this._endDateLabelId=r.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=r.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=r.getId("mat-calendar-body-comparison-end-"),O(Fn).load(Qs),this._ngZone.runOutsideAngular(()=>{let o=this._elementRef.nativeElement,h=[i.listen(o,"touchmove",this._touchmoveHandler,lf),i.listen(o,"mouseenter",this._enterHandler,ho),i.listen(o,"focus",this._enterHandler,ho),i.listen(o,"mouseleave",this._leaveHandler,ho),i.listen(o,"blur",this._leaveHandler,ho),i.listen(o,"mousedown",this._mousedownHandler,rh),i.listen(o,"touchstart",this._mousedownHandler,rh)];this._platform.isBrowser&&h.push(i.listen("window","mouseup",this._mouseupHandler),i.listen("window","touchend",this._touchendHandler)),this._eventCleanups=h})}_cellClicked(i,r){this._didDragSinceMouseDown||i.enabled&&this.selectedValueChange.emit({value:i.value,event:r})}_emitActiveDateChange(i,r){i.enabled&&this.activeDateChange.emit({value:i.value,event:r})}_isSelected(i){return this.startValue===i||this.endValue===i}ngOnChanges(i){let r=i.numCols,{rows:o,numCols:h}=this;(i.rows||r)&&(this._firstRowOffset=o&&o.length&&o[0].length?h-o[0].length:0),(i.cellAspectRatio||r||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/h}%`),(r||!this._cellWidth)&&(this._cellWidth=`${100/h}%`)}ngOnDestroy(){this._eventCleanups.forEach(i=>i())}_isActiveCell(i,r){let o=i*this.numCols+r;return i&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(i=!0){Bs(()=>{setTimeout(()=>{let r=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");r&&(i||(this._skipNextFocus=!0),r.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(i){return $l(i,this.startValue,this.endValue)}_isRangeEnd(i){return Xl(i,this.startValue,this.endValue)}_isInRange(i){return Jl(i,this.startValue,this.endValue,this.isRange)}_isComparisonStart(i){return $l(i,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(i,r,o){if(!this._isComparisonStart(i)||this._isRangeStart(i)||!this._isInRange(i))return!1;let h=this.rows[r][o-1];if(!h){let p=this.rows[r-1];h=p&&p[p.length-1]}return h&&!this._isRangeEnd(h.compareValue)}_isComparisonBridgeEnd(i,r,o){if(!this._isComparisonEnd(i)||this._isRangeEnd(i)||!this._isInRange(i))return!1;let h=this.rows[r][o+1];if(!h){let p=this.rows[r+1];h=p&&p[0]}return h&&!this._isRangeStart(h.compareValue)}_isComparisonEnd(i){return Xl(i,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(i){return Jl(i,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(i){return this.comparisonStart===this.comparisonEnd&&i===this.comparisonStart}_isPreviewStart(i){return $l(i,this.previewStart,this.previewEnd)}_isPreviewEnd(i){return Xl(i,this.previewStart,this.previewEnd)}_isInPreview(i){return Jl(i,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(i){if(!this.isRange)return null;if(this.startValue===i&&this.endValue===i)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===i)return this._startDateLabelId;if(this.endValue===i)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(i===this.comparisonStart&&i===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(i===this.comparisonStart)return this._comparisonStartDateLabelId;if(i===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=i=>{if(this._skipNextFocus&&i.type==="focus"){this._skipNextFocus=!1;return}if(i.target&&this.isRange){let r=this._getCellFromElement(i.target);r&&this._ngZone.run(()=>this.previewChange.emit({value:r.enabled?r:null,event:i}))}};_touchmoveHandler=i=>{if(!this.isRange)return;let r=sh(i),o=r?this._getCellFromElement(r):null;r!==i.target&&(this._didDragSinceMouseDown=!0),Ql(i.target)&&i.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:i}))};_leaveHandler=i=>{this.previewEnd!==null&&this.isRange&&(i.type!=="blur"&&(this._didDragSinceMouseDown=!0),i.target&&this._getCellFromElement(i.target)&&!(i.relatedTarget&&this._getCellFromElement(i.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:i})))};_mousedownHandler=i=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let r=i.target&&this._getCellFromElement(i.target);!r||!this._isInRange(r.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:r.rawValue,event:i})})};_mouseupHandler=i=>{if(!this.isRange)return;let r=Ql(i.target);if(!r){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:i})});return}r.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let o=this._getCellFromElement(r);this.dragEnded.emit({value:o?.rawValue??null,event:i})})};_touchendHandler=i=>{let r=sh(i);r&&this._mouseupHandler({target:r})};_getCellFromElement(i){let r=Ql(i);if(r){let o=r.getAttribute("data-mat-row"),h=r.getAttribute("data-mat-col");if(o&&h)return this.rows[parseInt(o)][parseInt(h)]}return null}static \u0275fac=function(r){return new(r||c)};static \u0275cmp=Re({type:c,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[xa],attrs:Zu,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(r,o){r&1&&(Gt(0,ju,3,6,"tr",0),ka(1,qu,4,1,"tr",1,Wu,!0),q(3,"span",2),Ve(4),Q(),q(5,"span",2),Ve(6),Q(),q(7,"span",2),Ve(8),Q(),q(9,"span",2),Ve(10),Q()),r&2&&(qt(o._firstRowOffset<o.labelMinRequiredCells?0:-1),U(),Ma(o.rows),U(2),Me("id",o._startDateLabelId),U(),tn(" ",o.startDateAccessibleName,`
`),U(),Me("id",o._endDateLabelId),U(),tn(" ",o.endDateAccessibleName,`
`),U(),Me("id",o._comparisonStartDateLabelId),U(),Pl(" ",o.comparisonDateAccessibleName," ",o.startDateAccessibleName,`
`),U(),Me("id",o._comparisonEndDateLabelId),U(),Pl(" ",o.comparisonDateAccessibleName," ",o.endDateAccessibleName,`
`))},dependencies:[lc],styles:[`.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}
`],encapsulation:2,changeDetection:0})}return c})();function Kl(c){return c?.nodeName==="TD"}function Ql(c){let a;return Kl(c)?a=c:Kl(c.parentNode)?a=c.parentNode:Kl(c.parentNode?.parentNode)&&(a=c.parentNode.parentNode),a?.getAttribute("data-mat-row")!=null?a:null}function $l(c,a,i){return i!==null&&a!==i&&c<i&&c===a}function Xl(c,a,i){return a!==null&&a!==i&&c>=a&&c===i}function Jl(c,a,i,r){return r&&a!==null&&i!==null&&a!==i&&c>=a&&c<=i}function sh(c){let a=c.changedTouches[0];return document.elementFromPoint(a.clientX,a.clientY)}var Ht=class{start;end;_disableStructuralEquivalency;constructor(a,i){this.start=a,this.end=i}},mo=(()=>{class c{selection;_adapter;_selectionChanged=new Ci;selectionChanged=this._selectionChanged;constructor(i,r){this.selection=i,this._adapter=r,this.selection=i}updateSelection(i,r){let o=this.selection;this.selection=i,this._selectionChanged.next({selection:i,source:r,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(i){return this._adapter.isDateInstance(i)&&this._adapter.isValid(i)}static \u0275fac=function(r){Ns()};static \u0275prov=vt({token:c,factory:c.\u0275fac})}return c})(),df=(()=>{class c extends mo{constructor(i){super(null,i)}add(i){super.updateSelection(i,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let i=new c(this._adapter);return i.updateSelection(this.selection,this),i}static \u0275fac=function(r){return new(r||c)(wa(Bt))};static \u0275prov=vt({token:c,factory:c.\u0275fac})}return c})();function cf(c,a){return c||new df(a)}var hf={provide:mo,deps:[[new Xd,new Jd,mo],Bt],useFactory:cf};var hh=new ai("MAT_DATE_RANGE_SELECTION_STRATEGY");var ed=7,mf=0,oh=(()=>{class c{_changeDetectorRef=O(bt);_dateFormats=O(Pi,{optional:!0});_dateAdapter=O(Bt,{optional:!0});_dir=O(Ca,{optional:!0});_rangeStrategy=O(hh,{optional:!0});_rerenderSubscription=Si.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(i){let r=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(r,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(i){i instanceof Ht?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_minDate;get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new we;_userSelection=new we;dragStarted=new we;dragEnded=new we;activeDateChange=new we;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){O(Fn).load(Gs),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ni(null)).subscribe(()=>this._init())}ngOnChanges(i){let r=i.comparisonStart||i.comparisonEnd;r&&!r.firstChange&&this._setRanges(this.selected),i.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(i){let r=i.value,o=this._getDateFromDayOfMonth(r),h,p;this._selected instanceof Ht?(h=this._getDateInCurrentMonth(this._selected.start),p=this._getDateInCurrentMonth(this._selected.end)):h=p=this._getDateInCurrentMonth(this._selected),(h!==r||p!==r)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:i.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(i){let r=i.value,o=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(r),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(i){let r=this._activeDate,o=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&i.preventDefault();return;case 27:this._previewEnd!=null&&!qs(i)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:i}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:i})),i.preventDefault(),i.stopPropagation());return;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(ed+this._dateAdapter.getDayOfWeek(i)-this._dateAdapter.getFirstDayOfWeek())%ed,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(i){this._matCalendarBody._focusActiveCell(i)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:i,value:r}){if(this._rangeStrategy){let o=r?r.rawValue:null,h=this._rangeStrategy.createPreview(o,this.selected,i);if(this._previewStart=this._getCellCompareValue(h.start),this._previewEnd=this._getCellCompareValue(h.end),this.activeDrag&&o){let p=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,o,i);p&&(this._previewStart=this._getCellCompareValue(p.start),this._previewEnd=this._getCellCompareValue(p.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(i){if(this.activeDrag)if(i.value){let r=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,i.value,i.event);this.dragEnded.emit({value:r??null,event:i.event})}else this.dragEnded.emit({value:null,event:i.event})}_getDateFromDayOfMonth(i){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i)}_initWeekdays(){let i=this._dateAdapter.getFirstDayOfWeek(),r=this._dateAdapter.getDayOfWeekNames("narrow"),h=this._dateAdapter.getDayOfWeekNames("long").map((p,y)=>({long:p,narrow:r[y],id:mf++}));this._weekdays=h.slice(i).concat(h.slice(0,i))}_createWeekCells(){let i=this._dateAdapter.getNumDaysInMonth(this.activeDate),r=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,h=this._firstWeekOffset;o<i;o++,h++){h==ed&&(this._weeks.push([]),h=0);let p=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),y=this._shouldEnableDate(p),w=this._dateAdapter.format(p,this._dateFormats.display.dateA11yLabel),k=this.dateClass?this.dateClass(p,"month"):void 0;this._weeks[this._weeks.length-1].push(new Lr(o+1,r[o],w,y,k,this._getCellCompareValue(p),p))}}_shouldEnableDate(i){return!!i&&(!this.minDate||this._dateAdapter.compareDate(i,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(i,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(i))}_getDateInCurrentMonth(i){return i&&this._hasSameMonthAndYear(i,this.activeDate)?this._dateAdapter.getDate(i):null}_hasSameMonthAndYear(i,r){return!!(i&&r&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(r)&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(r))}_getCellCompareValue(i){if(i){let r=this._dateAdapter.getYear(i),o=this._dateAdapter.getMonth(i),h=this._dateAdapter.getDate(i);return new Date(r,o,h).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(i){i instanceof Ht?(this._rangeStart=this._getCellCompareValue(i.start),this._rangeEnd=this._getCellCompareValue(i.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(i),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(i){return!this.dateFilter||this.dateFilter(i)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(r){return new(r||c)};static \u0275cmp=Re({type:c,selectors:[["mat-month-view"]],viewQuery:function(r,o){if(r&1&&Vt(Fa,5),r&2){let h;Ge(h=qe())&&(o._matCalendarBody=h.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[xa],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(r,o){r&1&&(q(0,"table",0)(1,"thead",1)(2,"tr"),ka(3,Ku,5,2,"th",2,ch),Q(),q(5,"tr",3),Ue(6,"th",4),Q()(),q(7,"tbody",5),He("selectedValueChange",function(p){return o._dateSelected(p)})("activeDateChange",function(p){return o._updateActiveDate(p)})("previewChange",function(p){return o._previewChanged(p)})("dragStarted",function(p){return o.dragStarted.emit(p)})("dragEnded",function(p){return o._dragEnded(p)})("keyup",function(p){return o._handleCalendarBodyKeyup(p)})("keydown",function(p){return o._handleCalendarBodyKeydown(p)}),Q()()),r&2&&(U(3),Ma(o._weekdays),U(4),Me("label",o._monthLabel)("rows",o._weeks)("todayValue",o._todayDate)("startValue",o._rangeStart)("endValue",o._rangeEnd)("comparisonStart",o._comparisonRangeStart)("comparisonEnd",o._comparisonRangeEnd)("previewStart",o._previewStart)("previewEnd",o._previewEnd)("isRange",o._isRange)("labelMinRequiredCells",3)("activeCell",o._dateAdapter.getDate(o.activeDate)-1)("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName))},dependencies:[Fa],encapsulation:2,changeDetection:0})}return c})(),Lt=24,td=4,lh=(()=>{class c{_changeDetectorRef=O(bt);_dateAdapter=O(Bt,{optional:!0});_dir=O(Ca,{optional:!0});_rerenderSubscription=Si.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(i){let r=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),mh(this._dateAdapter,r,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(i){i instanceof Ht?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedYear(i)}_selected;get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_minDate;get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_maxDate;dateFilter;dateClass;selectedChange=new we;yearSelected=new we;activeDateChange=new we;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ni(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let r=this._dateAdapter.getYear(this._activeDate)-Pr(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,h=[];o<Lt;o++)h.push(r+o),h.length==td&&(this._years.push(h.map(p=>this._createCellForYear(p))),h=[]);this._changeDetectorRef.markForCheck()}_yearSelected(i){let r=i.value,o=this._dateAdapter.createDate(r,0,1),h=this._getDateFromYear(r);this.yearSelected.emit(o),this.selectedChange.emit(h)}_updateActiveDate(i){let r=i.value,o=this._activeDate;this.activeDate=this._getDateFromYear(r),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(i){let r=this._activeDate,o=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-td);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,td);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Pr(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Lt-Pr(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-Lt*10:-Lt);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?Lt*10:Lt);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_getActiveCell(){return Pr(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(i){let r=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,r,1));return this._dateAdapter.createDate(i,r,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForYear(i){let r=this._dateAdapter.createDate(i,0,1),o=this._dateAdapter.getYearName(r),h=this.dateClass?this.dateClass(r,"multi-year"):void 0;return new Lr(i,o,o,this._shouldEnableYear(i),h)}_shouldEnableYear(i){if(i==null||this.maxDate&&i>this._dateAdapter.getYear(this.maxDate)||this.minDate&&i<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(i,0,1);for(let o=r;this._dateAdapter.getYear(o)==i;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(i){if(this._selectedYear=null,i instanceof Ht){let r=i.start||i.end;r&&(this._selectedYear=this._dateAdapter.getYear(r))}else i&&(this._selectedYear=this._dateAdapter.getYear(i))}static \u0275fac=function(r){return new(r||c)};static \u0275cmp=Re({type:c,selectors:[["mat-multi-year-view"]],viewQuery:function(r,o){if(r&1&&Vt(Fa,5),r&2){let h;Ge(h=qe())&&(o._matCalendarBody=h.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(r,o){r&1&&(q(0,"table",0)(1,"thead",1)(2,"tr"),Ue(3,"th",2),Q()(),q(4,"tbody",3),He("selectedValueChange",function(p){return o._yearSelected(p)})("activeDateChange",function(p){return o._updateActiveDate(p)})("keyup",function(p){return o._handleCalendarBodyKeyup(p)})("keydown",function(p){return o._handleCalendarBodyKeydown(p)}),Q()()),r&2&&(U(4),Me("rows",o._years)("todayValue",o._todayYear)("startValue",o._selectedYear)("endValue",o._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._getActiveCell()))},dependencies:[Fa],encapsulation:2,changeDetection:0})}return c})();function mh(c,a,i,r,o){let h=c.getYear(a),p=c.getYear(i),y=uh(c,r,o);return Math.floor((h-y)/Lt)===Math.floor((p-y)/Lt)}function Pr(c,a,i,r){let o=c.getYear(a);return uf(o-uh(c,i,r),Lt)}function uh(c,a,i){let r=0;return i?r=c.getYear(i)-Lt+1:a&&(r=c.getYear(a)),r}function uf(c,a){return(c%a+a)%a}var dh=(()=>{class c{_changeDetectorRef=O(bt);_dateFormats=O(Pi,{optional:!0});_dateAdapter=O(Bt,{optional:!0});_dir=O(Ca,{optional:!0});_rerenderSubscription=Si.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(i){let r=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(r)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(i){i instanceof Ht?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedMonth(i)}_selected;get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_minDate;get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_maxDate;dateFilter;dateClass;selectedChange=new we;monthSelected=new we;activeDateChange=new we;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ni(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(i){let r=i.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),r,1);this.monthSelected.emit(o);let h=this._getDateFromMonth(r);this.selectedChange.emit(h)}_updateActiveDate(i){let r=i.value,o=this._activeDate;this.activeDate=this._getDateFromMonth(r),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(i){let r=this._activeDate,o=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let i=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(r=>r.map(o=>this._createCellForMonth(o,i[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(i){return i&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(i):null}_getDateFromMonth(i){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),o=this._dateAdapter.getNumDaysInMonth(r);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForMonth(i,r){let o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),h=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),p=this.dateClass?this.dateClass(o,"year"):void 0;return new Lr(i,r.toLocaleUpperCase(),h,this._shouldEnableMonth(i),p)}_shouldEnableMonth(i){let r=this._dateAdapter.getYear(this.activeDate);if(i==null||this._isYearAndMonthAfterMaxDate(r,i)||this._isYearAndMonthBeforeMinDate(r,i))return!1;if(!this.dateFilter)return!0;let o=this._dateAdapter.createDate(r,i,1);for(let h=o;this._dateAdapter.getMonth(h)==i;h=this._dateAdapter.addCalendarDays(h,1))if(this.dateFilter(h))return!0;return!1}_isYearAndMonthAfterMaxDate(i,r){if(this.maxDate){let o=this._dateAdapter.getYear(this.maxDate),h=this._dateAdapter.getMonth(this.maxDate);return i>o||i===o&&r>h}return!1}_isYearAndMonthBeforeMinDate(i,r){if(this.minDate){let o=this._dateAdapter.getYear(this.minDate),h=this._dateAdapter.getMonth(this.minDate);return i<o||i===o&&r<h}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(i){i instanceof Ht?this._selectedMonth=this._getMonthInCurrentYear(i.start)||this._getMonthInCurrentYear(i.end):this._selectedMonth=this._getMonthInCurrentYear(i)}static \u0275fac=function(r){return new(r||c)};static \u0275cmp=Re({type:c,selectors:[["mat-year-view"]],viewQuery:function(r,o){if(r&1&&Vt(Fa,5),r&2){let h;Ge(h=qe())&&(o._matCalendarBody=h.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(r,o){r&1&&(q(0,"table",0)(1,"thead",1)(2,"tr"),Ue(3,"th",2),Q()(),q(4,"tbody",3),He("selectedValueChange",function(p){return o._monthSelected(p)})("activeDateChange",function(p){return o._updateActiveDate(p)})("keyup",function(p){return o._handleCalendarBodyKeyup(p)})("keydown",function(p){return o._handleCalendarBodyKeydown(p)}),Q()()),r&2&&(U(4),Me("label",o._yearLabel)("rows",o._months)("todayValue",o._todayMonth)("startValue",o._selectedMonth)("endValue",o._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._dateAdapter.getMonth(o.activeDate)))},dependencies:[Fa],encapsulation:2,changeDetection:0})}return c})(),fh=(()=>{class c{_intl=O(Na);calendar=O(id);_dateAdapter=O(Bt,{optional:!0});_dateFormats=O(Pi,{optional:!0});_periodButtonText;_periodButtonDescription;_periodButtonLabel;_prevButtonLabel;_nextButtonLabel;constructor(){O(Fn).load(Gs);let i=O(bt);this._updateLabels(),this.calendar.stateChanges.subscribe(()=>{this._updateLabels(),i.markForCheck()})}get periodButtonText(){return this._periodButtonText}get periodButtonDescription(){return this._periodButtonDescription}get periodButtonLabel(){return this._periodButtonLabel}get prevButtonLabel(){return this._prevButtonLabel}get nextButtonLabel(){return this._nextButtonLabel}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.previousEnabled()&&(this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Lt))}nextClicked(){this.nextEnabled()&&(this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Lt))}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_updateLabels(){let i=this.calendar,r=this._intl,o=this._dateAdapter;i.currentView==="month"?(this._periodButtonText=o.format(i.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonDescription=o.format(i.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonLabel=r.switchToMultiYearViewLabel,this._prevButtonLabel=r.prevMonthLabel,this._nextButtonLabel=r.nextMonthLabel):i.currentView==="year"?(this._periodButtonText=o.getYearName(i.activeDate),this._periodButtonDescription=o.getYearName(i.activeDate),this._periodButtonLabel=r.switchToMonthViewLabel,this._prevButtonLabel=r.prevYearLabel,this._nextButtonLabel=r.nextYearLabel):(this._periodButtonText=r.formatYearRange(...this._formatMinAndMaxYearLabels()),this._periodButtonDescription=r.formatYearRangeLabel(...this._formatMinAndMaxYearLabels()),this._periodButtonLabel=r.switchToMonthViewLabel,this._prevButtonLabel=r.prevMultiYearLabel,this._nextButtonLabel=r.nextMultiYearLabel)}_isSameView(i,r){return this.calendar.currentView=="month"?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(r)&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(r):this.calendar.currentView=="year"?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(r):mh(this._dateAdapter,i,r,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let r=this._dateAdapter.getYear(this.calendar.activeDate)-Pr(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=r+Lt-1,h=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1)),p=this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1));return[h,p]}_periodButtonLabelId=O(Mr).getId("mat-calendar-period-label-");static \u0275fac=function(r){return new(r||c)};static \u0275cmp=Re({type:c,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Qu,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["matButton","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["matIconButton","","type","button","disabledInteractive","",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button","disabledInteractive","",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(r,o){r&1&&(oi(),q(0,"div",0)(1,"div",1)(2,"span",2),Ve(3),Q(),q(4,"button",3),He("click",function(){return o.currentPeriodClicked()}),q(5,"span",4),Ve(6),Q(),Xi(),q(7,"svg",5),Ue(8,"polygon",6),Q()(),Fs(),Ue(9,"div",7),zt(10),q(11,"button",8),He("click",function(){return o.previousClicked()}),Xi(),q(12,"svg",9),Ue(13,"path",10),Q()(),Fs(),q(14,"button",11),He("click",function(){return o.nextClicked()}),Xi(),q(15,"svg",9),Ue(16,"path",12),Q()()()()),r&2&&(U(2),Me("id",o._periodButtonLabelId),U(),en(o.periodButtonDescription),U(),Xe("aria-label",o.periodButtonLabel)("aria-describedby",o._periodButtonLabelId),U(2),en(o.periodButtonText),U(),it("mat-calendar-invert",o.calendar.currentView!=="month"),U(4),Me("disabled",!o.previousEnabled()),Xe("aria-label",o.prevButtonLabel),U(3),Me("disabled",!o.nextEnabled()),Xe("aria-label",o.nextButtonLabel))},dependencies:[Vl,Sr],encapsulation:2,changeDetection:0})}return c})(),id=(()=>{class c{_dateAdapter=O(Bt,{optional:!0});_dateFormats=O(Pi,{optional:!0});_changeDetectorRef=O(bt);_elementRef=O(ri);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_startAt;startView="month";get selected(){return this._selected}set selected(i){i instanceof Ht?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_selected;get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_minDate;get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new we;yearSelected=new we;monthSelected=new we;viewChanged=new we(!0);_userSelection=new we;_userDragDrop=new we;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(i){this._clampedActiveDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(i){let r=this._currentView!==i?i:null;this._currentView=i,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),r&&(this.stateChanges.next(),this.viewChanged.emit(r))}_currentView;_activeDrag=null;stateChanges=new Ci;constructor(){this._intlChanges=O(Na).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Pc(this.headerComponent||fh),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(i){let r=i.minDate&&!this._dateAdapter.sameDate(i.minDate.previousValue,i.minDate.currentValue)?i.minDate:void 0,o=i.maxDate&&!this._dateAdapter.sameDate(i.maxDate.previousValue,i.maxDate.currentValue)?i.maxDate:void 0,h=r||o||i.dateFilter;if(h&&!h.firstChange){let p=this._getCurrentViewComponent();p&&(this._elementRef.nativeElement.contains(kc())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),p._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(i){let r=i.value;(this.selected instanceof Ht||r&&!this._dateAdapter.sameDate(r,this.selected))&&this.selectedChange.emit(r),this._userSelection.emit(i)}_yearSelectedInMultiYearView(i){this.yearSelected.emit(i)}_monthSelectedInYearView(i){this.monthSelected.emit(i)}_goToDateInView(i,r){this.activeDate=i,this.currentView=r}_dragStarted(i){this._activeDrag=i}_dragEnded(i){this._activeDrag&&(i.value&&this._userDragDrop.emit(i),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(r){return new(r||c)};static \u0275cmp=Re({type:c,selectors:[["mat-calendar"]],viewQuery:function(r,o){if(r&1&&(Vt(oh,5),Vt(dh,5),Vt(lh,5)),r&2){let h;Ge(h=qe())&&(o.monthView=h.first),Ge(h=qe())&&(o.yearView=h.first),Ge(h=qe())&&(o.multiYearView=h.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Sa([hf]),xa],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(r,o){if(r&1&&(Vs(0,$u,0,0,"ng-template",0),q(1,"div",1),Gt(2,Xu,1,11,"mat-month-view",2)(3,Ju,1,6,"mat-year-view",3)(4,ef,1,6,"mat-multi-year-view",3),Q()),r&2){let h;Me("cdkPortalOutlet",o._calendarHeaderPortal),U(2),qt((h=o.currentView)==="month"?2:h==="year"?3:h==="multi-year"?4:-1)}},dependencies:[Rl,Mc,oh,dh,lh],styles:[`.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mat-button-text-label-text-color: var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return c})(),ff=new ai("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let c=O(Ai);return()=>Ta(c)}});function pf(c){let a=O(Ai);return()=>Ta(a)}var _f={provide:ff,deps:[],useFactory:pf},gf=(()=>{class c{_elementRef=O(ri);_animationsDisabled=Dr();_changeDetectorRef=O(bt);_globalModel=O(mo);_dateAdapter=O(Bt);_ngZone=O(On);_rangeSelectionStrategy=O(hh,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new Ci;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(O(Fn).load(Gs),this._closeButtonText=O(Na).closeCalendarLabel,!this._animationsDisabled){let i=this._elementRef.nativeElement,r=O(kr);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[r.listen(i,"animationstart",this._handleAnimationEvent),r.listen(i,"animationend",this._handleAnimationEvent),r.listen(i,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(i=>i()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(i){let r=this._model.selection,o=i.value,h=r instanceof Ht;if(h&&this._rangeSelectionStrategy){let p=this._rangeSelectionStrategy.selectionFinished(o,r,i.event);this._model.updateSelection(p,this)}else o&&(h||!this._dateAdapter.sameDate(o,r))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(i){this._model.updateSelection(i.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=i=>{let r=this._elementRef.nativeElement;i.target!==r||!i.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=i.type==="animationstart",r.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(i,r){this._model=i?this._globalModel.clone():this._globalModel,this._actionsPortal=i,r&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(r){return new(r||c)};static \u0275cmp=Re({type:c,selectors:[["mat-datepicker-content"]],viewQuery:function(r,o){if(r&1&&Vt(id,5),r&2){let h;Ge(h=qe())&&(o._calendar=h.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(r,o){r&2&&(In(o.color?"mat-"+o.color:""),it("mat-datepicker-content-touch",o.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!o._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","matButton","elevated",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(r,o){r&1&&(q(0,"div",0)(1,"mat-calendar",1),He("yearSelected",function(p){return o.datepicker._selectYear(p)})("monthSelected",function(p){return o.datepicker._selectMonth(p)})("viewChanged",function(p){return o.datepicker._viewChanged(p)})("_userSelection",function(p){return o._handleUserSelection(p)})("_userDragDrop",function(p){return o._handleUserDragDrop(p)}),Q(),Vs(2,tf,0,0,"ng-template",2),q(3,"button",3),He("focus",function(){return o._closeButtonFocused=!0})("blur",function(){return o._closeButtonFocused=!1})("click",function(){return o.datepicker.close()}),Ve(4),Q()()),r&2&&(it("mat-datepicker-content-container-with-custom-header",o.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",o._actionsPortal),Xe("aria-modal",!0)("aria-labelledby",o._dialogLabelId??void 0),U(),In(o.datepicker.panelClass),Me("id",o.datepicker.id)("startAt",o.datepicker.startAt)("startView",o.datepicker.startView)("minDate",o.datepicker._getMinDate())("maxDate",o.datepicker._getMaxDate())("dateFilter",o.datepicker._getDateFilter())("headerComponent",o.datepicker.calendarHeaderComponent)("selected",o._getSelected())("dateClass",o.datepicker.dateClass)("comparisonStart",o.comparisonStart)("comparisonEnd",o.comparisonEnd)("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName),U(),Me("cdkPortalOutlet",o._actionsPortal),U(),it("cdk-visually-hidden",!o._closeButtonFocused),Me("color",o.color||"primary"),U(),en(o._closeButtonText))},dependencies:[Sc,id,Rl,Vl],styles:[`@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}
`],encapsulation:2,changeDetection:0})}return c})();var yf=(()=>{class c{static \u0275fac=function(r){return new(r||c)};static \u0275dir=Ei({type:c,selectors:[["","matDatepickerToggleIcon",""]]})}return c})(),vf=(()=>{class c{_intl=O(Na);_changeDetectorRef=O(bt);_stateChanges=Si.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(i){this._disabled=i}_disabled;disableRipple;_customIcon;_button;constructor(){let i=O(new oc("tabindex"),{optional:!0}),r=Number(i);this.tabIndex=r||r===0?r:null}ngOnChanges(i){i.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(i){this.datepicker&&!this.disabled&&(this.datepicker.open(),i.stopPropagation())}_watchStateChanges(){let i=this.datepicker?this.datepicker.stateChanges:Ti(),r=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Ti(),o=this.datepicker?Pn(this.datepicker.openedStream,this.datepicker.closedStream):Ti();this._stateChanges.unsubscribe(),this._stateChanges=Pn(this._intl.changes,i,r,o).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(r){return new(r||c)};static \u0275cmp=Re({type:c,selectors:[["mat-datepicker-toggle"]],contentQueries:function(r,o,h){if(r&1&&li(h,yf,5),r&2){let p;Ge(p=qe())&&(o._customIcon=p.first)}},viewQuery:function(r,o){if(r&1&&Vt(nf,5),r&2){let h;Ge(h=qe())&&(o._button=h.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(r,o){r&1&&He("click",function(p){return o._open(p)}),r&2&&(Xe("tabindex",null)("data-mat-calendar",o.datepicker?o.datepicker.id:null),it("mat-datepicker-toggle-active",o.datepicker&&o.datepicker.opened)("mat-accent",o.datepicker&&o.datepicker.color==="accent")("mat-warn",o.datepicker&&o.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",Rn],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[xa],ngContentSelectors:rf,decls:4,vars:7,consts:[["button",""],["matIconButton","","type","button",3,"tabIndex","disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(r,o){r&1&&(oi(af),q(0,"button",1,0),Gt(2,sf,2,0,":svg:svg",2),zt(3),Q()),r&2&&(Me("tabIndex",o.disabled?-1:o.tabIndex)("disabled",o.disabled)("disableRipple",o.disableRipple),Xe("aria-haspopup",o.datepicker?"dialog":null)("aria-label",o.ariaLabel||o._intl.openCalendarLabel)("aria-expanded",o.datepicker?o.datepicker.opened:null),U(2),qt(o._customIcon?-1:2))},dependencies:[Sr],styles:[`.mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle button{color:inherit}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return c})();var ph=(()=>{class c{static \u0275fac=function(r){return new(r||c)};static \u0275mod=ht({type:c});static \u0275inj=ct({providers:[Na,_f],imports:[Aa,Xs,Cc,Lc,At,gf,vf,fh,$s]})}return c})();var _h=(()=>{class c{static \u0275fac=function(r){return new(r||c)};static \u0275mod=ht({type:c});static \u0275inj=ct({imports:[Dc,At,Js,Ic,Ea]})}return c})();function gh(c){return new le(3e3,!1)}function bf(){return new le(3100,!1)}function wf(){return new le(3101,!1)}function xf(c){return new le(3001,!1)}function kf(c){return new le(3003,!1)}function Mf(c){return new le(3004,!1)}function vh(c,a){return new le(3005,!1)}function bh(){return new le(3006,!1)}function wh(){return new le(3007,!1)}function xh(c,a){return new le(3008,!1)}function kh(c){return new le(3002,!1)}function Mh(c,a,i,r,o){return new le(3010,!1)}function Dh(){return new le(3011,!1)}function Sh(){return new le(3012,!1)}function Ch(){return new le(3200,!1)}function Th(){return new le(3202,!1)}function Ah(){return new le(3013,!1)}function Eh(c){return new le(3014,!1)}function Ph(c){return new le(3015,!1)}function Lh(c){return new le(3016,!1)}function Oh(c,a){return new le(3404,!1)}function Df(c){return new le(3502,!1)}function Ih(c){return new le(3503,!1)}function Rh(){return new le(3300,!1)}function Fh(c){return new le(3504,!1)}function Nh(c){return new le(3301,!1)}function zh(c,a){return new le(3302,!1)}function Vh(c){return new le(3303,!1)}function Bh(c,a){return new le(3400,!1)}function Yh(c){return new le(3401,!1)}function Hh(c){return new le(3402,!1)}function Zh(c,a){return new le(3505,!1)}function Li(c){switch(c.length){case 0:return new di;case 1:return c[0];default:return new Nn(c)}}function cd(c,a,i=new Map,r=new Map){let o=[],h=[],p=-1,y=null;if(a.forEach(w=>{let k=w.get("offset"),I=k==p,R=I&&y||new Map;w.forEach((V,N)=>{let A=N,j=V;if(N!=="offset")switch(A=c.normalizePropertyName(A,o),j){case Pa:j=i.get(N);break;case Yt:j=r.get(N);break;default:j=c.normalizeStyleValue(N,A,j,o);break}R.set(A,j)}),I||h.push(R),y=R,p=k}),o.length)throw Df(o);return h}function uo(c,a,i,r){switch(a){case"start":c.onStart(()=>r(i&&od(i,"start",c)));break;case"done":c.onDone(()=>r(i&&od(i,"done",c)));break;case"destroy":c.onDestroy(()=>r(i&&od(i,"destroy",c)));break}}function od(c,a,i){let r=i.totalTime,o=!!i.disabled,h=fo(c.element,c.triggerName,c.fromState,c.toState,a||c.phaseName,r??c.totalTime,o),p=c._data;return p!=null&&(h._data=p),h}function fo(c,a,i,r,o="",h=0,p){return{element:c,triggerName:a,fromState:i,toState:r,phaseName:o,totalTime:h,disabled:!!p}}function wt(c,a,i){let r=c.get(a);return r||c.set(a,r=i),r}function hd(c){let a=c.indexOf(":"),i=c.substring(1,a),r=c.slice(a+1);return[i,r]}var Sf=typeof document>"u"?null:document.documentElement;function po(c){let a=c.parentNode||c.host||null;return a===Sf?null:a}function Cf(c){return c.substring(1,6)=="ebkit"}var Vn=null,yh=!1;function Wh(c){Vn||(Vn=Tf()||{},yh=Vn.style?"WebkitAppearance"in Vn.style:!1);let a=!0;return Vn.style&&!Cf(c)&&(a=c in Vn.style,!a&&yh&&(a="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in Vn.style)),a}function Tf(){return typeof document<"u"?document.body:null}function md(c,a){for(;a;){if(a===c)return!0;a=po(a)}return!1}function ud(c,a,i){if(i)return Array.from(c.querySelectorAll(a));let r=c.querySelector(a);return r?[r]:[]}var Af=1e3,fd="{{",Ef="}}",pd="ng-enter",_o="ng-leave",Or="ng-trigger",Ir=".ng-trigger",_d="ng-animating",go=".ng-animating";function ci(c){if(typeof c=="number")return c;let a=c.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:ld(parseFloat(a[1]),a[2])}function ld(c,a){switch(a){case"s":return c*Af;default:return c}}function Rr(c,a,i){return c.hasOwnProperty("duration")?c:Pf(c,a,i)}function Pf(c,a,i){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,o,h=0,p="";if(typeof c=="string"){let y=c.match(r);if(y===null)return a.push(gh(c)),{duration:0,delay:0,easing:""};o=ld(parseFloat(y[1]),y[2]);let w=y[3];w!=null&&(h=ld(parseFloat(w),y[4]));let k=y[5];k&&(p=k)}else o=c;if(!i){let y=!1,w=a.length;o<0&&(a.push(bf()),y=!0),h<0&&(a.push(wf()),y=!0),y&&a.splice(w,0,gh(c))}return{duration:o,delay:h,easing:p}}function jh(c){return c.length?c[0]instanceof Map?c:c.map(a=>new Map(Object.entries(a))):[]}function Kt(c,a,i){a.forEach((r,o)=>{let h=yo(o);i&&!i.has(o)&&i.set(o,c.style[h]),c.style[h]=r})}function ln(c,a){a.forEach((i,r)=>{let o=yo(r);c.style[o]=""})}function za(c){return Array.isArray(c)?c.length==1?c[0]:Hc(c):c}function Uh(c,a,i){let r=a.params||{},o=gd(c);o.length&&o.forEach(h=>{r.hasOwnProperty(h)||i.push(xf(h))})}var dd=new RegExp(`${fd}\\s*(.+?)\\s*${Ef}`,"g");function gd(c){let a=[];if(typeof c=="string"){let i;for(;i=dd.exec(c);)a.push(i[1]);dd.lastIndex=0}return a}function Va(c,a,i){let r=`${c}`,o=r.replace(dd,(h,p)=>{let y=a[p];return y==null&&(i.push(kf(p)),y=""),y.toString()});return o==r?c:o}var Lf=/-+([a-z0-9])/g;function yo(c){return c.replace(Lf,(...a)=>a[1].toUpperCase())}function Gh(c,a){return c===0||a===0}function qh(c,a,i){if(i.size&&a.length){let r=a[0],o=[];if(i.forEach((h,p)=>{r.has(p)||o.push(p),r.set(p,h)}),o.length)for(let h=1;h<a.length;h++){let p=a[h];o.forEach(y=>p.set(y,vo(c,y)))}}return a}function xt(c,a,i){switch(a.type){case $.Trigger:return c.visitTrigger(a,i);case $.State:return c.visitState(a,i);case $.Transition:return c.visitTransition(a,i);case $.Sequence:return c.visitSequence(a,i);case $.Group:return c.visitGroup(a,i);case $.Animate:return c.visitAnimate(a,i);case $.Keyframes:return c.visitKeyframes(a,i);case $.Style:return c.visitStyle(a,i);case $.Reference:return c.visitReference(a,i);case $.AnimateChild:return c.visitAnimateChild(a,i);case $.AnimateRef:return c.visitAnimateRef(a,i);case $.Query:return c.visitQuery(a,i);case $.Stagger:return c.visitStagger(a,i);default:throw Mf(a.type)}}function vo(c,a){return window.getComputedStyle(c)[a]}var Id=(()=>{class c{validateStyleProperty(i){return Wh(i)}containsElement(i,r){return md(i,r)}getParentElement(i){return po(i)}query(i,r,o){return ud(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,h,p,y=[],w){return new di(o,h)}static \u0275fac=function(r){return new(r||c)};static \u0275prov=vt({token:c,factory:c.\u0275fac})}return c})(),Yn=class{static NOOP=new Id},Hn=class{};var Of=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Mo=class extends Hn{normalizePropertyName(a,i){return yo(a)}normalizeStyleValue(a,i,r,o){let h="",p=r.toString().trim();if(Of.has(i)&&r!==0&&r!=="0")if(typeof r=="number")h="px";else{let y=r.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&y[1].length==0&&o.push(vh(a,r))}return p+h}};var Do="*";function If(c,a){let i=[];return typeof c=="string"?c.split(/\s*,\s*/).forEach(r=>Rf(r,i,a)):i.push(c),i}function Rf(c,a,i){if(c[0]==":"){let w=Ff(c,i);if(typeof w=="function"){a.push(w);return}c=w}let r=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return i.push(Ph(c)),a;let o=r[1],h=r[2],p=r[3];a.push(Kh(o,p));let y=o==Do&&p==Do;h[0]=="<"&&!y&&a.push(Kh(p,o))}function Ff(c,a){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,r)=>parseFloat(r)>parseFloat(i);case":decrement":return(i,r)=>parseFloat(r)<parseFloat(i);default:return a.push(Lh(c)),"* => *"}}var bo=new Set(["true","1"]),wo=new Set(["false","0"]);function Kh(c,a){let i=bo.has(c)||wo.has(c),r=bo.has(a)||wo.has(a);return(o,h)=>{let p=c==Do||c==o,y=a==Do||a==h;return!p&&i&&typeof o=="boolean"&&(p=o?bo.has(c):wo.has(c)),!y&&r&&typeof h=="boolean"&&(y=h?bo.has(a):wo.has(a)),p&&y}}var rm=":self",Nf=new RegExp(`s*${rm}s*,?`,"g");function sm(c,a,i,r){return new kd(c).build(a,i,r)}var Qh="",kd=class{_driver;constructor(a){this._driver=a}build(a,i,r){let o=new Md(i);return this._resetContextStyleTimingState(o),xt(this,za(a),o)}_resetContextStyleTimingState(a){a.currentQuerySelector=Qh,a.collectedStyles=new Map,a.collectedStyles.set(Qh,new Map),a.currentTime=0}visitTrigger(a,i){let r=i.queryCount=0,o=i.depCount=0,h=[],p=[];return a.name.charAt(0)=="@"&&i.errors.push(bh()),a.definitions.forEach(y=>{if(this._resetContextStyleTimingState(i),y.type==$.State){let w=y,k=w.name;k.toString().split(/\s*,\s*/).forEach(I=>{w.name=I,h.push(this.visitState(w,i))}),w.name=k}else if(y.type==$.Transition){let w=this.visitTransition(y,i);r+=w.queryCount,o+=w.depCount,p.push(w)}else i.errors.push(wh())}),{type:$.Trigger,name:a.name,states:h,transitions:p,queryCount:r,depCount:o,options:null}}visitState(a,i){let r=this.visitStyle(a.styles,i),o=a.options&&a.options.params||null;if(r.containsDynamicStyles){let h=new Set,p=o||{};r.styles.forEach(y=>{y instanceof Map&&y.forEach(w=>{gd(w).forEach(k=>{p.hasOwnProperty(k)||h.add(k)})})}),h.size&&i.errors.push(xh(a.name,[...h.values()]))}return{type:$.State,name:a.name,style:r,options:o?{params:o}:null}}visitTransition(a,i){i.queryCount=0,i.depCount=0;let r=xt(this,za(a.animation),i),o=If(a.expr,i.errors);return{type:$.Transition,matchers:o,animation:r,queryCount:i.queryCount,depCount:i.depCount,options:Bn(a.options)}}visitSequence(a,i){return{type:$.Sequence,steps:a.steps.map(r=>xt(this,r,i)),options:Bn(a.options)}}visitGroup(a,i){let r=i.currentTime,o=0,h=a.steps.map(p=>{i.currentTime=r;let y=xt(this,p,i);return o=Math.max(o,i.currentTime),y});return i.currentTime=o,{type:$.Group,steps:h,options:Bn(a.options)}}visitAnimate(a,i){let r=Yf(a.timings,i.errors);i.currentAnimateTimings=r;let o,h=a.styles?a.styles:Et({});if(h.type==$.Keyframes)o=this.visitKeyframes(h,i);else{let p=a.styles,y=!1;if(!p){y=!0;let k={};r.easing&&(k.easing=r.easing),p=Et(k)}i.currentTime+=r.duration+r.delay;let w=this.visitStyle(p,i);w.isEmptyStep=y,o=w}return i.currentAnimateTimings=null,{type:$.Animate,timings:r,style:o,options:null}}visitStyle(a,i){let r=this._makeStyleAst(a,i);return this._validateStyleAst(r,i),r}_makeStyleAst(a,i){let r=[],o=Array.isArray(a.styles)?a.styles:[a.styles];for(let y of o)typeof y=="string"?y===Yt?r.push(y):i.errors.push(kh(y)):r.push(new Map(Object.entries(y)));let h=!1,p=null;return r.forEach(y=>{if(y instanceof Map&&(y.has("easing")&&(p=y.get("easing"),y.delete("easing")),!h)){for(let w of y.values())if(w.toString().indexOf(fd)>=0){h=!0;break}}}),{type:$.Style,styles:r,easing:p,offset:a.offset,containsDynamicStyles:h,options:null}}_validateStyleAst(a,i){let r=i.currentAnimateTimings,o=i.currentTime,h=i.currentTime;r&&h>0&&(h-=r.duration+r.delay),a.styles.forEach(p=>{typeof p!="string"&&p.forEach((y,w)=>{let k=i.collectedStyles.get(i.currentQuerySelector),I=k.get(w),R=!0;I&&(h!=o&&h>=I.startTime&&o<=I.endTime&&(i.errors.push(Mh(w,I.startTime,I.endTime,h,o)),R=!1),h=I.startTime),R&&k.set(w,{startTime:h,endTime:o}),i.options&&Uh(y,i.options,i.errors)})})}visitKeyframes(a,i){let r={type:$.Keyframes,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(Dh()),r;let o=1,h=0,p=[],y=!1,w=!1,k=0,I=a.steps.map(ae=>{let De=this._makeStyleAst(ae,i),Ae=De.offset!=null?De.offset:Bf(De.styles),Se=0;return Ae!=null&&(h++,Se=De.offset=Ae),w=w||Se<0||Se>1,y=y||Se<k,k=Se,p.push(Se),De});w&&i.errors.push(Sh()),y&&i.errors.push(Ch());let R=a.steps.length,V=0;h>0&&h<R?i.errors.push(Th()):h==0&&(V=o/(R-1));let N=R-1,A=i.currentTime,j=i.currentAnimateTimings,he=j.duration;return I.forEach((ae,De)=>{let Ae=V>0?De==N?1:V*De:p[De],Se=Ae*he;i.currentTime=A+j.delay+Se,j.duration=Se,this._validateStyleAst(ae,i),ae.offset=Ae,r.styles.push(ae)}),r}visitReference(a,i){return{type:$.Reference,animation:xt(this,za(a.animation),i),options:Bn(a.options)}}visitAnimateChild(a,i){return i.depCount++,{type:$.AnimateChild,options:Bn(a.options)}}visitAnimateRef(a,i){return{type:$.AnimateRef,animation:this.visitReference(a.animation,i),options:Bn(a.options)}}visitQuery(a,i){let r=i.currentQuerySelector,o=a.options||{};i.queryCount++,i.currentQuery=a;let[h,p]=zf(a.selector);i.currentQuerySelector=r.length?r+" "+h:h,wt(i.collectedStyles,i.currentQuerySelector,new Map);let y=xt(this,za(a.animation),i);return i.currentQuery=null,i.currentQuerySelector=r,{type:$.Query,selector:h,limit:o.limit||0,optional:!!o.optional,includeSelf:p,animation:y,originalSelector:a.selector,options:Bn(a.options)}}visitStagger(a,i){i.currentQuery||i.errors.push(Ah());let r=a.timings==="full"?{duration:0,delay:0,easing:"full"}:Rr(a.timings,i.errors,!0);return{type:$.Stagger,animation:xt(this,za(a.animation),i),timings:r,options:null}}};function zf(c){let a=!!c.split(/\s*,\s*/).find(i=>i==rm);return a&&(c=c.replace(Nf,"")),c=c.replace(/@\*/g,Ir).replace(/@\w+/g,i=>Ir+"-"+i.slice(1)).replace(/:animating/g,go),[c,a]}function Vf(c){return c?En({},c):null}var Md=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(a){this.errors=a}};function Bf(c){if(typeof c=="string")return null;let a=null;if(Array.isArray(c))c.forEach(i=>{if(i instanceof Map&&i.has("offset")){let r=i;a=parseFloat(r.get("offset")),r.delete("offset")}});else if(c instanceof Map&&c.has("offset")){let i=c;a=parseFloat(i.get("offset")),i.delete("offset")}return a}function Yf(c,a){if(c.hasOwnProperty("duration"))return c;if(typeof c=="number"){let h=Rr(c,a).duration;return yd(h,0,"")}let i=c;if(i.split(/\s+/).some(h=>h.charAt(0)=="{"&&h.charAt(1)=="{")){let h=yd(0,0,"");return h.dynamic=!0,h.strValue=i,h}let o=Rr(i,a);return yd(o.duration,o.delay,o.easing)}function Bn(c){return c?(c=En({},c),c.params&&(c.params=Vf(c.params))):c={},c}function yd(c,a,i){return{duration:c,delay:a,easing:i}}function Rd(c,a,i,r,o,h,p=null,y=!1){return{type:1,element:c,keyframes:a,preStyleProps:i,postStyleProps:r,duration:o,delay:h,totalTime:o+h,easing:p,subTimeline:y}}var Nr=class{_map=new Map;get(a){return this._map.get(a)||[]}append(a,i){let r=this._map.get(a);r||this._map.set(a,r=[]),r.push(...i)}has(a){return this._map.has(a)}clear(){this._map.clear()}},Hf=1,Zf=":enter",Wf=new RegExp(Zf,"g"),jf=":leave",Uf=new RegExp(jf,"g");function om(c,a,i,r,o,h=new Map,p=new Map,y,w,k=[]){return new Dd().buildKeyframes(c,a,i,r,o,h,p,y,w,k)}var Dd=class{buildKeyframes(a,i,r,o,h,p,y,w,k,I=[]){k=k||new Nr;let R=new Sd(a,i,k,o,h,I,[]);R.options=w;let V=w.delay?ci(w.delay):0;R.currentTimeline.delayNextStep(V),R.currentTimeline.setStyles([p],null,R.errors,w),xt(this,r,R);let N=R.timelines.filter(A=>A.containsAnimation());if(N.length&&y.size){let A;for(let j=N.length-1;j>=0;j--){let he=N[j];if(he.element===i){A=he;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([y],null,R.errors,w)}return N.length?N.map(A=>A.buildKeyframes()):[Rd(i,[],[],[],0,V,"",!1)]}visitTrigger(a,i){}visitState(a,i){}visitTransition(a,i){}visitAnimateChild(a,i){let r=i.subInstructions.get(i.element);if(r){let o=i.createSubContext(a.options),h=i.currentTimeline.currentTime,p=this._visitSubInstructions(r,o,o.options);h!=p&&i.transformIntoNewTimeline(p)}i.previousNode=a}visitAnimateRef(a,i){let r=i.createSubContext(a.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([a.options,a.animation.options],i,r),this.visitReference(a.animation,r),i.transformIntoNewTimeline(r.currentTimeline.currentTime),i.previousNode=a}_applyAnimationRefDelays(a,i,r){for(let o of a){let h=o?.delay;if(h){let p=typeof h=="number"?h:ci(Va(h,o?.params??{},i.errors));r.delayNextStep(p)}}}_visitSubInstructions(a,i,r){let h=i.currentTimeline.currentTime,p=r.duration!=null?ci(r.duration):null,y=r.delay!=null?ci(r.delay):null;return p!==0&&a.forEach(w=>{let k=i.appendInstructionToTimeline(w,p,y);h=Math.max(h,k.duration+k.delay)}),h}visitReference(a,i){i.updateOptions(a.options,!0),xt(this,a.animation,i),i.previousNode=a}visitSequence(a,i){let r=i.subContextCount,o=i,h=a.options;if(h&&(h.params||h.delay)&&(o=i.createSubContext(h),o.transformIntoNewTimeline(),h.delay!=null)){o.previousNode.type==$.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=So);let p=ci(h.delay);o.delayNextStep(p)}a.steps.length&&(a.steps.forEach(p=>xt(this,p,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),i.previousNode=a}visitGroup(a,i){let r=[],o=i.currentTimeline.currentTime,h=a.options&&a.options.delay?ci(a.options.delay):0;a.steps.forEach(p=>{let y=i.createSubContext(a.options);h&&y.delayNextStep(h),xt(this,p,y),o=Math.max(o,y.currentTimeline.currentTime),r.push(y.currentTimeline)}),r.forEach(p=>i.currentTimeline.mergeTimelineCollectedStyles(p)),i.transformIntoNewTimeline(o),i.previousNode=a}_visitTiming(a,i){if(a.dynamic){let r=a.strValue,o=i.params?Va(r,i.params,i.errors):r;return Rr(o,i.errors)}else return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,i){let r=i.currentAnimateTimings=this._visitTiming(a.timings,i),o=i.currentTimeline;r.delay&&(i.incrementTime(r.delay),o.snapshotCurrentStyles());let h=a.style;h.type==$.Keyframes?this.visitKeyframes(h,i):(i.incrementTime(r.duration),this.visitStyle(h,i),o.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=a}visitStyle(a,i){let r=i.currentTimeline,o=i.currentAnimateTimings;!o&&r.hasCurrentStyleProperties()&&r.forwardFrame();let h=o&&o.easing||a.easing;a.isEmptyStep?r.applyEmptyStep(h):r.setStyles(a.styles,h,i.errors,i.options),i.previousNode=a}visitKeyframes(a,i){let r=i.currentAnimateTimings,o=i.currentTimeline.duration,h=r.duration,y=i.createSubContext().currentTimeline;y.easing=r.easing,a.styles.forEach(w=>{let k=w.offset||0;y.forwardTime(k*h),y.setStyles(w.styles,w.easing,i.errors,i.options),y.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(y),i.transformIntoNewTimeline(o+h),i.previousNode=a}visitQuery(a,i){let r=i.currentTimeline.currentTime,o=a.options||{},h=o.delay?ci(o.delay):0;h&&(i.previousNode.type===$.Style||r==0&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=So);let p=r,y=i.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!o.optional,i.errors);i.currentQueryTotal=y.length;let w=null;y.forEach((k,I)=>{i.currentQueryIndex=I;let R=i.createSubContext(a.options,k);h&&R.delayNextStep(h),k===i.element&&(w=R.currentTimeline),xt(this,a.animation,R),R.currentTimeline.applyStylesToKeyframe();let V=R.currentTimeline.currentTime;p=Math.max(p,V)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(p),w&&(i.currentTimeline.mergeTimelineCollectedStyles(w),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=a}visitStagger(a,i){let r=i.parentContext,o=i.currentTimeline,h=a.timings,p=Math.abs(h.duration),y=p*(i.currentQueryTotal-1),w=p*i.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":w=y-w;break;case"full":w=r.currentStaggerTime;break}let I=i.currentTimeline;w&&I.delayNextStep(w);let R=I.currentTime;xt(this,a.animation,i),i.previousNode=a,r.currentStaggerTime=o.currentTime-R+(o.startTime-r.currentTimeline.startTime)}},So={},Sd=class c{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=So;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(a,i,r,o,h,p,y,w){this._driver=a,this.element=i,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=h,this.errors=p,this.timelines=y,this.currentTimeline=w||new Co(this._driver,i,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,i){if(!a)return;let r=a,o=this.options;r.duration!=null&&(o.duration=ci(r.duration)),r.delay!=null&&(o.delay=ci(r.delay));let h=r.params;if(h){let p=o.params;p||(p=this.options.params={}),Object.keys(h).forEach(y=>{(!i||!p.hasOwnProperty(y))&&(p[y]=Va(h[y],p,this.errors))})}}_copyOptions(){let a={};if(this.options){let i=this.options.params;if(i){let r=a.params={};Object.keys(i).forEach(o=>{r[o]=i[o]})}}return a}createSubContext(a=null,i,r){let o=i||this.element,h=new c(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(a),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(a){return this.previousNode=So,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,i,r){let o={duration:i??a.duration,delay:this.currentTimeline.currentTime+(r??0)+a.delay,easing:""},h=new Cd(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,o,a.stretchStartingKeyframe);return this.timelines.push(h),o}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,i,r,o,h,p){let y=[];if(o&&y.push(this.element),a.length>0){a=a.replace(Wf,"."+this._enterClassName),a=a.replace(Uf,"."+this._leaveClassName);let w=r!=1,k=this._driver.query(this.element,a,w);r!==0&&(k=r<0?k.slice(k.length+r,k.length):k.slice(0,r)),y.push(...k)}return!h&&y.length==0&&p.push(Eh(i)),y}},Co=class c{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(a,i,r,o){this._driver=a,this.element=i,this.startTime=r,this._elementTimelineStylesLookup=o,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(a){let i=this._keyframes.size===1&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+a),i&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,i){return this.applyStylesToKeyframe(),new c(this._driver,a,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Hf,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,i){this._localTimelineStyles.set(a,i),this._globalTimelineStyles.set(a,i),this._styleSummary.set(a,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&this._previousKeyframe.set("easing",a);for(let[i,r]of this._globalTimelineStyles)this._backFill.set(i,r||Yt),this._currentKeyframe.set(i,Yt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,i,r,o){i&&this._previousKeyframe.set("easing",i);let h=o&&o.params||{},p=Gf(a,this._globalTimelineStyles);for(let[y,w]of p){let k=Va(w,h,r);this._pendingStyles.set(y,k),this._localTimelineStyles.has(y)||this._backFill.set(y,this._globalTimelineStyles.get(y)??Yt),this._updateStyle(y,k)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((a,i)=>{this._currentKeyframe.set(i,a)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((a,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,a)}))}snapshotCurrentStyles(){for(let[a,i]of this._localTimelineStyles)this._pendingStyles.set(a,i),this._updateStyle(a,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let a=[];for(let i in this._currentKeyframe)a.push(i);return a}mergeTimelineCollectedStyles(a){a._styleSummary.forEach((i,r)=>{let o=this._styleSummary.get(r);(!o||i.time>o.time)&&this._updateStyle(r,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();let a=new Set,i=new Set,r=this._keyframes.size===1&&this.duration===0,o=[];this._keyframes.forEach((y,w)=>{let k=new Map([...this._backFill,...y]);k.forEach((I,R)=>{I===Pa?a.add(R):I===Yt&&i.add(R)}),r||k.set("offset",w/this.duration),o.push(k)});let h=[...a.values()],p=[...i.values()];if(r){let y=o[0],w=new Map(y);y.set("offset",0),w.set("offset",1),o=[y,w]}return Rd(this.element,o,h,p,this.duration,this.startTime,this.easing,!1)}},Cd=class extends Co{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(a,i,r,o,h,p,y=!1){super(a,i,p.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=h,this._stretchStartingKeyframe=y,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:i,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&i){let h=[],p=r+i,y=i/p,w=new Map(a[0]);w.set("offset",0),h.push(w);let k=new Map(a[0]);k.set("offset",$h(y)),h.push(k);let I=a.length-1;for(let R=1;R<=I;R++){let V=new Map(a[R]),N=V.get("offset"),A=i+N*r;V.set("offset",$h(A/p)),h.push(V)}r=p,i=0,o="",a=h}return Rd(this.element,a,this.preStyleProps,this.postStyleProps,r,i,o,!0)}};function $h(c,a=3){let i=Math.pow(10,a-1);return Math.round(c*i)/i}function Gf(c,a){let i=new Map,r;return c.forEach(o=>{if(o==="*"){r??=a.keys();for(let h of r)i.set(h,Yt)}else for(let[h,p]of o)i.set(h,p)}),i}function Xh(c,a,i,r,o,h,p,y,w,k,I,R,V){return{type:0,element:c,triggerName:a,isRemovalTransition:o,fromState:i,fromStyles:h,toState:r,toStyles:p,timelines:y,queriedElements:w,preStyleProps:k,postStyleProps:I,totalTime:R,errors:V}}var vd={},To=class{_triggerName;ast;_stateStyles;constructor(a,i,r){this._triggerName=a,this.ast=i,this._stateStyles=r}match(a,i,r,o){return qf(this.ast.matchers,a,i,r,o)}buildStyles(a,i,r){let o=this._stateStyles.get("*");return a!==void 0&&(o=this._stateStyles.get(a?.toString())||o),o?o.buildStyles(i,r):new Map}build(a,i,r,o,h,p,y,w,k,I){let R=[],V=this.ast.options&&this.ast.options.params||vd,N=y&&y.params||vd,A=this.buildStyles(r,N,R),j=w&&w.params||vd,he=this.buildStyles(o,j,R),ae=new Set,De=new Map,Ae=new Map,Se=o==="void",nt={params:lm(j,V),delay:this.ast.options?.delay},Ce=I?[]:om(a,i,this.ast.animation,h,p,A,he,nt,k,R),Pe=0;return Ce.forEach(ue=>{Pe=Math.max(ue.duration+ue.delay,Pe)}),R.length?Xh(i,this._triggerName,r,o,Se,A,he,[],[],De,Ae,Pe,R):(Ce.forEach(ue=>{let Te=ue.element,Le=wt(De,Te,new Set);ue.preStyleProps.forEach(Ze=>Le.add(Ze));let at=wt(Ae,Te,new Set);ue.postStyleProps.forEach(Ze=>at.add(Ze)),Te!==i&&ae.add(Te)}),Xh(i,this._triggerName,r,o,Se,A,he,Ce,[...ae.values()],De,Ae,Pe))}};function qf(c,a,i,r,o){return c.some(h=>h(a,i,r,o))}function lm(c,a){let i=En({},a);return Object.entries(c).forEach(([r,o])=>{o!=null&&(i[r]=o)}),i}var Td=class{styles;defaultParams;normalizer;constructor(a,i,r){this.styles=a,this.defaultParams=i,this.normalizer=r}buildStyles(a,i){let r=new Map,o=lm(a,this.defaultParams);return this.styles.styles.forEach(h=>{typeof h!="string"&&h.forEach((p,y)=>{p&&(p=Va(p,o,i));let w=this.normalizer.normalizePropertyName(y,i);p=this.normalizer.normalizeStyleValue(y,w,p,i),r.set(y,p)})}),r}};function Kf(c,a,i){return new Ad(c,a,i)}var Ad=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(a,i,r){this.name=a,this.ast=i,this._normalizer=r,i.states.forEach(o=>{let h=o.options&&o.options.params||{};this.states.set(o.name,new Td(o.style,h,r))}),Jh(this.states,"true","1"),Jh(this.states,"false","0"),i.transitions.forEach(o=>{this.transitionFactories.push(new To(a,o,this.states))}),this.fallbackTransition=Qf(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,i,r,o){return this.transitionFactories.find(p=>p.match(a,i,r,o))||null}matchStyles(a,i,r){return this.fallbackTransition.buildStyles(a,i,r)}};function Qf(c,a,i){let r=[(p,y)=>!0],o={type:$.Sequence,steps:[],options:null},h={type:$.Transition,animation:o,matchers:r,options:null,queryCount:0,depCount:0};return new To(c,h,a)}function Jh(c,a,i){c.has(a)?c.has(i)||c.set(i,c.get(a)):c.has(i)&&c.set(a,c.get(i))}var $f=new Nr,Ed=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(a,i,r){this.bodyNode=a,this._driver=i,this._normalizer=r}register(a,i){let r=[],o=[],h=sm(this._driver,i,r,o);if(r.length)throw Ih(r);this._animations.set(a,h)}_buildPlayer(a,i,r){let o=a.element,h=cd(this._normalizer,a.keyframes,i,r);return this._driver.animate(o,h,a.duration,a.delay,a.easing,[],!0)}create(a,i,r={}){let o=[],h=this._animations.get(a),p,y=new Map;if(h?(p=om(this._driver,i,h,pd,_o,new Map,new Map,r,$f,o),p.forEach(I=>{let R=wt(y,I.element,new Map);I.postStyleProps.forEach(V=>R.set(V,null))})):(o.push(Rh()),p=[]),o.length)throw Fh(o);y.forEach((I,R)=>{I.forEach((V,N)=>{I.set(N,this._driver.computeStyle(R,N,Yt))})});let w=p.map(I=>{let R=y.get(I.element);return this._buildPlayer(I,new Map,R)}),k=Li(w);return this._playersById.set(a,k),k.onDestroy(()=>this.destroy(a)),this.players.push(k),k}destroy(a){let i=this._getPlayer(a);i.destroy(),this._playersById.delete(a);let r=this.players.indexOf(i);r>=0&&this.players.splice(r,1)}_getPlayer(a){let i=this._playersById.get(a);if(!i)throw Nh(a);return i}listen(a,i,r,o){let h=fo(i,"","","");return uo(this._getPlayer(a),r,h,o),()=>{}}command(a,i,r,o){if(r=="register"){this.register(a,o[0]);return}if(r=="create"){let p=o[0]||{};this.create(a,i,p);return}let h=this._getPlayer(a);switch(r){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(a);break}}},em="ng-animate-queued",Xf=".ng-animate-queued",bd="ng-animate-disabled",Jf=".ng-animate-disabled",ep="ng-star-inserted",tp=".ng-star-inserted",ip=[],dm={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},np={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qt="__ng_removed",zr=class{namespaceId;value;options;get params(){return this.options.params}constructor(a,i=""){this.namespaceId=i;let r=a&&a.hasOwnProperty("value"),o=r?a.value:a;if(this.value=rp(o),r){let h=a,{value:p}=h,y=Ud(h,["value"]);this.options=y}else this.options={};this.options.params||(this.options.params={})}absorbOptions(a){let i=a.params;if(i){let r=this.options.params;Object.keys(i).forEach(o=>{r[o]==null&&(r[o]=i[o])})}}},Fr="void",wd=new zr(Fr),Pd=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(a,i,r){this.id=a,this.hostElement=i,this._engine=r,this._hostClassName="ng-tns-"+a,Zt(i,this._hostClassName)}listen(a,i,r,o){if(!this._triggers.has(i))throw zh(r,i);if(r==null||r.length==0)throw Vh(i);if(!sp(r))throw Bh(r,i);let h=wt(this._elementListeners,a,[]),p={name:i,phase:r,callback:o};h.push(p);let y=wt(this._engine.statesByElement,a,new Map);return y.has(i)||(Zt(a,Or),Zt(a,Or+"-"+i),y.set(i,wd)),()=>{this._engine.afterFlush(()=>{let w=h.indexOf(p);w>=0&&h.splice(w,1),this._triggers.has(i)||y.delete(i)})}}register(a,i){return this._triggers.has(a)?!1:(this._triggers.set(a,i),!0)}_getTrigger(a){let i=this._triggers.get(a);if(!i)throw Yh(a);return i}trigger(a,i,r,o=!0){let h=this._getTrigger(i),p=new Vr(this.id,i,a),y=this._engine.statesByElement.get(a);y||(Zt(a,Or),Zt(a,Or+"-"+i),this._engine.statesByElement.set(a,y=new Map));let w=y.get(i),k=new zr(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&w&&k.absorbOptions(w.options),y.set(i,k),w||(w=wd),!(k.value===Fr)&&w.value===k.value){if(!dp(w.params,k.params)){let j=[],he=h.matchStyles(w.value,w.params,j),ae=h.matchStyles(k.value,k.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{ln(a,he),Kt(a,ae)})}return}let V=wt(this._engine.playersByElement,a,[]);V.forEach(j=>{j.namespaceId==this.id&&j.triggerName==i&&j.queued&&j.destroy()});let N=h.matchTransition(w.value,k.value,a,k.params),A=!1;if(!N){if(!o)return;N=h.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:i,transition:N,fromState:w,toState:k,player:p,isFallbackTransition:A}),A||(Zt(a,em),p.onStart(()=>{Ba(a,em)})),p.onDone(()=>{let j=this.players.indexOf(p);j>=0&&this.players.splice(j,1);let he=this._engine.playersByElement.get(a);if(he){let ae=he.indexOf(p);ae>=0&&he.splice(ae,1)}}),this.players.push(p),V.push(p),p}deregister(a){this._triggers.delete(a),this._engine.statesByElement.forEach(i=>i.delete(a)),this._elementListeners.forEach((i,r)=>{this._elementListeners.set(r,i.filter(o=>o.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);let i=this._engine.playersByElement.get(a);i&&(i.forEach(r=>r.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,i){let r=this._engine.driver.query(a,Ir,!0);r.forEach(o=>{if(o[Qt])return;let h=this._engine.fetchNamespacesByElement(o);h.size?h.forEach(p=>p.triggerLeaveAnimation(o,i,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(a,i,r,o){let h=this._engine.statesByElement.get(a),p=new Map;if(h){let y=[];if(h.forEach((w,k)=>{if(p.set(k,w.value),this._triggers.has(k)){let I=this.trigger(a,k,Fr,o);I&&y.push(I)}}),y.length)return this._engine.markElementAsRemoved(this.id,a,!0,i,p),r&&Li(y).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){let i=this._elementListeners.get(a),r=this._engine.statesByElement.get(a);if(i&&r){let o=new Set;i.forEach(h=>{let p=h.name;if(o.has(p))return;o.add(p);let w=this._triggers.get(p).fallbackTransition,k=r.get(p)||wd,I=new zr(Fr),R=new Vr(this.id,p,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:p,transition:w,fromState:k,toState:I,player:R,isFallbackTransition:!0})})}}removeNode(a,i){let r=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,i),this.triggerLeaveAnimation(a,i,!0))return;let o=!1;if(r.totalAnimations){let h=r.players.length?r.playersByQueriedElement.get(a):[];if(h&&h.length)o=!0;else{let p=a;for(;p=p.parentNode;)if(r.statesByElement.get(p)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(a),o)r.markElementAsRemoved(this.id,a,!1,i);else{let h=a[Qt];(!h||h===dm)&&(r.afterFlush(()=>this.clearElementCache(a)),r.destroyInnerAnimations(a),r._onRemovalComplete(a,i))}}insertNode(a,i){Zt(a,this._hostClassName)}drainQueuedTransitions(a){let i=[];return this._queue.forEach(r=>{let o=r.player;if(o.destroyed)return;let h=r.element,p=this._elementListeners.get(h);p&&p.forEach(y=>{if(y.name==r.triggerName){let w=fo(h,r.triggerName,r.fromState.value,r.toState.value);w._data=a,uo(r.player,y.phase,w,y.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):i.push(r)}),this._queue=[],i.sort((r,o)=>{let h=r.transition.ast.depCount,p=o.transition.ast.depCount;return h==0||p==0?h-p:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(a){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}},Ld=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(a,i)=>{};_onRemovalComplete(a,i){this.onRemovalComplete(a,i)}constructor(a,i,r){this.bodyNode=a,this.driver=i,this._normalizer=r}get queuedPlayers(){let a=[];return this._namespaceList.forEach(i=>{i.players.forEach(r=>{r.queued&&a.push(r)})}),a}createNamespace(a,i){let r=new Pd(a,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(r,i):(this.newHostElements.set(i,r),this.collectEnterElement(i)),this._namespaceLookup[a]=r}_balanceNamespaceList(a,i){let r=this._namespaceList,o=this.namespacesByHostElement;if(r.length-1>=0){let p=!1,y=this.driver.getParentElement(i);for(;y;){let w=o.get(y);if(w){let k=r.indexOf(w);r.splice(k+1,0,a),p=!0;break}y=this.driver.getParentElement(y)}p||r.unshift(a)}else r.push(a);return o.set(i,a),a}register(a,i){let r=this._namespaceLookup[a];return r||(r=this.createNamespace(a,i)),r}registerTrigger(a,i,r){let o=this._namespaceLookup[a];o&&o.register(i,r)&&this.totalAnimations++}destroy(a,i){a&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(a);this.namespacesByHostElement.delete(r.hostElement);let o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1),r.destroy(i),delete this._namespaceLookup[a]}))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){let i=new Set,r=this.statesByElement.get(a);if(r){for(let o of r.values())if(o.namespaceId){let h=this._fetchNamespace(o.namespaceId);h&&i.add(h)}}return i}trigger(a,i,r,o){if(xo(i)){let h=this._fetchNamespace(a);if(h)return h.trigger(i,r,o),!0}return!1}insertNode(a,i,r,o){if(!xo(i))return;let h=i[Qt];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;let p=this.collectedLeaveElements.indexOf(i);p>=0&&this.collectedLeaveElements.splice(p,1)}if(a){let p=this._fetchNamespace(a);p&&p.insertNode(i,r)}o&&this.collectEnterElement(i)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,i){i?this.disabledNodes.has(a)||(this.disabledNodes.add(a),Zt(a,bd)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),Ba(a,bd))}removeNode(a,i,r){if(xo(i)){let o=a?this._fetchNamespace(a):null;o?o.removeNode(i,r):this.markElementAsRemoved(a,i,!1,r);let h=this.namespacesByHostElement.get(i);h&&h.id!==a&&h.removeNode(i,r)}else this._onRemovalComplete(i,r)}markElementAsRemoved(a,i,r,o,h){this.collectedLeaveElements.push(i),i[Qt]={namespaceId:a,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:h}}listen(a,i,r,o,h){return xo(i)?this._fetchNamespace(a).listen(i,r,o,h):()=>{}}_buildInstruction(a,i,r,o,h){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,r,o,a.fromState.options,a.toState.options,i,h)}destroyInnerAnimations(a){let i=this.driver.query(a,Ir,!0);i.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(i=this.driver.query(a,go,!0),i.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(a){let i=this.playersByElement.get(a);i&&i.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(a){let i=this.playersByQueriedElement.get(a);i&&i.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return Li(this.players).onDone(()=>a());a()})}processLeaveNode(a){let i=a[Qt];if(i&&i.setForRemoval){if(a[Qt]=dm,i.namespaceId){this.destroyInnerAnimations(a);let r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(a)}this._onRemovalComplete(a,i.setForRemoval)}a.classList?.contains(bd)&&this.markElementAsDisabled(a,!1),this.driver.query(a,Jf,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(a=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let o=this.collectedEnterElements[r];Zt(o,ep)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{i=this._flushAnimations(r,a)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let o=this.collectedLeaveElements[r];this.processLeaveNode(o)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],i.length?Li(i).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(a){throw Hh(a)}_flushAnimations(a,i){let r=new Nr,o=[],h=new Map,p=[],y=new Map,w=new Map,k=new Map,I=new Set;this.disabledNodes.forEach(S=>{I.add(S);let Y=this.driver.query(S,Xf,!0);for(let T=0;T<Y.length;T++)I.add(Y[T])});let R=this.bodyNode,V=Array.from(this.statesByElement.keys()),N=nm(V,this.collectedEnterElements),A=new Map,j=0;N.forEach((S,Y)=>{let T=pd+j++;A.set(Y,T),S.forEach(B=>Zt(B,T))});let he=[],ae=new Set,De=new Set;for(let S=0;S<this.collectedLeaveElements.length;S++){let Y=this.collectedLeaveElements[S],T=Y[Qt];T&&T.setForRemoval&&(he.push(Y),ae.add(Y),T.hasAnimation?this.driver.query(Y,tp,!0).forEach(B=>ae.add(B)):De.add(Y))}let Ae=new Map,Se=nm(V,Array.from(ae));Se.forEach((S,Y)=>{let T=_o+j++;Ae.set(Y,T),S.forEach(B=>Zt(B,T))}),a.push(()=>{N.forEach((S,Y)=>{let T=A.get(Y);S.forEach(B=>Ba(B,T))}),Se.forEach((S,Y)=>{let T=Ae.get(Y);S.forEach(B=>Ba(B,T))}),he.forEach(S=>{this.processLeaveNode(S)})});let nt=[],Ce=[];for(let S=this._namespaceList.length-1;S>=0;S--)this._namespaceList[S].drainQueuedTransitions(i).forEach(T=>{let B=T.player,ne=T.element;if(nt.push(B),this.collectedEnterElements.length){let Oe=ne[Qt];if(Oe&&Oe.setForMove){if(Oe.previousTriggersValues&&Oe.previousTriggersValues.has(T.triggerName)){let kt=Oe.previousTriggersValues.get(T.triggerName),Ke=this.statesByElement.get(T.element);if(Ke&&Ke.has(T.triggerName)){let It=Ke.get(T.triggerName);It.value=kt,Ke.set(T.triggerName,It)}}B.destroy();return}}let fe=!R||!this.driver.containsElement(R,ne),ie=Ae.get(ne),E=A.get(ne),W=this._buildInstruction(T,r,E,ie,fe);if(W.errors&&W.errors.length){Ce.push(W);return}if(fe){B.onStart(()=>ln(ne,W.fromStyles)),B.onDestroy(()=>Kt(ne,W.toStyles)),o.push(B);return}if(T.isFallbackTransition){B.onStart(()=>ln(ne,W.fromStyles)),B.onDestroy(()=>Kt(ne,W.toStyles)),o.push(B);return}let mt=[];W.timelines.forEach(Oe=>{Oe.stretchStartingKeyframe=!0,this.disabledNodes.has(Oe.element)||mt.push(Oe)}),W.timelines=mt,r.append(ne,W.timelines);let rt={instruction:W,player:B,element:ne};p.push(rt),W.queriedElements.forEach(Oe=>wt(y,Oe,[]).push(B)),W.preStyleProps.forEach((Oe,kt)=>{if(Oe.size){let Ke=w.get(kt);Ke||w.set(kt,Ke=new Set),Oe.forEach((It,mi)=>Ke.add(mi))}}),W.postStyleProps.forEach((Oe,kt)=>{let Ke=k.get(kt);Ke||k.set(kt,Ke=new Set),Oe.forEach((It,mi)=>Ke.add(mi))})});if(Ce.length){let S=[];Ce.forEach(Y=>{S.push(Zh(Y.triggerName,Y.errors))}),nt.forEach(Y=>Y.destroy()),this.reportError(S)}let Pe=new Map,ue=new Map;p.forEach(S=>{let Y=S.element;r.has(Y)&&(ue.set(Y,Y),this._beforeAnimationBuild(S.player.namespaceId,S.instruction,Pe))}),o.forEach(S=>{let Y=S.element;this._getPreviousPlayers(Y,!1,S.namespaceId,S.triggerName,null).forEach(B=>{wt(Pe,Y,[]).push(B),B.destroy()})});let Te=he.filter(S=>am(S,w,k)),Le=new Map;im(Le,this.driver,De,k,Yt).forEach(S=>{am(S,w,k)&&Te.push(S)});let Ze=new Map;N.forEach((S,Y)=>{im(Ze,this.driver,new Set(S),w,Pa)}),Te.forEach(S=>{let Y=Le.get(S),T=Ze.get(S);Le.set(S,new Map([...Y?.entries()??[],...T?.entries()??[]]))});let hi=[],Be=[],Ot={};p.forEach(S=>{let{element:Y,player:T,instruction:B}=S;if(r.has(Y)){if(I.has(Y)){T.onDestroy(()=>Kt(Y,B.toStyles)),T.disabled=!0,T.overrideTotalTime(B.totalTime),o.push(T);return}let ne=Ot;if(ue.size>1){let ie=Y,E=[];for(;ie=ie.parentNode;){let W=ue.get(ie);if(W){ne=W;break}E.push(ie)}E.forEach(W=>ue.set(W,ne))}let fe=this._buildAnimation(T.namespaceId,B,Pe,h,Ze,Le);if(T.setRealPlayer(fe),ne===Ot)hi.push(T);else{let ie=this.playersByElement.get(ne);ie&&ie.length&&(T.parentPlayer=Li(ie)),o.push(T)}}else ln(Y,B.fromStyles),T.onDestroy(()=>Kt(Y,B.toStyles)),Be.push(T),I.has(Y)&&o.push(T)}),Be.forEach(S=>{let Y=h.get(S.element);if(Y&&Y.length){let T=Li(Y);S.setRealPlayer(T)}}),o.forEach(S=>{S.parentPlayer?S.syncPlayerEvents(S.parentPlayer):S.destroy()});for(let S=0;S<he.length;S++){let Y=he[S],T=Y[Qt];if(Ba(Y,_o),T&&T.hasAnimation)continue;let B=[];if(y.size){let fe=y.get(Y);fe&&fe.length&&B.push(...fe);let ie=this.driver.query(Y,go,!0);for(let E=0;E<ie.length;E++){let W=y.get(ie[E]);W&&W.length&&B.push(...W)}}let ne=B.filter(fe=>!fe.destroyed);ne.length?op(this,Y,ne):this.processLeaveNode(Y)}return he.length=0,hi.forEach(S=>{this.players.push(S),S.onDone(()=>{S.destroy();let Y=this.players.indexOf(S);this.players.splice(Y,1)}),S.play()}),hi}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,i,r,o,h){let p=[];if(i){let y=this.playersByQueriedElement.get(a);y&&(p=y)}else{let y=this.playersByElement.get(a);if(y){let w=!h||h==Fr;y.forEach(k=>{k.queued||!w&&k.triggerName!=o||p.push(k)})}}return(r||o)&&(p=p.filter(y=>!(r&&r!=y.namespaceId||o&&o!=y.triggerName))),p}_beforeAnimationBuild(a,i,r){let o=i.triggerName,h=i.element,p=i.isRemovalTransition?void 0:a,y=i.isRemovalTransition?void 0:o;for(let w of i.timelines){let k=w.element,I=k!==h,R=wt(r,k,[]);this._getPreviousPlayers(k,I,p,y,i.toState).forEach(N=>{let A=N.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),N.destroy(),R.push(N)})}ln(h,i.fromStyles)}_buildAnimation(a,i,r,o,h,p){let y=i.triggerName,w=i.element,k=[],I=new Set,R=new Set,V=i.timelines.map(A=>{let j=A.element;I.add(j);let he=j[Qt];if(he&&he.removedBeforeQueried)return new di(A.duration,A.delay);let ae=j!==w,De=lp((r.get(j)||ip).map(Pe=>Pe.getRealPlayer())).filter(Pe=>{let ue=Pe;return ue.element?ue.element===j:!1}),Ae=h.get(j),Se=p.get(j),nt=cd(this._normalizer,A.keyframes,Ae,Se),Ce=this._buildPlayer(A,nt,De);if(A.subTimeline&&o&&R.add(j),ae){let Pe=new Vr(a,y,j);Pe.setRealPlayer(Ce),k.push(Pe)}return Ce});k.forEach(A=>{wt(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>ap(this.playersByQueriedElement,A.element,A))}),I.forEach(A=>Zt(A,_d));let N=Li(V);return N.onDestroy(()=>{I.forEach(A=>Ba(A,_d)),Kt(w,i.toStyles)}),R.forEach(A=>{wt(o,A,[]).push(N)}),N}_buildPlayer(a,i,r){return i.length>0?this.driver.animate(a.element,i,a.duration,a.delay,a.easing,r):new di(a.duration,a.delay)}},Vr=class{namespaceId;triggerName;element;_player=new di;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(a,i,r){this.namespaceId=a,this.triggerName=i,this.element=r}setRealPlayer(a){this._containsRealPlayer||(this._player=a,this._queuedCallbacks.forEach((i,r)=>{i.forEach(o=>uo(a,r,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){let i=this._player;i.triggerCallback&&a.onStart(()=>i.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,i){wt(this._queuedCallbacks,a,[]).push(i)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){let i=this._player;i.triggerCallback&&i.triggerCallback(a)}};function ap(c,a,i){let r=c.get(a);if(r){if(r.length){let o=r.indexOf(i);r.splice(o,1)}r.length==0&&c.delete(a)}return r}function rp(c){return c??null}function xo(c){return c&&c.nodeType===1}function sp(c){return c=="start"||c=="done"}function tm(c,a){let i=c.style.display;return c.style.display=a??"none",i}function im(c,a,i,r,o){let h=[];i.forEach(w=>h.push(tm(w)));let p=[];r.forEach((w,k)=>{let I=new Map;w.forEach(R=>{let V=a.computeStyle(k,R,o);I.set(R,V),(!V||V.length==0)&&(k[Qt]=np,p.push(k))}),c.set(k,I)});let y=0;return i.forEach(w=>tm(w,h[y++])),p}function nm(c,a){let i=new Map;if(c.forEach(y=>i.set(y,[])),a.length==0)return i;let r=1,o=new Set(a),h=new Map;function p(y){if(!y)return r;let w=h.get(y);if(w)return w;let k=y.parentNode;return i.has(k)?w=k:o.has(k)?w=r:w=p(k),h.set(y,w),w}return a.forEach(y=>{let w=p(y);w!==r&&i.get(w).push(y)}),i}function Zt(c,a){c.classList?.add(a)}function Ba(c,a){c.classList?.remove(a)}function op(c,a,i){Li(i).onDone(()=>c.processLeaveNode(a))}function lp(c){let a=[];return cm(c,a),a}function cm(c,a){for(let i=0;i<c.length;i++){let r=c[i];r instanceof Nn?cm(r.players,a):a.push(r)}}function dp(c,a){let i=Object.keys(c),r=Object.keys(a);if(i.length!=r.length)return!1;for(let o=0;o<i.length;o++){let h=i[o];if(!a.hasOwnProperty(h)||c[h]!==a[h])return!1}return!0}function am(c,a,i){let r=i.get(c);if(!r)return!1;let o=a.get(c);return o?r.forEach(h=>o.add(h)):a.set(c,r),i.delete(c),!0}var Ya=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(a,i)=>{};constructor(a,i,r){this._driver=i,this._normalizer=r,this._transitionEngine=new Ld(a.body,i,r),this._timelineEngine=new Ed(a.body,i,r),this._transitionEngine.onRemovalComplete=(o,h)=>this.onRemovalComplete(o,h)}registerTrigger(a,i,r,o,h){let p=a+"-"+o,y=this._triggerCache[p];if(!y){let w=[],k=[],I=sm(this._driver,h,w,k);if(w.length)throw Oh(o,w);y=Kf(o,I,this._normalizer),this._triggerCache[p]=y}this._transitionEngine.registerTrigger(i,o,y)}register(a,i){this._transitionEngine.register(a,i)}destroy(a,i){this._transitionEngine.destroy(a,i)}onInsert(a,i,r,o){this._transitionEngine.insertNode(a,i,r,o)}onRemove(a,i,r){this._transitionEngine.removeNode(a,i,r)}disableAnimations(a,i){this._transitionEngine.markElementAsDisabled(a,i)}process(a,i,r,o){if(r.charAt(0)=="@"){let[h,p]=hd(r),y=o;this._timelineEngine.command(h,i,p,y)}else this._transitionEngine.trigger(a,i,r,o)}listen(a,i,r,o,h){if(r.charAt(0)=="@"){let[p,y]=hd(r);return this._timelineEngine.listen(p,i,y,h)}return this._transitionEngine.listen(a,i,r,o,h)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(a){this._transitionEngine.afterFlushAnimationsDone(a)}};function cp(c,a){let i=null,r=null;return Array.isArray(a)&&a.length?(i=xd(a[0]),a.length>1&&(r=xd(a[a.length-1]))):a instanceof Map&&(i=xd(a)),i||r?new hp(c,i,r):null}var hp=(()=>{class c{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(i,r,o){this._element=i,this._startStyles=r,this._endStyles=o;let h=c.initialStylesByElement.get(i);h||c.initialStylesByElement.set(i,h=new Map),this._initialStyles=h}start(){this._state<1&&(this._startStyles&&Kt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Kt(this._element,this._initialStyles),this._endStyles&&(Kt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(ln(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ln(this._element,this._endStyles),this._endStyles=null),Kt(this._element,this._initialStyles),this._state=3)}}return c})();function xd(c){let a=null;return c.forEach((i,r)=>{mp(r)&&(a=a||new Map,a.set(r,i))}),a}function mp(c){return c==="display"||c==="position"}var Ao=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(a,i,r,o){this.element=a,this.keyframes=i,this.options=r,this._specialStyles=o,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let a=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,a,this.options),this._finalKeyframe=a.length?a[a.length-1]:new Map;let i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(a){let i=[];return a.forEach(r=>{i.push(Object.fromEntries(r))}),i}_triggerWebAnimation(a,i,r){return a.animate(this._convertKeyframesToObject(i),r)}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=a*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let a=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,o)=>{o!=="offset"&&a.set(o,this._finished?r:vo(this.element,o))}),this.currentSnapshot=a}triggerCallback(a){let i=a==="start"?this._onStartFns:this._onDoneFns;i.forEach(r=>r()),i.length=0}},Eo=class{validateStyleProperty(a){return!0}validateAnimatableStyleProperty(a){return!0}containsElement(a,i){return md(a,i)}getParentElement(a){return po(a)}query(a,i,r){return ud(a,i,r)}computeStyle(a,i,r){return vo(a,i)}animate(a,i,r,o,h,p=[]){let y=o==0?"both":"forwards",w={duration:r,delay:o,fill:y};h&&(w.easing=h);let k=new Map,I=p.filter(N=>N instanceof Ao);Gh(r,o)&&I.forEach(N=>{N.currentSnapshot.forEach((A,j)=>k.set(j,A))});let R=jh(i).map(N=>new Map(N));R=qh(a,R,k);let V=cp(a,R);return new Ao(a,R,w,V)}};var ko="@",hm="@.disabled",Po=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(a,i,r,o){this.namespaceId=a,this.delegate=i,this.engine=r,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(a){this.delegate.destroyNode?.(a)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(a,i){return this.delegate.createElement(a,i)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,i){this.delegate.appendChild(a,i),this.engine.onInsert(this.namespaceId,i,a,!1)}insertBefore(a,i,r,o=!0){this.delegate.insertBefore(a,i,r),this.engine.onInsert(this.namespaceId,i,a,o)}removeChild(a,i,r){this.parentNode(i)&&this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(a,i){return this.delegate.selectRootElement(a,i)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,i,r,o){this.delegate.setAttribute(a,i,r,o)}removeAttribute(a,i,r){this.delegate.removeAttribute(a,i,r)}addClass(a,i){this.delegate.addClass(a,i)}removeClass(a,i){this.delegate.removeClass(a,i)}setStyle(a,i,r,o){this.delegate.setStyle(a,i,r,o)}removeStyle(a,i,r){this.delegate.removeStyle(a,i,r)}setProperty(a,i,r){i.charAt(0)==ko&&i==hm?this.disableAnimations(a,!!r):this.delegate.setProperty(a,i,r)}setValue(a,i){this.delegate.setValue(a,i)}listen(a,i,r,o){return this.delegate.listen(a,i,r,o)}disableAnimations(a,i){this.engine.disableAnimations(a,i)}},Od=class extends Po{factory;constructor(a,i,r,o,h){super(i,r,o,h),this.factory=a,this.namespaceId=i}setProperty(a,i,r){i.charAt(0)==ko?i.charAt(1)=="."&&i==hm?(r=r===void 0?!0:!!r,this.disableAnimations(a,r)):this.engine.process(this.namespaceId,a,i.slice(1),r):this.delegate.setProperty(a,i,r)}listen(a,i,r,o){if(i.charAt(0)==ko){let h=up(a),p=i.slice(1),y="";return p.charAt(0)!=ko&&([p,y]=fp(p)),this.engine.listen(this.namespaceId,h,p,y,w=>{let k=w._data||-1;this.factory.scheduleListenerCallback(k,r,w)})}return this.delegate.listen(a,i,r,o)}};function up(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}function fp(c){let a=c.indexOf("."),i=c.substring(0,a),r=c.slice(a+1);return[i,r]}var Lo=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(a,i,r){this.delegate=a,this.engine=i,this._zone=r,i.onRemovalComplete=(o,h)=>{h?.removeChild(null,o)}}createRenderer(a,i){let r="",o=this.delegate.createRenderer(a,i);if(!a||!i?.data?.animation){let k=this._rendererCache,I=k.get(o);if(!I){let R=()=>k.delete(o);I=new Po(r,o,this.engine,R),k.set(o,I)}return I}let h=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,a);let y=k=>{Array.isArray(k)?k.forEach(y):this.engine.registerTrigger(h,p,a,k.name,k)};return i.data.animation.forEach(y),new Od(this,p,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(a,i,r){if(a>=0&&a<this._microtaskId){this._zone.run(()=>i(r));return}let o=this._animationCallbacksBuffer;o.length==0&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(h=>{let[p,y]=h;p(y)}),this._animationCallbacksBuffer=[]})}),o.push([i,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(a){this.engine.flush(),this.delegate.componentReplaced?.(a)}};var _p=(()=>{class c extends Ya{constructor(i,r,o){super(i,r,o)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||c)(wa(Ln),wa(Yn),wa(Hn))};static \u0275prov=vt({token:c,factory:c.\u0275fac})}return c})();function gp(){return new Mo}function yp(c,a,i){return new Lo(c,a,i)}var mm=[{provide:Hn,useFactory:gp},{provide:Ya,useClass:_p},{provide:ic,useFactory:yp,deps:[hc,Ya,On]}],wy=[{provide:Yn,useClass:Id},{provide:Dl,useValue:"NoopAnimations"},...mm],vp=[{provide:Yn,useFactory:()=>new Eo},{provide:Dl,useFactory:()=>"BrowserAnimations"},...mm];function um(){return nc("NgEagerAnimations"),[...vp]}var fm=(()=>{let a=class a{constructor(){this.cache=new Map}intercept(r,o){if(r.url.includes("xxxx")===!0||r.url.includes("yyyyyy")===!0){console.log(r.url);let h=this.cache.get(r.url);return h?Ti(h):o.handle(r).pipe(Qd(p=>{p instanceof fc&&this.cache.set(r.url,p)}))}return o.handle(r)}};a.\u0275fac=function(o){return new(o||a)},a.\u0275prov=vt({token:a,factory:a.\u0275fac,providedIn:"root"});let c=a;return c})();Yc.production&&void 0;mc(Qc,{providers:[$d(uc,cc,js,lo,Bc,to,Aa,Nc,_h,ph,ah,ih,Ks,oo,eo,io,Ea,zc,Vc,th,nn),{provide:pc,useClass:fm,multi:!0},{provide:Pi,useValue:{display:{dateInput:"YYYY-MM-DD"}}},_c(gc()),um()]}).catch(c=>console.error(c));
